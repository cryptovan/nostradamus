https://s-new.tradingview.com/static/bundles/45.02fe22388b947e135b46.js included in https://s-new.tradingview.com/static/bundles/vendors.b9ba67e170edb461926d.40bec9848c5a.js
webpackJsonp([45, 52], {
    744: function(e, t, i) {
        (function(t, n, o) {
            "use strict";
            function s(e) {
                var t, i;
                if (e && e.__esModule)
                    return e;
                if (t = {},
                null != e)
                    for (i in e)
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                return t.default = e,
                t
            }
            function r(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            function a(e, i) {
                var n, o = this, s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                this._options = (0,
                m.deepExtend)(this.defaults(), s),
                this._elContainer = i,
                this._elCanvas = null,
                this._ctx = null,
                this._onResizeThrottled = null,
                this._isResizeScheduled = !1,
                this._plots = (e || []).map(function(e) {
                    return s = (0,
                    m.deepExtend)({}, o._options.plot, e.options || {}),
                    new l(e.data,s)
                }),
                this._initCanvas(),
                n = function() {
                    return o._plots
                }
                ,
                this._xScale = new u(n,this._ctx,this._options.xScale),
                this._yScale = new p(n,this._ctx,this._options.yScale),
                this._plotArea = new d(n,this._ctx,this._xScale,this._yScale,{
                    canvas: this._elCanvas,
                    grid: this._options.grid,
                    plot: this._options.plot,
                    loading: this._options.loading,
                    overlayLines: this._options.overlayLines
                }),
                this.height = new t(0),
                this.width = new t(0),
                this._initSizeHandling(),
                this._onPlotsChanged(),
                !0 !== s.noAutoResize && this.bindOnResize()
            }
            function l(e, t) {
                this.id = (0,
                $.guid)(),
                this._options = (0,
                b.clone)(t),
                this._x = null,
                this._y = null,
                e && this.setData(e, !0),
                this.dataChanged = new n
            }
            function c(e, i, n, o) {
                this.originX = new t(e || 0),
                this.originY = new t(i || 0),
                this.width = new t(n || 0),
                this.height = new t(o || 0)
            }
            function d(e, t, i, n, o) {
                c.call(this),
                this.getWidgetPlots = e,
                this._ctx = t,
                this._xScale = i,
                this._yScale = n,
                this._elCanvas = o.canvas || this._ctx.canvas,
                this._options = o,
                this._elLoadingIndicator = null;
                var s = this._xScale._options.visible && "top" === this._xScale._options.position && !this._xScale._options.drawOverPlotArea ? this._xScale.height.value() : 0;
                this.originY.setValue(s),
                this.originY.setValue = function() {
                    S.logWarn("updating originY forbidden")
                }
            }
            function h(e, t, i) {
                c.call(this),
                this._ctx = t,
                this._options = i,
                this._min = null,
                this._max = null,
                this._tickMarks = [],
                this.getWidgetPlots = e
            }
            function u(e, t, i) {
                h.apply(this, arguments),
                this._series = [];
                var n = "number" == typeof this._options.height && this._options.height || this._options.paddingBottom + this._options.font.size + this._options.paddingTop;
                this.height.setValue(n),
                this.height.setValue = function() {
                    S.logWarn("updating height forbidden")
                }
                ,
                this.width.subscribe(this._updateSize.bind(this))
            }
            function p(e, t, i) {
                h.apply(this, arguments),
                this._min = null,
                this._max = null,
                this.height.subscribe(this._updateSize.bind(this))
            }
            var f = i(123)
              , g = r(f)
              , m = i(95)
              , _ = i(44)
              , v = i(7)
              , y = s(v)
              , b = i(13)
              , w = i(1)
              , $ = i(19)
              , C = i(52)
              , A = i(607)
              , x = i(823)
              , S = (0,
            w.getLogger)("Chart.MiniChartWidget");
            a.prototype.defaults = function() {
                return {
                    showMessage: !0,
                    minWidth: 100,
                    minHeight: 75,
                    bgColor: null,
                    grid: {
                        xIsVisible: !0,
                        yIsVisible: !0,
                        line: {
                            width: 1,
                            style: g.default.LINESTYLE_DASHED,
                            color: "#e9e9ea"
                        }
                    },
                    xScale: {
                        visible: !0,
                        position: "bottom",
                        isTimeScale: !0,
                        height: null,
                        paddingTop: 4,
                        paddingBottom: 4,
                        font: {
                            size: 10,
                            family: "Trebuchet MS",
                            color: "#83888d"
                        },
                        drawOverPlotArea: !0,
                        ingnoreFloats: !1,
                        bgColor: "transparent",
                        borderColor: "transparent",
                        drawTickMarkLine: !1,
                        maxTickMarkAmount: 10,
                        paddingHorz: 10,
                        fade: !1
                    },
                    yScale: {
                        visible: !0,
                        position: "right",
                        isPercentage: !1,
                        paddingLeft: 4,
                        paddingRight: 4,
                        marginInPercents: 10,
                        font: {
                            size: 10,
                            family: "Trebuchet MS",
                            color: "#83888d"
                        },
                        drawOverPlotArea: !0,
                        ingnoreFloats: !1,
                        bgColor: "transparent",
                        borderColor: "transparent",
                        drawTickMarkLine: !1,
                        fade: !1
                    },
                    plot: {
                        line: {
                            width: 2,
                            color: y.color.success,
                            colorGrowing: null,
                            colorFalling: null
                        },
                        belowLineFillStyle: "rgba(60, 188, 152, 0.05)",
                        belowLineFillStyleGrowing: null,
                        belowLineFillStyleFalling: null,
                        aboveLineFillStyle: null,
                        aboveLineFillStyleGrowing: null,
                        aboveLineFillStyleFalling: null,
                        last: {
                            visible: !1,
                            style: g.default.LINESTYLE_DASHED,
                            color: null,
                            colorGrowing: null,
                            colorFalling: null
                        }
                    },
                    loading: {
                        scale: .6,
                        length: 0,
                        radius: 20,
                        width: 4,
                        lines: 14,
                        corners: 1,
                        color: y.color.spinner,
                        speed: 1.5
                    }
                }
            }
            ,
            a.prototype._initCanvas = function() {
                var e = this;
                this._elCanvas = document.createElement("canvas"),
                (0,
                A.resizeCanvas)(this._elCanvas, {
                    w: this._options.minWidth,
                    h: this._options.minHeight
                }),
                this._elCanvas.style.display = "block",
                this._elContainer.appendChild(this._elCanvas),
                this._ctx = this._elCanvas.getContext("2d"),
                this._ctx._fillText = function(t, i, n) {
                    i = Math.round(i),
                    n = Math.round(n),
                    e._ctx.fillText(t, i, n)
                }
            }
            ,
            a.prototype._initSizeHandling = function() {
                function e(e) {
                    return !e._options.drawOverPlotArea && e._options.visible
                }
                function t() {
                    var t = e(l) ? a.height.value() - l.height.value() : a.height.value();
                    d.height.setValue(t)
                }
                function i() {
                    var t = e(c) ? a.width.value() - c.width.value() : a.width.value();
                    d.width.setValue(t)
                }
                function n() {
                    var t = 0;
                    "left" === c._options.position && e(c) && (t = c.width.value()),
                    d.originX.setValue(t)
                }
                function o() {
                    var t = 0;
                    "right" === c._options.position && (t = e(c) ? d.width.value() : d.width.value() - c.width.value()),
                    c.originX.setValue(t)
                }
                function s() {
                    var t = 0;
                    "left" === c._options.position && e(c) && (t = c.width.value()),
                    l.originX.setValue(t)
                }
                function r() {
                    var t = 0;
                    "bottom" === l._options.position && (t = e(l) ? d.height.value() : d.height.value() - l.height.value()),
                    l.originY.setValue(t)
                }
                var a = this
                  , l = this._xScale
                  , c = this._yScale
                  , d = this._plotArea;
                a.height.subscribe(t),
                l.height.subscribe(t),
                d.height.subscribe(function(e) {
                    c.height.setValue(e),
                    r()
                }),
                a.width.subscribe(i),
                c.width.subscribe(i),
                c.width.subscribe(n),
                c.width.subscribe(o),
                c.width.subscribe(s),
                d.width.subscribe(function(e) {
                    l.width.setValue(e),
                    o()
                })
            }
            ,
            a.prototype.resetSize = function() {
                var e = this._elContainer.clientHeight || this._options.minHeight
                  , t = this._elContainer.clientWidth || this._options.minWidth
                  , i = "left" === this._yScale._options.position ? this._yScale.width.value() : 0
                  , n = "top" === this._xScale._options.position ? this._xScale.height.value() : 0;
                this._xScale.originX.setValue(i),
                this._yScale.originY.setValue(n),
                (0,
                A.resizeCanvas)(this._elCanvas, {
                    w: t,
                    h: e
                }),
                this.height.setValue(e),
                this.width.setValue(t)
            }
            ,
            a.prototype.onResize = function() {
                this._isResizeScheduled = !1,
                this.resetSize(),
                this.draw()
            }
            ,
            a.prototype.bindOnResize = function() {
                var e = this;
                this._onResizeThrottled || (this._onResizeThrottled = function() {
                    e._isResizeScheduled || (e._isResizeScheduled = !0,
                    window.requestAnimationFrame(e.onResize.bind(e)))
                }
                ,
                window.addEventListener("resize", this._onResizeThrottled))
            }
            ,
            a.prototype.unbindOnResize = function() {
                this._onResizeThrottled && (window.removeEventListener("resize", this._onResizeThrottled),
                delete this._onResizeThrottled)
            }
            ,
            a.prototype.destroy = function() {
                this.unbindOnResize()
            }
            ,
            a.prototype.addPlot = function(e) {
                var t, i = e, n = this;
                if (!(i instanceof l)) {
                    if (!i.data)
                        return void S.logError("wrong plot format");
                    t = (0,
                    b.clone)(this._options.plot),
                    t = (0,
                    m.deepExtend)(t, i.options || {}),
                    i = new l(i.data,t)
                }
                if (!!!n._plots.filter(function(e) {
                    return e.id === i.id
                }).length)
                    return n._plots.push(i),
                    i.dataChanged.subscribe(n, n._onPlotsChanged),
                    n._onPlotsChanged(),
                    i
            }
            ,
            a.prototype._onPlotsChanged = function() {
                this.resetSize(),
                this._yScale.onPlotsChanged(),
                this._xScale.onPlotsChanged(),
                this.draw()
            }
            ,
            a.prototype.removePlot = function(e) {
                this._plots = this._plots.filter(function(t) {
                    return t.id !== e.id
                }),
                this._yScale.onPlotsChanged.call(this._yScale),
                this._xScale.onPlotsChanged.call(this._xScale),
                this.draw()
            }
            ,
            a.prototype.removeAllPlots = function() {
                this._plots = [],
                this._yScale.onPlotsChanged.call(this._yScale),
                this._xScale.onPlotsChanged.call(this._xScale),
                this.draw()
            }
            ,
            a.prototype.draw = function() {
                this._messageShown ? this.showMessage(this._messageShown) : (this._plotArea.draw(),
                this._yScale.draw(),
                this._xScale.draw())
            }
            ,
            a.prototype.showMessage = function(e) {
                this._options.showMessage && (this._showMessage(e),
                this._messageShown = e)
            }
            ,
            a.prototype.hideMessage = function(e) {
                delete this._messageShown,
                this.draw()
            }
            ,
            a.prototype._showMessage = function(e) {
                this._plotArea._hideLoading(),
                this._options.bgColor && "transparent" !== this._options.bgColor ? (this._ctx.fillStyle = this._options.bgColor,
                this._ctx.fillRect(0, 0, this.width.value(), this.height.value())) : this._ctx.clearRect(0, 0, this.width.value(), this.height.value());
                var t = this._ctx.measureText(e).width;
                this._ctx.fillStyle = this._options.xScale.font.color,
                this._ctx.font = this._options.xScale.font.size + "px " + this._options.xScale.font.family,
                this._ctx._fillText(e, (this.width.value() - t) / 2, (this.height.value() - this._options.xScale.font.size) / 2)
            }
            ,
            a.prototype.xScale = function() {
                return this._xScale
            }
            ,
            a.prototype.yScale = function() {
                return this._yScale
            }
            ,
            a.prototype.getContainer = function() {
                return this._elContainer
            }
            ,
            l.prototype.setData = function(e, t) {
                e.x && e.y || S.logError("wrong data format"),
                this._x = e.x,
                this._y = e.y,
                t || this.dataChanged.fire()
            }
            ,
            l.prototype.setOptions = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                  , t = arguments[1];
                this._options = (0,
                m.deepExtend)(this._options, e),
                t || this.dataChanged.fire()
            }
            ,
            l.prototype.x = function() {
                return this._x
            }
            ,
            l.prototype.y = function(e) {
                var t, i, n, o, s, r = this._y;
                if (!e)
                    return r;
                for (t = function() {
                    for (var e = 0, t = r.length; e < t; e++)
                        if (isNumber(r[e]))
                            return r[e]
                }(),
                i = t / 100,
                n = [],
                s = 0; s < r.length; s++)
                    o = r[s],
                    n.push(isNumber(o) ? o / i - 100 : void 0);
                return n
            }
            ,
            c.prototype.left = function() {
                return this.originX.value()
            }
            ,
            c.prototype.right = function() {
                return this.originX.value() + this.width.value()
            }
            ,
            c.prototype.top = function() {
                return this.originY.value()
            }
            ,
            c.prototype.bottom = function() {
                return this.originY.value() + this.height.value()
            }
            ,
            c.prototype.clearBack = function() {
                var e = this._ctx
                  , t = this.left() - .5
                  , i = this.top() - .5
                  , n = this.right() + .5
                  , o = this.bottom() + .5;
                this._options.bgColor && "transparent" !== this._options.bgColor ? (e.fillStyle = this._options.bgColor,
                e.fillRect(t, i, n, o)) : e.clearRect(t, i, n, o)
            }
            ,
            (0,
            b.inherit)(d, c),
            d.prototype.draw = function() {
                this.clearBack(),
                this._drawGrid(),
                this.getWidgetPlots().length ? (this._drawPlots(),
                this._drawOverlayLines(),
                this._hideLoading()) : this._options.loading.showWhileNoPlots && this._showLoading()
            }
            ,
            d.prototype._drawGrid = function(e) {
                var t, i, n, o, s, r, a, l = this._ctx, c = this.left(), d = this.right(), h = this.top(), u = this.bottom();
                if (l.lineWidth = this._options.grid.line.width,
                l.strokeStyle = this._options.grid.line.color,
                l.lineStyle = this._options.grid.line.style,
                s = this._xScale.tickMarks(),
                s.length && this._options.grid.xIsVisible)
                    for (r = 0; r < s.length; r++)
                        t = s[r].coordinate,
                        i = h,
                        n = s[r].coordinate,
                        o = u,
                        g.default.drawLine(l, t, i, n, o);
                if (a = this._yScale.tickMarks(),
                a.length && this._options.grid.yIsVisible)
                    for (r = 0; r < a.length; r++)
                        t = c,
                        i = a[r].coordinate,
                        n = d,
                        o = a[r].coordinate,
                        g.default.drawLine(l, t, i, n, o)
            }
            ,
            d.prototype._drawOverlayLine = function(e) {
                function t(e, t) {
                    var n = Math.round(e.valueToCoord(t));
                    return i % 2 == 0 && (n -= .5),
                    n
                }
                var i, n, o, s, r, a, l;
                "number" != typeof e.x && "number" != typeof e.y || (i = isNumber(e.width) && e.width || 1,
                n = e.color || "#000",
                o = e.style || g.default.LINESTYLE_SOLID,
                isNumber(e.x) ? s = r = t(this._xScale, e.x) : (s = this.left(),
                r = this.right()),
                isNumber(e.y) && !isNumber(e.x) ? a = l = t(this._yScale, e.y) : (a = this.top(),
                l = this.bottom()),
                this._ctx.lineWidth = i,
                this._ctx.strokeStyle = n,
                this._ctx.lineStyle = o,
                g.default.drawLine(this._ctx, s, a, r, l))
            }
            ,
            d.prototype._drawOverlayLines = function() {
                Array.isArray(this._options.overlayLines) && this._options.overlayLines.length && this._options.overlayLines.forEach(this._drawOverlayLine, this)
            }
            ,
            d.prototype._drawPlots = function() {
                var e, t, i, n, o, s, r, a, l, c, d, h = this.getWidgetPlots(), u = this._ctx, p = this._xScale.valueToCoord.bind(this._xScale), f = this._yScale.valueToCoord.bind(this._yScale), m = this.left(), _ = this.right(), v = this.top(), y = this.bottom();
                for (c = 0; c < h.length; c++)
                    e = h[c],
                    t = e.x(),
                    i = e.y(this._yScale._options.isPercentage),
                    n = i[0],
                    o = i[i.length - 1],
                    t = t.map(function(e, t) {
                        return p(t)
                    }),
                    i = i.map(f),
                    n < o ? (s = e._options.line.colorGrowing || e._options.line.color,
                    r = e._options.last.colorGrowing || s,
                    a = e._options.belowLineFillStyleGrowing || e._options.belowLineFillStyle,
                    l = e._options.aboveLineFillStyleGrowing || e._options.aboveLineFillStyle) : n > o ? (s = e._options.line.colorFalling || e._options.line.color,
                    r = e._options.last.colorFalling || s,
                    a = e._options.belowLineFillStyleFalling || e._options.belowLineFillStyle,
                    l = e._options.aboveLineFillStyleFalling || e._options.aboveLineFillStyle) : (s = e._options.line.color,
                    r = e._options.last.color || s,
                    a = e._options.belowLineFillStyle,
                    l = e._options.aboveLineFillStyle),
                    1 !== t.length ? (a && "transparent" !== a && this._drawNearAroundArea(u, t, i, y, a),
                    l && "transparent" !== l && this._drawNearAroundArea(u, t, i, v, l),
                    this._drawLine(u, t, i, e._options.line.width, s),
                    e._options.last.visible && (d = Math.round(f(o)),
                    u.lineStyle = e._options.last.style,
                    u.strokeStyle = r,
                    u.lineWidth = e._options.line.width,
                    g.default.drawLine(u, m, d, _, d))) : this._drawCircle(u, t[0], i[0], e._options.line.width, e._options.line.color)
            }
            ,
            d.prototype._drawNearAroundArea = function(e, t, i, n, o) {
                var s, r = function() {
                    for (var e = 0, n = t.length; e < n; e++)
                        if (isNumber(t[e]) && isNumber(i[e]))
                            return e;
                    return null
                }(), a = function() {
                    for (var e = t.length - 1; e >= 0; e--)
                        if (isNumber(t[e]) && isNumber(i[e]))
                            return e;
                    return null
                }();
                if (null !== r || null !== a) {
                    for (e.fillStyle = o,
                    e.beginPath(),
                    e.moveTo(t[r], n),
                    s = r; s <= a; s++)
                        isNumber(t[s]) && isNumber(i[s]) && e.lineTo(t[s], i[s]);
                    e.lineTo(t[a], n),
                    e.closePath(),
                    e.fill()
                }
            }
            ,
            d.prototype._drawLine = function(e, t, i, n, o) {
                var s, r = function() {
                    for (var e = 0, n = t.length; e < n; e++)
                        if (isNumber(t[e]) && isNumber(i[e]))
                            return e;
                    return null
                }(), a = function() {
                    for (var e = t.length - 1; e >= 0; e--)
                        if (isNumber(t[e]) && isNumber(i[e]))
                            return e;
                    return null
                }();
                if (null !== r || null !== a) {
                    for (e.lineWidth = n,
                    e.strokeStyle = o,
                    e.lineJoin = "round",
                    e.moveTo(t[r], i[r]),
                    e.beginPath(),
                    s = r; s <= a; s++)
                        isNumber(t[s]) && isNumber(i[s]) && e.lineTo(t[s], i[s]);
                    e.stroke()
                }
            }
            ,
            d.prototype._drawCircle = function(e, t, i, n, o) {
                isNumber(t) && isNumber(i) && (e.beginPath(),
                e.arc(t, i, n, 0, 2 * Math.PI, !1),
                e.fillStyle = o,
                e.fill())
            }
            ,
            d.prototype._showLoading = function() {
                this._elLoadingIndicatorVisible || (this._elLoadingIndicator || (this._elLoadingIndicator = document.createElement("div"),
                this._options.loading.noSpinner || (0,
                _.unifiedSpinner)("mini", {
                    lines: this._options.loading.lines,
                    scale: this._options.loading.scale,
                    color: this._options.loading.color || this._options.grid.line.color,
                    speed: this._options.loading.speed,
                    length: this._options.loading.length,
                    width: this._options.loading.width,
                    radius: this._options.loading.radius,
                    corners: this._options.loading.corners,
                    zIndex: 1
                }).spin(this._elLoadingIndicator),
                this._elCanvas.parentNode.appendChild(this._elLoadingIndicator)),
                (0,
                x.fadeOut)(this._elCanvas),
                (0,
                x.fadeIn)(this._elLoadingIndicator),
                this._elLoadingIndicatorVisible = !0)
            }
            ,
            d.prototype._hideLoading = function() {
                this._elLoadingIndicator && this._elLoadingIndicatorVisible && ((0,
                x.fadeIn)(this._elCanvas),
                (0,
                x.fadeOut)(this._elLoadingIndicator),
                this._elLoadingIndicatorVisible = !1)
            }
            ,
            (0,
            b.inherit)(h, c),
            h.prototype._calculateTickMarks = function(e, t, i) {
                function n(e) {
                    return Math.round(1e6 * e) / 1e6 + (b._options.isPercentage ? "%" : "")
                }
                function o(e) {
                    var o = n(e)
                      , s = b.valueToCoord(e);
                    return "vertical" !== i || d ? "vertical" === i && d ? s + .5 * t(o) : "horizontal" !== i || d ? "horizontal" === i && d ? s - .5 * t(o) : void 0 : s : s
                }
                function s(e) {
                    var o = n(e)
                      , s = b.valueToCoord(e);
                    return "vertical" !== i || d ? "vertical" === i && d ? s - .5 * t(o) : "horizontal" !== i || d ? "horizontal" === i && d ? s + .5 * t(o) : void 0 : s + t(o) : s - t(o)
                }
                function r(e, t) {
                    return "vertical" === i ? s(e) - c > o(t) : b.originX.value() + b._options.paddingHorz <= o(t) && o(t) <= b.originX.value() + b.width.value() - b._options.paddingHorz && s(e) + c < o(t)
                }
                function a(e, t) {
                    var i = Math.pow(10, t || 0).toFixed(t < 0 ? -t : 0);
                    return Math.round(e * i) / i
                }
                var l, c, d, h, u, p, f, g, m, _, v, y, b = this, w = b._min, $ = b._max;
                if (!e || null === w || null === $ || "function" != typeof t)
                    return [];
                if (i = i || "vertical",
                l = b._options.maxTickMarkAmount || 10,
                c = e / (l || 20),
                d = !b._options.drawOverPlotArea,
                h = [],
                w === $)
                    h = [w];
                else
                    for (; l > 0; ) {
                        for (u = ($ - w) / l,
                        p = Math.pow(10, Math.ceil(Math.log(u) / Math.LN10)),
                        p / 5 >= u && (p /= 5),
                        p / 2 >= u && (p /= 2),
                        f = Math.floor(w / p) * p,
                        f < w && (f = Math.ceil(w / p) * p),
                        h = [f]; (g = a(h[h.length - 1] + p, 12)) <= $; )
                            h.push(g);
                        for (m = !1,
                        _ = f,
                        y = 1; y < h.length; y++) {
                            if (v = h[y],
                            !r(_, v)) {
                                m = !0;
                                break
                            }
                            _ = v
                        }
                        if (!m)
                            break;
                        l--
                    }
                return !0 === b._options.ingnoreFloats && (h = h.filter(function(e) {
                    return a(e, 12) % 1 == 0
                })),
                h.map(function(e) {
                    return {
                        text: n(e),
                        coordinate: Math.round(b.valueToCoord(e))
                    }
                })
            }
            ,
            h.prototype.tickMarks = function() {
                return this._tickMarks
            }
            ,
            h.prototype.draw = function() {
                var e, t, i, n;
                if (this._options.visible) {
                    if (e = this._tickMarks,
                    t = this._ctx,
                    this._options.drawOverPlotArea && this._options.fade && this._drawFade(),
                    this._options.drawOverPlotArea || this.clearBack(),
                    !this._options.drawOverPlotArea && this._options.borderColor && "transparent" !== this._options.borderColor) {
                        switch (t.strokeStyle = this._options.borderColor,
                        t.lineWidth = 1,
                        t.beginPath(),
                        this._options.position) {
                        case "left":
                            t.moveTo(this.right(), this.top()),
                            t.lineTo(this.right(), this.bottom());
                            break;
                        case "right":
                            t.moveTo(this.left(), this.top()),
                            t.lineTo(this.left(), this.bottom());
                            break;
                        case "top":
                            t.moveTo(this.left(), this.bottom()),
                            t.lineTo(this.right(), this.bottom());
                            break;
                        case "bottom":
                            t.moveTo(this.left(), this.top()),
                            t.lineTo(this.right(), this.top())
                        }
                        t.stroke()
                    }
                    for (t.fillStyle = this._options.font.color,
                    t.font = this._options.font.size + "px " + this._options.font.family,
                    n = 0; n < e.length; n++)
                        i = e[n],
                        this._drawLabel(i.coordinate, i.text)
                }
            }
            ,
            h.prototype._drawFade = function(e) {
                var t, i, n;
                e = this._ctx,
                t = e.globalCompositeOperation,
                i = this._getFadeRectCoords(),
                n = this._getFadeGradient(e),
                n.addColorStop(0, "transparent"),
                n.addColorStop(1, "white"),
                e.globalCompositeOperation = "destination-out",
                e.fillStyle = n,
                e.fillRect(Math.min(i.startX, i.endX), Math.min(i.startY, i.endY), Math.abs(i.endX - i.startX), Math.abs(i.endY - i.startY)),
                e.globalCompositeOperation = t
            }
            ,
            (0,
            b.inherit)(u, h),
            u.prototype.valueToCoord = function(e) {
                return this._minIndex === this._maxIndex ? (this.right() - this.left()) / 2 : this.left() + this._pixelsPerValue * (e - this._minIndex)
            }
            ,
            u.prototype.onPlotsChanged = function() {
                this._updateSeries(),
                this._updateMinMax(),
                this._updateSize()
            }
            ,
            u.prototype._updateSize = function() {
                this._updatePixelsPerValue(),
                this._updateTickMarks()
            }
            ,
            u.prototype._updateSeries = function() {
                this._series = this.getWidgetPlots().length ? this.getWidgetPlots()[0].x() : []
            }
            ,
            u.prototype._updateMinMax = function() {
                this._min = this._series.length ? this._series[0] : null,
                this._max = this._series.length ? this._series[this._series.length - 1] : null,
                this._minIndex = 0,
                this._maxIndex = this._series.length
            }
            ,
            u.prototype._updatePixelsPerValue = function() {
                this._pixelsPerValue = this._maxIndex - this._minIndex > 1 ? this.width.value() / (this._maxIndex - this._minIndex - 1) : this.width.value()
            }
            ,
            u.prototype._updateTickMarks = function() {
                var e = this.width.value()
                  , t = function(e) {
                    return this._ctx.measureText(e).width
                }
                .bind(this);
                this._options.isTimeScale ? this._tickMarks = this._calculateTimeTickMarks(e, t) : this._tickMarks = this._calculateTickMarks(e, t, "horizontal")
            }
            ,
            u.prototype._calculateTimeTickMarks = function(e, t) {
                var i, n, o, s, r, a, l, c, d, h, u, p, f;
                if (!e || null === this._min || null === this._max)
                    return [];
                for (i = this._max - this._min,
                n = i / 86400,
                o = [],
                s = [],
                r = this._ctx,
                r.font = this._options.fontSize + "px " + this._options.fontFamily,
                r.fillStyle = this._options.fontColor,
                r.textBaseline = "bottom",
                n < 2 ? o = this._timeSplit(e, t, this._trimToHour, this._formatHour) : n < 3 ? o = this._timeSplit(e, t, this._trimToHour, this._formatDayHour) : n < 6 ? o = this._timeSplit(e, t, this._trimToDay, this._formatDay) : (a = i / 604800,
                a < 6 ? o = this._timeSplit(e, t, this._trimToWeek, this._formatDay) : (l = i / 2592e3,
                l < 15 ? (c = new Date(1e3 * this._max).getFullYear() === (new Date).getFullYear(),
                d = c ? this._formatMonthOnly : this._formatMonthYear,
                o = this._timeSplit(e, t, this._trimToMonth, d)) : (h = i / 31104e3,
                o = h < 6 ? this._timeSplit(e, t, this._trimToYear, this._formatYear) : h < 30 ? this._timeSplit(e, t, this._trimTo5Years, this._formatYear) : h < 50 ? this._timeSplit(e, t, this._trimTo10Years, this._formatYear) : this._timeSplit(e, t, this._trimTo25Years, this._formatYear)))),
                u = 0,
                p = o.length; u < p; u++)
                    f = this.valueToCoord(o[u].index),
                    s.push({
                        text: "" + o[u].text,
                        coordinate: f
                    });
                return s
            }
            ,
            u.prototype._timeSplit = function(e, t, i, n) {
                function o(i, n) {
                    var o = 0
                      , s = i
                      , r = i;
                    return $ && (o = t(n),
                    C ? (s = i - o / 2,
                    r = i + o / 2) : (s = i,
                    r = i + o)),
                    v + _ < s && r < v + e - _
                }
                var s, r, a, l, c, d, h, u, p, f, g, m, _ = this._options.paddingHorz, v = this.originX.value(), y = [], b = null, w = e / 20, $ = this._options.visible, C = !this._options.drawOverPlotArea;
                for (s = 0,
                r = this._series.length; s < r; s++)
                    a = new Date(1e3 * this._series[s]),
                    l = i.call(this, a),
                    c = n.call(this, l),
                    null !== b ? (d = this.valueToCoord(s),
                    h = o(d, c),
                    y.length && h && (u = this.valueToCoord(y[y.length - 1].index),
                    p = t(y[y.length - 1].text),
                    h = u + p + w <= d),
                    h && b.valueOf() !== l.valueOf() && (y.push({
                        dt: a,
                        index: s,
                        text: c
                    }),
                    b = l)) : b = l;
                for (f = y,
                g = 1; f.length > this._options.maxTickMarkAmount; )
                    for (g++,
                    f = [],
                    s = 0; s < y.length; s++)
                        s % g == 0 && f.push(y[s]);
                return 1 === f.length && (m = Math.floor(y.length / 2),
                f = [y[m]]),
                f
            }
            ,
            u.prototype._trimToHour = function(e) {
                return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours())
            }
            ,
            u.prototype._trimToDay = function(e) {
                return new Date(e.getFullYear(),e.getMonth(),e.getDate())
            }
            ,
            u.prototype._trimToMonth = function(e) {
                return new Date(e.getFullYear(),e.getMonth(),1)
            }
            ,
            u.prototype._trimToYear = function(e) {
                return new Date(e.getFullYear(),1,1)
            }
            ,
            u.prototype._trimToWeek = function(e) {
                var t = this._trimToDay(e);
                return new Date(t.valueOf() - 1e3 * t.getDay() * 3600 * 24)
            }
            ,
            u.prototype._trimTo5Years = function(e) {
                var t = e.getFullYear();
                return t -= t % 5,
                new Date(t,1,1)
            }
            ,
            u.prototype._trimTo10Years = function(e) {
                var t = e.getFullYear();
                return t -= t % 10,
                new Date(t,1,1)
            }
            ,
            u.prototype._trimTo25Years = function(e) {
                var t = e.getFullYear();
                return t -= t % 25,
                new Date(t,1,1)
            }
            ,
            u.prototype._formatHour = function(e) {
                var t = "" + e.getHours();
                return 1 === t.length && (t = "0" + t),
                t + ":00"
            }
            ,
            u.prototype._formatDayHour = function(e) {
                return this._formatDay(e) + " " + this._formatHour(e)
            }
            ,
            u.prototype._formatDay = function(e) {
                return o().month(e.getMonth()).format("MMM") + "," + e.getDate()
            }
            ,
            u.prototype._formatMonthOnly = function(e) {
                return o().month(e.getMonth()).format("MMM")
            }
            ,
            u.prototype._formatMonthYear = function(e) {
                return o().month(e.getMonth()).format("MMM") + ", " + e.getFullYear()
            }
            ,
            u.prototype._formatYear = function(e) {
                return e.getFullYear()
            }
            ,
            u.prototype._drawLabel = function(e, t) {
                var i, n, o = this._ctx, s = o.measureText(t).width, r = !this._options.drawOverPlotArea, a = r ? e - s / 2 : e;
                a = Math.min(this.right(), a),
                a = Math.max(this.left(), a),
                i = "bottom" === this._options.position ? this.bottom() - this._options.paddingBottom : this.top() + this._options.paddingTop + this._options.font.size,
                o.textBaseline = "bottom",
                o._fillText(t, Math.round(a), Math.round(i)),
                this._options.drawTickMarkLine && this._options.borderColor && "transparent" !== this._options.borderColor && (n = 2,
                o.strokeStyle = this._options.borderColor,
                o.beginPath(),
                "bottom" === this._options.position ? (o.moveTo(e, this.top()),
                o.lineTo(e, this.top() + n)) : (o.moveTo(e, this.bottom()),
                o.lineTo(e, this.bottom() - n)),
                o.stroke())
            }
            ,
            u.prototype._getFadeGradient = function(e) {
                var t = this._getFadeRectCoords();
                return e.createLinearGradient(t.startX, t.startY, t.startX, t.endY)
            }
            ,
            u.prototype._getFadeRectCoords = function() {
                var e = .5;
                switch (this._options.position) {
                case "top":
                    return {
                        startX: this.originX.value() + this.width.value(),
                        startY: this.originY.value() + (1 + e) * this.height.value(),
                        endX: this.originX.value(),
                        endY: this.originY.value()
                    };
                case "bottom":
                    return {
                        startX: this.originX.value(),
                        startY: this.originY.value() - e * this.height.value(),
                        endX: this.originX.value() + this.width.value(),
                        endY: this.originY.value() + this.height.value()
                    };
                default:
                    S.logError("Unknown X scale position")
                }
            }
            ,
            (0,
            b.inherit)(p, h),
            p.prototype.onPlotsChanged = function() {
                this._updateMinMax(),
                this._updateSize()
            }
            ,
            p.prototype._updateMinMax = function() {
                var e, t, i, n, o, s, r = this.getWidgetPlots(), a = null, l = null;
                if ("number" == typeof this._options.forceMin && isFinite(this._options.forceMin) && (a = this._options.forceMin,
                e = !0),
                "number" == typeof this._options.forceMax && isFinite(this._options.forceMax) && (l = this._options.forceMax,
                t = !0),
                !e || !t)
                    for (s = 0; s < r.length; s++)
                        o = r[s].y(this._options.isPercentage).filter(isNumber),
                        e || (i = (0,
                        C.min)(o),
                        (null === a || i < a) && (a = i)),
                        t || (n = (0,
                        C.max)(o),
                        (null === l || l < n) && (l = n));
                this._min = a,
                this._max = l
            }
            ,
            p.prototype._updatePixelsPerValue = function() {
                this._pixelsPerValue = (this.height.value() - 2 * this._margin()) / (this._max - this._min)
            }
            ,
            p.prototype._updateTickMarks = function() {
                var e = this.height.value()
                  , t = function() {
                    return this._options.font.size
                }
                .bind(this);
                this._tickMarks = this._calculateTickMarks(e, t, "vertical")
            }
            ,
            p.prototype._updateSize = function() {
                this._updatePixelsPerValue(),
                this._updateTickMarks();
                var e = "number" == typeof this._options.width && this._options.width || this._options.paddingLeft + this._maxLabelWidth() + this._options.paddingRight;
                this.width.setValue(e)
            }
            ,
            p.prototype._maxLabelWidth = function() {
                var e, t = 0;
                for (e = 0; e < this._tickMarks.length; e++)
                    t = Math.max(t, this._ctx.measureText(this._tickMarks[e].text).width);
                return t
            }
            ,
            p.prototype._margin = function() {
                return this.height.value() * this._options.marginInPercents / 100
            }
            ,
            p.prototype.valueToCoord = function(e) {
                return this._min === this._max ? (this.bottom() - this.top()) / 2 : this.height.value() - this._margin() - this._pixelsPerValue * (e - this._min)
            }
            ,
            p.prototype._drawLabel = function(e, t) {
                var i, n, o, s = this._ctx, r = !this._options.drawOverPlotArea, a = r ? e + this._options.font.size / 2 : e;
                a = Math.max(this.top() + this._options.font.size, a),
                a = Math.min(this.bottom(), a),
                i = "number" == typeof this._options.width && this._options.width || this._options.paddingLeft + this._maxLabelWidth() + this._options.paddingRight,
                n = "left" === this._options.position ? this.left() + i - this._ctx.measureText(t).width - this._options.paddingRight : this.right() - i + this._options.paddingLeft,
                s.textBaseline = "bottom",
                s._fillText(t, n, a),
                this._options.drawTickMarkLine && (o = 2,
                this._options.borderColor && "transparent" !== this._options.borderColor && (s.strokeStyle = this._options.borderColor),
                s.beginPath(),
                "left" === this._options.position ? (s.moveTo(this.right(), e),
                s.lineTo(this.right() - o, e)) : (s.moveTo(this.left(), e),
                s.lineTo(this.left() + o, e)),
                s.stroke())
            }
            ,
            p.prototype._getFadeGradient = function(e) {
                var t = this._getFadeRectCoords();
                return e.createLinearGradient(t.startX, t.startY, t.endX, t.startY)
            }
            ,
            p.prototype._getFadeRectCoords = function() {
                var e = .2;
                switch (this._options.position) {
                case "left":
                    return {
                        startX: this.originX.value() + (1 + e) * this.width.value(),
                        startY: this.originY.value() + this.height.value(),
                        endX: this.originX.value(),
                        endY: this.originY.value()
                    };
                case "right":
                    return {
                        startX: this.originX.value() - e * this.width.value(),
                        startY: this.originY.value(),
                        endX: this.originX.value() + this.width.value(),
                        endY: this.originY.value() + this.height.value()
                    };
                default:
                    S.logError("Unknown Y scale position")
                }
            }
            ,
            e.exports = a
        }
        ).call(t, i(10), i(4), i(37))
    },
    745: function(e, t) {
        "use strict";
        function i(e) {
            return "forex" === (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "stock") ? l : c[e] || a
        }
        function n(e) {
            return "stock" === e ? s : "forex" === e ? r : s
        }
        function o(e) {
            switch (e) {
            case "stock":
            case "futures":
                return d;
            case "forex":
                return h;
            case "crypto":
            case "crypto_mkt":
                return u;
            case "cfd":
                return p
            }
            return d
        }
        var s = {
            america: {
                flag: "us",
                title: $.t("USA"),
                stocks: ["NASDAQ", "NYSE", "NYSE ARCA", "OTC"]
            },
            uk: {
                flag: "gb",
                title: $.t("United Kingdom"),
                stocks: ["LSE", "LSIN"]
            },
            india: {
                flag: "in",
                title: $.t("India"),
                stocks: ["BSE", "NSE"]
            },
            spain: {
                flag: "es",
                title: $.t("Spain"),
                stocks: ["BME"]
            },
            russia: {
                flag: "ru",
                title: $.t("Russia"),
                stocks: ["MOEX"]
            },
            australia: {
                flag: "au",
                title: $.t("Australia"),
                stocks: ["ASX"]
            },
            brazil: {
                flag: "br",
                title: $.t("Brazil"),
                stocks: ["BMFBOVESPA"]
            },
            japan: {
                flag: "jp",
                title: $.t("Japan"),
                stocks: ["FSE", "NAG", "SSE", "TSE"]
            },
            newzealand: {
                flag: "nz",
                title: $.t("New Zealand"),
                stocks: ["NZX"]
            },
            turkey: {
                flag: "tr",
                title: $.t("Turkey"),
                stocks: ["BIST"]
            },
            switzerland: {
                flag: "ch",
                title: $.t("Switzerland"),
                stocks: ["SIX"]
            },
            hongkong: {
                flag: "hk",
                title: $.t("Hong Kong"),
                stocks: ["HKEX"]
            },
            taiwan: {
                flag: "tw",
                title: $.t("Taiwan"),
                stocks: ["TWSE"]
            },
            singapore: {
                flag: "sg",
                title: $.t("Singapore"),
                stocks: ["SGX"]
            },
            euronext: {
                flag: "eu",
                title: $.t("European Union"),
                stocks: ["EURONEXT"]
            },
            mexico: {
                flag: "mx",
                title: $.t("Mexico"),
                stocks: ["BMV"]
            },
            canada: {
                flag: "ca",
                title: $.t("Canada"),
                stocks: ["TSX", "TSXV"]
            },
            germany: {
                flag: "de",
                title: $.t("Germany"),
                stocks: ["FWB", "SWB", "XETR"]
            },
            poland: {
                flag: "pl",
                title: $.t("Poland"),
                stocks: ["GPW"]
            },
            italy: {
                flag: "it",
                title: $.t("Italy"),
                stocks: ["MIL"]
            },
            argentina: {
                flag: "ar",
                title: $.t("Argentina"),
                stocks: ["BCBA"]
            }
        }
          , r = {
            forex: {
                flag: "forex",
                title: $.t("Forex"),
                stocks: ["Oanda"]
            }
        }
          , a = "america"
          , l = "forex"
          , c = {
            au: "australia",
            br: "brazil",
            de_DE: "germany",
            es: "spain",
            ja: "japan",
            in: "india",
            it: "italy",
            pl: "poland",
            ru: "russia",
            tr: "turkey",
            uk: "uk",
            zh_TW: "taiwan"
        }
          , d = {
            america: {
                market_cap_basic: [5e7, 3e8, 2e9, 1e10, 5e10, 1e11, 2e11],
                volume: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 5e7],
                average_volume_10d_calc: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 5e7],
                relative_volume: [0, 5, 10, 15, 20, 50, 75, 100],
                change_abs: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                change: [-50, -20, -10, 0, 10, 20, 50],
                pre_change: [-50, -20, -10, 0, 10, 20, 50],
                open: [10, 20, 50, 100],
                close: [10, 20, 50, 100],
                rtc: [10, 20, 50, 100],
                high: [10, 20, 50, 100],
                low: [10, 20, 50, 100],
                gap: [-50, -20, -10, 0, 10, 20, 50],
                price_earnings_ttm: [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50],
                price_earnings_to_growth_ttm: [0, 1, 2, 3],
                price_sales_ratio: [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50],
                return_on_assets: [-50, -30, -20, -15, -10, -5, 0, 5, 10, 15, 20, 30, 50],
                return_on_equity: [-50, -30, -20, -15, -10, -5, 0, 5, 10, 15, 20, 30, 50],
                debt_to_equity: [.1, .2, .3, .4, .5, .6, .7, .8, .9, 1],
                current_ratio: [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50],
                quick_ratio: [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50],
                price_book_fq: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                price_book_ratio: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                price_free_cash_flow_ttm: [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 60, 70, 80, 90, 100],
                beta_1_year: [-2, -1.5, -1, -.5, 0, .5, 1, 1.5, 2],
                operating_margin: [-50, -20, -10, 0, 10, 20, 50],
                earnings_per_share_basic_ttm: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                ebitda: [5e5, 1e6, 5e6, 1e7, 5e7, 1e8, 5e8, 1e9, 2e9, 5e9, 1e10, 25e9, 5e10],
                change_from_open: [-50, -20, -10, 0, 10, 20, 50],
                "Perf.W": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.1M": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.3M": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.6M": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.Y": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.YTD": [-50, -20, -10, 0, 10, 20, 50],
                "Volatility.W": [0, 5, 10, 15, 20, 30, 50, 70],
                "Volatility.M": [0, 5, 10, 15, 20, 30, 50, 70],
                "Volatility.D": [0, 5, 10, 15, 20, 30, 50, 70],
                ADX: [10, 20, 30, 40, 50, 60, 70, 80, 90],
                ATR: [.25, .5, .75, 1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5],
                Mom: [-30, -20, -15, -10, -5, 0, 5, 10, 15, 20, 30],
                goodwill: [5e7, 3e8, 2e9, 1e10, 2e11],
                cash_ratio: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                net_debt: [-2e11, -1e10, -2e9, -3e8, -5e7, 5e7, 3e8, 2e9, 1e10, 2e11],
                total_debt: [5e7, 3e8, 2e9, 1e10, 2e11],
                revenue_per_employee: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 5e7],
                return_on_invested_capital: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                after_tax_margin: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                pre_tax_margin: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                gross_margin: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                dividends_paid: [-2e11, -1e10, -2e9, -3e8, -5e7, 0],
                dividends_yield: [0, 5, 10, 15, 20, 25, 50, 100],
                basic_eps_net_income: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                net_income: [-5e10, -1e10, -2e9, -3e8, -5e7, 5e7, 3e8, 2e9, 1e10, 2e11],
                gross_profit: [-2e11, -1e10, -2e9, -3e8, -5e7, 5e7, 3e8, 2e9, 1e10, 2e11],
                number_of_shareholders: [100, 500, 1e3, 1e4, 1e5, 1e6],
                total_shares_outstanding_fundamental: [5e7, 3e8, 2e9, 1e10, 2e11],
                total_assets: [5e7, 3e8, 2e9, 1e10, 2e11],
                total_current_assets: [5e7, 3e8, 2e9, 1e10, 2e11],
                total_revenue: [0, 5e7, 3e8, 2e9, 1e10, 2e11, 5e11],
                expected_annual_dividends: [5, 10, 15, 20],
                dividends_per_share_fq: [0, 10, 20, 50],
                earnings_per_share_diluted_ttm: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                earnings_per_share_forecast_next_fq: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                earnings_per_share_fq: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                enterprise_value_ebitda_ttm: [-5e3, -1e3, 0, 1e3, 5e3],
                enterprise_value_fq: [-2e11, -1e10, -2e9, -3e8, -5e7, 5e7, 3e8, 2e9, 1e10, 2e11],
                eps_surprise_fq: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                eps_surprise_percent_fq: [-30, -20, -15, -10, -5, 0, 5, 10, 15, 20, 30],
                price_revenue_ttm: [0, 5, 10, 50, 100, 1e3, 5e3, 1e4],
                number_of_employees: [100, 500, 1e3, 1e4, 1e5, 1e6],
                last_annual_eps: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                last_annual_revenue: [5e7, 3e8, 2e9, 1e10, 2e11],
                CCI20: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                ChaikinMoneyFlow: [-1, -.9, -.8, -.7, -.6, -.5, -.4, -.3, -.2, -.1, 0, .1, .2, .3, .4, .5, .6, .7, .8, .9, 1],
                MoneyFlow: [0, 5, 10, 15, 25, 50, 100],
                "Value.Traded": [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 5e7, 1e8, 5e8, 75e7]
            },
            uk: {
                average_volume_10d_calc: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 5e7, 1e8],
                open: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3, 1e4, 2e4],
                close: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3, 1e4, 2e4],
                high: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3, 1e4, 2e4],
                low: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3, 1e4, 2e4],
                current_ratio: [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 75, 100],
                total_shares_outstanding_fundamental: [5e6, 1e7, 5e7, 3e8, 2e9, 1e10, 5e10, 1e11],
                dividends_paid: [-2e11, -15e10, -5e10, -1e10, -2e9, -3e8, -1e8, -5e7, 0],
                gross_profit: [-1e10, -2e9, -3e8, -5e7, 5e7, 3e8, 2e9, 1e10, 2e11]
            },
            india: {
                market_cap_basic: [1e7, 5e7, 3e8, 2e9, 1e10, 2e11, 5e11, 1e12, 2e12],
                open: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3, 1e4, 2e4],
                close: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3, 1e4, 2e4],
                high: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3, 1e4, 2e4],
                low: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3, 1e4, 2e4],
                quick_ratio: [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 100, 500],
                change_from_open: [-20, -10, 0, 10, 20, 50],
                revenue_per_employee: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 5e7, 1e8, 3e8, 5e8],
                dividends_paid: [-5e10, -1e10, -2e9, -3e8, -1e8, -5e7, 0],
                gross_profit: [-1e10, -2e9, -3e8, -5e7, 5e7, 3e8, 2e9, 1e10, 2e11],
                total_shares_outstanding_fundamental: [5e7, 3e8, 2e9, 5e9, 1e10],
                number_of_employees: [100, 500, 1e3, 1e4, 1e5, 2e5]
            },
            spain: {
                market_cap_basic: [1e7, 3e7, 5e7, 1e8, 3e8, 5e8, 1e9, 1e10, 5e10],
                volume: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7],
                relative_volume: [0, 1, 2, 3, 4, 5, 10],
                change: [-10, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 10],
                pre_change: [-10, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 10],
                gap: [-10, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 10],
                quick_ratio: [0, 1, 2, 3, 4, 5, 10],
                ebitda: [5e5, 1e6, 5e6, 1e7, 5e7, 1e8, 5e8, 1e9, 2e9, 5e9, 1e10, 15e9],
                "Volatility.W": [0, 5, 10, 15, 20],
                "Volatility.M": [0, 5, 10, 15, 20],
                "Volatility.D": [0, 5, 10, 15, 20],
                Mom: [-15, -10, -5, 0, 5, 10, 15],
                goodwill: [5e7, 3e8, 2e9, 1e10, 25e9],
                revenue_per_employee: [1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7],
                dividends_paid: [-5e9, -2e9, -3e8, -1e8, -5e7, 0],
                gross_profit: [-2e9, -3e8, -5e7, 5e7, 3e8, 2e9, 1e10, 2e10],
                price_revenue_ttm: [0, 5, 10, 50, 100]
            },
            russia: {
                market_cap_basic: [1e7, 5e7, 3e8, 2e9, 1e10, 2e11, 5e11, 1e12, 2e12],
                volume: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 5e7, 1e8, 25e7, 5e8, 1e9],
                average_volume_10d_calc: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 5e7, 1e8, 25e7, 5e8, 1e9],
                relative_volume: [0, 1, 2, 3, 4, 5, 10, 15, 20, 50],
                change: [-30, -20, -15, -10, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 10, 15, 20, 30],
                pre_change: [-30, -20, -15, -10, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 10, 15, 20, 30],
                open: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3],
                close: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3],
                high: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3],
                low: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3],
                gap: [-10, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 10],
                quick_ratio: [0, 1, 2, 3, 4, 5, 10, 15, 20],
                price_free_cash_flow_ttm: [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50],
                change_from_open: [-10, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 10],
                "Volatility.W": [0, 5, 10, 15, 20, 30, 50],
                "Volatility.M": [0, 5, 10, 15, 20, 30, 50],
                "Volatility.D": [0, 5, 10, 15, 20, 30, 50],
                goodwill: [1e7, 5e7, 3e8, 2e9, 1e10, 1e11],
                revenue_per_employee: [1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 3e7],
                dividends_paid: [-15e10, -5e10, -1e10, -2e9, -3e8, -1e8, -5e7, 0],
                gross_profit: [-1e10, -2e9, -3e8, -5e7, 5e7, 3e8, 2e9, 1e10, 2e11],
                price_revenue_ttm: [0, 5, 10, 50, 100],
                number_of_employees: [100, 500, 1e3, 1e4, 1e5, 5e5],
                last_annual_eps: [-100, -50, -20, -10, 0, 10, 20, 50, 100, 500, 1e3]
            },
            australia: {
                market_cap_basic: [5e7, 3e8, 2e9, 1e10, 5e10, 1e11, 15e10],
                earnings_per_share_basic_ttm: [-10, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 10],
                ebitda: [5e5, 1e6, 5e6, 1e7, 5e7, 1e8, 5e8, 1e9, 2e9, 5e9, 1e10, 2e10],
                dividends_paid: [-5e9, -2e9, -3e8, -5e7, 0]
            },
            brazil: {
                market_cap_basic: [1e7, 5e7, 3e8, 2e9, 1e10, 2e11, 5e11, 1e12],
                volume: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7],
                average_volume_10d_calc: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7],
                relative_volume: [0, 1, 2, 3, 4, 5, 10, 15, 20, 50],
                open: [10, 20, 50, 100, 200, 500, 1e3],
                close: [10, 20, 50, 100, 200, 500, 1e3],
                high: [10, 20, 50, 100, 200, 500, 1e3],
                low: [10, 20, 50, 100, 200, 500, 1e3],
                earnings_per_share_basic_ttm: [-50, -20, -10, 0, 10, 20, 50],
                change_from_open: [-20, -10, 0, 10, 20],
                "Volatility.W": [0, 5, 10, 15, 20],
                "Volatility.M": [0, 5, 10, 15, 20],
                goodwill: [5e7, 3e8, 2e9, 1e10],
                cash_ratio: [-50, -20, -10, 0, 10, 20, 50],
                revenue_per_employee: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6],
                dividends_paid: [-1e10, -2e9, -3e8, -1e8, -5e7, 0],
                net_income: [-2e10, -1e10, -2e9, -3e8, -5e7, 5e7, 3e8, 2e9, 1e10, 2e10],
                gross_profit: [-1e8, -5e7, 5e7, 3e8, 2e9, 1e10, 1e11],
                total_shares_outstanding_fundamental: [5e7, 3e8, 2e9, 5e9, 1e10],
                total_current_assets: [5e7, 3e8, 2e9, 1e10, 1e11],
                total_revenue: [0, 5e7, 3e8, 2e9, 1e10, 2e11],
                price_revenue_ttm: [0, 5, 10, 50, 100, 1e3],
                number_of_employees: [100, 500, 1e3, 1e4, 1e5],
                last_annual_eps: [-100, -50, -20, -10, 0, 10, 20]
            },
            japan: {
                market_cap_basic: [1e7, 5e7, 3e8, 2e9, 1e10, 2e11, 5e11, 1e12, 2e12, 5e12],
                price_revenue_ttm: [0, 5, 10, 50, 100],
                relative_volume: [0, 5, 10, 15, 20, 50],
                change: [-30, -20, -10, 0, 10, 20, 30],
                pre_change: [-30, -20, -10, 0, 10, 20, 30],
                open: [10, 20, 50, 100, 200, 500, 1e3, 1e4, 1e5],
                close: [10, 20, 50, 100, 200, 500, 1e3, 1e4, 1e5],
                high: [10, 20, 50, 100, 200, 500, 1e3, 1e4, 1e5],
                low: [10, 20, 50, 100, 200, 500, 1e3, 1e4, 1e5],
                gap: [-20, -10, 0, 10, 20],
                ebitda: [5e5, 1e6, 5e6, 1e7, 5e7, 1e8, 5e8, 1e9, 2e9, 5e9, 1e10, 25e9, 5e10, 1e11, 2e11, 5e11],
                change_from_open: [-20, -10, -5, 0, 5, 10, 20],
                "Volatility.W": [0, 5, 10, 15, 20, 30],
                "Volatility.M": [0, 5, 10, 15, 20, 30],
                "Volatility.D": [0, 5, 10, 15, 20, 30],
                revenue_per_employee: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 5e7]
            },
            newzealand: {
                market_cap_basic: [5e7, 3e8, 2e9, 1e10, 5e10, 1e11],
                volume: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7],
                average_volume_10d_calc: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7],
                relative_volume: [0, 1, 2, 3, 4, 5, 10, 15],
                open: [5, 10, 20, 50],
                close: [5, 10, 20, 50],
                high: [5, 10, 20, 50],
                low: [5, 10, 20, 50],
                current_ratio: [0, 5, 10, 15, 20, 25],
                quick_ratio: [0, 5, 10, 15, 20, 25],
                earnings_per_share_basic_ttm: [-10, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 10],
                ebitda: [5e5, 1e6, 5e6, 1e7, 5e7, 1e8, 5e8, 1e9, 2e9, 5e9, 1e10, 2e10],
                change_from_open: [-20, -15, -10, -5, 0, 5, 10, 15, 20],
                "Volatility.W": [0, 1, 2, 3, 4, 5, 10, 15, 20, 30],
                "Volatility.M": [0, 1, 2, 3, 4, 5, 10, 15, 20, 30],
                "Volatility.D": [0, 1, 2, 3, 4, 5, 10, 15, 20, 30],
                ATR: [.25, .5, .75, 1, 1.5, 2],
                Mom: [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5],
                goodwill: [25e6, 5e7, 1e8, 25e7, 5e8, 2e9],
                cash_ratio: [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5],
                revenue_per_employee: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6],
                dividends_paid: [-5e9, -2e9, -3e8, -5e7, 0],
                basic_eps_net_income: [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5],
                net_income: [-5e10, -1e10, -2e9, -3e8, -5e7, 5e7, 3e8, 2e9, 5e9],
                gross_profit: [0, 25e6, 5e7, 25e7, 5e8, 2e9, 1e10],
                total_shares_outstanding_fundamental: [5e7, 3e8, 2e9, 1e10],
                total_current_assets: [5e7, 3e8, 2e9, 1e10],
                total_revenue: [0, 5e7, 3e8, 2e9, 1e10, 25e9],
                earnings_per_share_diluted_ttm: [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5],
                earnings_per_share_forecast_next_fq: [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5],
                earnings_per_share_fq: [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5],
                price_revenue_ttm: [0, 5, 10, 50, 100],
                number_of_employees: [100, 500, 1e3, 1e4, 5e4],
                last_annual_eps: [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5],
                "Value.Traded": [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7]
            },
            turkey: {
                market_cap_basic: [5e6, 1e7, 5e7, 3e8, 2e9, 1e10, 3e10, 5e10],
                relative_volume: [0, 1, 2, 3, 4, 5, 10, 15],
                change: [-20, -15, -10, -5, 0, 5, 10, 15, 20],
                pre_change: [-20, -15, -10, -5, 0, 5, 10, 15, 20],
                gap: [-20, -10, -5, 0, 5, 10, 20],
                "Volatility.W": [0, 1, 2, 3, 4, 5, 10, 15, 20, 30],
                "Volatility.M": [0, 1, 2, 3, 4, 5, 10, 15, 20, 30],
                "Volatility.D": [0, 1, 2, 3, 4, 5, 10, 15, 20, 30],
                "Value.Traded": [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 5e7]
            },
            switzerland: {
                volume: [5e4, 1e5, 25e4, 5e5, 75e4, 1e6, 2e6, 5e6],
                average_volume_10d_calc: [5e4, 1e5, 25e4, 5e5, 75e4, 1e6, 2e6, 5e6],
                change: [-20, -15, -10, -5, 0, 5, 10, 15, 20],
                pre_change: [-20, -15, -10, -5, 0, 5, 10, 15, 20]
            },
            hongkong: {
                market_cap_basic: [5e7, 3e8, 2e9, 1e10, 5e10, 1e11, 2e11, 25e10, 5e11, 75e10, 1e12],
                volume: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 5e7, 1e8, 25e7],
                average_volume_10d_calc: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 5e7, 1e8, 25e7]
            },
            taiwan: {
                change: [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                pre_change: [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                "Volatility.W": [0, 1, 2, 3, 4, 5, 10, 15, 20, 30],
                "Volatility.M": [0, 1, 2, 3, 4, 5, 10, 15, 20, 30],
                "Volatility.D": [0, 1, 2, 3, 4, 5, 10, 15, 20, 30]
            },
            euronext: {},
            mexico: {
                market_cap_basic: [1e7, 5e7, 3e8, 2e9, 1e10, 2e11, 5e11, 1e12, 2e12],
                change: [-30, -20, -15, -10, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 10, 15, 20, 30],
                pre_change: [-30, -20, -15, -10, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 10, 15, 20, 30],
                open: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3],
                close: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3],
                high: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3],
                low: [10, 20, 50, 100, 200, 500, 1e3, 2e3, 5e3]
            },
            canada: {
                volume: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7]
            },
            singapore: {},
            germany: {
                volume: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 25e6]
            },
            poland: {
                volume: [5e4, 1e5, 2e5, 5e5, 75e4, 1e6, 2e6]
            },
            italy: {},
            argentina: {
                volume: [5e4, 1e5, 2e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7]
            }
        }
          , h = {
            forex: {
                change_abs: [-50, -20, -10, 0, 10, 20, 50],
                change: [-5, -1, -.5, -.4, -.3, -.2, -.1, 0, -.1, .2, .3, .4, .5, 1, 5],
                bid: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                ask: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                open: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                close: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                high: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                low: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                change_from_open: [-5, -2.5, -1, -.5, -.4, -.3, -.2, -.1, 0, -.1, .2, .3, .4, .5, 1, 2.5, 5],
                "Perf.W": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.1M": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.3M": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.6M": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.Y": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.YTD": [-50, -20, -10, 0, 10, 20, 50],
                "Volatility.W": [0, 5, 10, 15, 20, 30, 50, 70],
                "Volatility.M": [0, 5, 10, 15, 20, 30, 50, 70],
                "Volatility.D": [0, 5, 10, 15, 20, 30, 50, 70],
                ADX: [10, 20, 30, 40, 50, 60, 70, 80, 90],
                ATR: [.25, .5, .75, 1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5],
                Mom: [-30, -20, -15, -10, -5, 0, 5, 10, 15, 20, 30],
                CCI20: [-100, -50, -20, -10, 0, 10, 20, 50, 100]
            }
        }
          , u = {
            crypto: {
                market_cap_calc: [1e4, 1e5, 5e5, 1e6, 1e7, 3e8, 2e9, 1e10, 5e10, 1e11],
                market_cap_diluted_calc: [1e4, 1e5, 5e5, 1e6, 1e7, 3e8, 2e9, 1e10, 5e10, 1e11],
                total_shares_outstanding: [1e6, 5e6, 1e7, 5e7, 1e8, 5e8, 1e9, 5e9, 1e10, 5e10, 1e11],
                total_shares_diluted: [1e6, 5e6, 1e7, 5e7, 1e8, 5e8, 1e9, 5e9, 1e10, 5e10, 1e11],
                total_value_traded: [1e4, 1e5, 5e5, 1e6, 1e7, 3e8, 2e9, 1e10, 5e10],
                volume: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 5e7],
                average_volume_10d_calc: [5e4, 1e5, 5e5, 75e4, 1e6, 2e6, 5e6, 1e7, 2e7, 5e7, 3e8, 5e8, 2e9],
                relative_volume: [0, .5, 1, 1.5, 2, 2.5, 5],
                change_abs: [-100, -50, -20, -10, 0, 10, 20, 50, 100],
                change: [-50, -20, -10, 0, 10, 20, 50],
                bid: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                ask: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                open: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                close: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                high: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                low: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                change_from_open: [-10, -5, -4, -3, -2, -1, -.5, 0, .5, 1, 2, 3, 4, 5, 10],
                "Perf.W": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.1M": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.3M": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.6M": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.Y": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.YTD": [-50, -20, -10, 0, 10, 20, 50],
                "Volatility.W": [0, 5, 10, 15, 20, 30, 50, 70],
                "Volatility.M": [0, 5, 10, 15, 20, 30, 50, 70],
                "Volatility.D": [0, 5, 10, 15, 20, 30, 50, 70],
                ADX: [10, 20, 30, 40, 50, 60, 70, 80, 90],
                ATR: [.25, .5, .75, 1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5],
                Mom: [-30, -20, -15, -10, -5, 0, 5, 10, 15, 20, 30],
                CCI20: [-100, -50, -20, -10, 0, 10, 20, 50, 100]
            }
        }
          , p = {
            cfd: {
                volume: [1e3, 5e3, 1e4, 5e4, 1e5],
                average_volume_10d_calc: [5e3, 1e4, 5e4, 1e5, 1e6, 1e7, 1e8, 1e9],
                relative_volume: [0, .1, .2, .3, .4, .5, .6, .7, .8, .9, 1],
                change_abs: [-50, -20, -10, 0, 10, 20, 50],
                change: [-5, -1, -.5, -.4, -.3, -.2, -.1, 0, -.1, .2, .3, .4, .5, 1, 5],
                bid: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                ask: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                open: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                close: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                high: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                low: [5, 10, 20, 50, 100, 500, 1e3, 5e3],
                change_from_open: [-5, -4, -3, -2, -1, -.5, 0, .5, 1, 2, 3, 4, 5],
                "Perf.W": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.1M": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.3M": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.6M": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.Y": [-50, -20, -10, 0, 10, 20, 50],
                "Perf.YTD": [-50, -20, -10, 0, 10, 20, 50],
                "Volatility.W": [0, 5, 10, 15, 20, 30, 50, 70],
                "Volatility.M": [0, 5, 10, 15, 20, 30, 50, 70],
                "Volatility.D": [0, 5, 10, 15, 20, 30, 50, 70],
                ADX: [10, 20, 30, 40, 50, 60, 70, 80, 90],
                ATR: [.25, .5, .75, 1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5],
                Mom: [-30, -20, -15, -10, -5, 0, 5, 10, 15, 20, 30],
                CCI20: [-100, -50, -20, -10, 0, 10, 20, 50, 100]
            }
        }
          , f = {
            america: {
                volume_leaders: {
                    volume: [15e6, 1e100]
                },
                most_volatile: {
                    "Volatility.D": [20, 1e100]
                },
                unusual_volume: {
                    relative_volume: [10, 1e100]
                },
                earnings_this_week: {
                    earnings_release_next_date: $.t("This Week")
                }
            },
            uk: {
                most_volatile: {
                    "Volatility.D": [30, 1e100]
                }
            },
            india: {
                volume_leaders: {
                    volume: [1e7, 1e100]
                },
                unusual_volume: {
                    relative_volume: [20, 1e100]
                }
            },
            spain: {
                volume_leaders: {
                    volume: [1e6, 1e100]
                },
                top_gainers: {
                    change: [0, 1e100]
                },
                top_losers: {
                    change: [-1e100, 0]
                },
                most_volatile: {
                    "Volatility.D": [5, 1e100]
                },
                unusual_volume: {
                    relative_volume: [1, 1e100]
                }
            },
            russia: {
                top_gainers: {
                    change: [0, 1e100]
                },
                top_losers: {
                    change: [-1e100, 0]
                },
                most_volatile: {
                    "Volatility.D": [15, 1e100]
                },
                unusual_volume: {
                    relative_volume: [5, 1e100]
                }
            },
            australia: {
                most_volatile: {
                    "Volatility.D": [30, 1e100]
                }
            },
            brazil: {
                top_gainers: {
                    change: [0, 1e100]
                },
                top_losers: {
                    change: [-1e100, 0]
                },
                volume_leaders: {
                    volume: [5e6, 1e100]
                },
                unusual_volume: {
                    relative_volume: [5, 1e100]
                }
            },
            japan: {},
            newzealand: {
                volume_leaders: {
                    volume: [1e6, 1e100]
                },
                top_gainers: {
                    change: [0, 1e100]
                },
                top_losers: {
                    change: [-1e100, 0]
                },
                most_volatile: {
                    "Volatility.D": [10, 1e100]
                },
                unusual_volume: {
                    relative_volume: [2, 1e100]
                }
            },
            turkey: {
                volume_leaders: {
                    volume: [5e6, 1e100]
                },
                top_gainers: {
                    change: [0, 1e100]
                },
                top_losers: {
                    change: [-1e100, 0]
                },
                most_volatile: {
                    "Volatility.D": [15, 1e100]
                },
                unusual_volume: {
                    relative_volume: [2, 1e100]
                }
            },
            switzerland: {
                volume_leaders: {
                    volume: [5e5, 1e100]
                },
                top_gainers: {
                    change: [0, 1e100]
                },
                top_losers: {
                    change: [-1e100, 0]
                }
            },
            hongkong: {
                volume_leaders: {
                    volume: [5e6, 1e100]
                }
            },
            taiwan: {
                top_gainers: {
                    change: [0, 1e100]
                },
                top_losers: {
                    change: [-1e100, 0]
                },
                most_volatile: {
                    "Volatility.D": [10, 1e100]
                }
            },
            euronext: {
                volume_leaders: {
                    volume: [5e6, 1e100]
                }
            },
            mexico: {
                volume_leaders: {
                    volume: [5e6, 1e100]
                },
                top_gainers: {
                    change: [0, 1e100]
                },
                top_losers: {
                    change: [-1e100, 0]
                },
                most_volatile: {
                    "Volatility.D": [10, 1e100]
                },
                unusual_volume: {
                    relative_volume: [5, 1e100]
                }
            },
            canada: {
                volume_leaders: {
                    volume: [2e6, 1e100]
                }
            },
            singapore: {},
            germany: {
                volume_leaders: {
                    volume: [2e6, 1e100]
                }
            },
            poland: {
                volume_leaders: {
                    volume: [2e5, 1e100]
                },
                top_gainers: {
                    change: [0, 1e100]
                },
                top_losers: {
                    change: [-1e100, 0]
                },
                most_volatile: {
                    "Volatility.D": [10, 1e100]
                },
                unusual_volume: {
                    relative_volume: [5, 1e100]
                }
            },
            italy: {
                top_gainers: {
                    change: [0, 1e100]
                },
                top_losers: {
                    change: [-1e100, 0]
                },
                most_volatile: {
                    "Volatility.D": [10, 1e100]
                },
                unusual_volume: {
                    relative_volume: [5, 1e100]
                }
            },
            argentina: {
                top_gainers: {
                    change: [0, 1e100]
                },
                top_losers: {
                    change: [-1e100, 0]
                },
                volume_leaders: {
                    volume: [2e5, 1e100]
                },
                unusual_volume: {
                    relative_volume: [2, 1e100]
                }
            },
            forex: {
                most_capitalized: null,
                earnings_this_week: null,
                volume_leaders: null,
                most_volatile: {
                    "Volatility.D": [1, 1e100]
                },
                unusual_volume: null
            }
        };
        e.exports = {
            getMarketsByScreenerType: n,
            getMarketFieldValuesByScreenerType: o,
            marketFilterValues: f,
            getDefaultMarketForLocale: i
        }
    },
    802: function(e, t, i) {
        "use strict";
        function n(e, t) {
            t = t.replace(/(\s+)/, "(<[^>]+>)*$1(<[^>]+>)*");
            var i = RegExp("(" + t + ")", "gi");
            return e.replace(i, "<mark>$1</mark>")
        }
        function o(e, t, i, n) {
            var o, s, r, a, l, c;
            if (Array.isArray(t) && 0 === t.length)
                throw Error("Empty value");
            if (o = i && i[e] ? i[e] : t,
            "function" == typeof X[e].customFilterCondition && (s = X[e].customFilterCondition(o))) {
                if (Array.isArray(s))
                    for (r in s)
                        a = s[r],
                        a.left && X[a.left] && (a.left = (0,
                        _.getFieldNameWithResolution)(a.left, n));
                else
                    s.left && X[s.left] && (s.left = (0,
                    _.getFieldNameWithResolution)(s.left, n));
                return s
            }
            return "function" == typeof X[e].mutateFilterConditionValue && (l = X[e].mutateFilterConditionValue(o)) && (o = l),
            c = Array.isArray(o),
            o && "object" === (void 0 === o ? "undefined" : g(o)) && !c ? {
                left: e,
                operation: o.operator,
                right: o.value || null
            } : {
                left: (0,
                _.getFieldNameWithResolution)(e, n),
                operation: c ? "in_range" : "equal",
                right: c ? o.slice() : o
            }
        }
        function s(e, t, i, n) {
            var s, r, a;
            if (O(t) && O(i))
                throw Error("Empty value");
            switch (s = {},
            r = void 0,
            X[e].control) {
            case "range":
                if (t && "object" === (void 0 === t ? "undefined" : g(t)) && !Array.isArray(t)) {
                    s = {
                        left: e,
                        operation: t.operator,
                        right: t.value || null
                    };
                    break
                }
                a = i ? Array.isArray(i[e]) && i[e].slice() || [] : t.slice(),
                s = {
                    left: (0,
                    _.getFieldNameWithResolution)(e, n),
                    operation: "in_range",
                    right: a
                },
                2 === a.length && isNumber(a[0]) && isNumber(a[1]) && (-1e100 == +a[0] ? s = {
                    left: (0,
                    _.getFieldNameWithResolution)(e, n),
                    operation: "eless",
                    right: a[1]
                } : 1e100 == +a[1] && (s = {
                    left: (0,
                    _.getFieldNameWithResolution)(e, n),
                    operation: "egreater",
                    right: a[0]
                }));
                break;
            case "condition":
                if (O(t.operator))
                    throw Error("Empty value operator");
                if (O(t.value))
                    throw Error("Empty value");
                r = i && i[e].value ? i[e].value : t.value,
                X[r] && (r = (0,
                _.getFieldNameWithResolution)(r, n)),
                s = {
                    left: (0,
                    _.getFieldNameWithResolution)(e, n),
                    operation: i && i[e].operator ? i[e].operator : t.operator,
                    right: r
                };
                break;
            case "toggle":
                s = {
                    left: (0,
                    _.getFieldNameWithResolution)(e, n),
                    operation: i && i[e].operator ? i[e].operator : X[e].filter.operator,
                    right: i && i[e].value ? i[e].value : X[e].filter.value
                };
                break;
            case "select":
                s = o(e, t, i, n);
                break;
            default:
                "select" === X[e].filterCondition && (s = o(e, t, i, n))
            }
            return s
        }
        function r(e, t) {
            for (var i in e)
                e[i].disabled = e[i].category === M || t.includes(i)
        }
        function a(e, t) {
            r(e, (t || []).concat("type", "industry", "market_cap_basic", "rtc", "pre_change", "beta_1_year", "Value.Traded", "MoneyFlow", "ChaikinMoneyFlow", "gap"))
        }
        function l(e, t) {
            switch (e) {
            case "forex":
                a(t, ["exchange", "volume", "relative_volume", "average_volume_10d_calc"]);
                break;
            case "futures":
            case "cfd":
                a(t, ["bid", "ask"]);
                break;
            case "crypto":
                a(t)
            }
        }
        function c(e) {
            var t, i, n, o;
            delete X.name.control;
            for (t in D)
                t in X && (X[t].title = D[t][0],
                X[t].shortTitle = D[t][1]);
            if ("forex" === e && (X.country.title = $.t("Region"),
            X.country.shortTitle = $.t("Region"),
            delete X.sector.control,
            X.sector.title = $.t("Group"),
            X.sector.shortTitle = $.t("Group"),
            X.sector.resettableFilter = !1,
            X.sector.mutateFilterConditionValue = function(e) {
                return !!e && (Array.isArray(e) ? e.map(function(e) {
                    return V(e, R)
                }) : V(e, R))
            }
            ),
            "stock" === e) {
                X.name.control = "select",
                X.sector.control = "select",
                X.sector.resettableFilter = !0,
                delete X.sector.mutateFilterConditionValue,
                i = ["bid", "ask"];
                for (n in X)
                    X[n].disabled = i.includes(n)
            }
            "crypto_mkt" === e && (X.total_shares_outstanding.title = $.t("Available Coins"),
            X.total_shares_outstanding.shortTitle = $.t("Avail Coins"),
            X.sector.title = $.t("Name"),
            X.sector.shortTitle = $.t("Name")),
            l(e, X),
            o = ["market_cap_calc", "market_cap_diluted_calc", "total_shares_outstanding", "total_shares_diluted", "total_value_traded"],
            o.forEach(function(t) {
                X[t].disabled = "crypto_mkt" !== e
            })
        }
        function d(e) {
            return H("" + e, J) || e
        }
        function h() {
            X.earnings_release_next_time = {
                isSingle: !0,
                title: $.t("Time"),
                shortTitle: $.t("Time"),
                disableHeaderControl: !0,
                align: "right",
                additionalColumns: ["earnings_release_next_date", "earnings_release_time"],
                mutateDisplayValue: function(e, t, i) {
                    var n, o = j(X.earnings_release_next_date.value, P);
                    return o && (n = U(o)) && n[0] <= 1e3 * t && 1e3 * t <= n[1] ? d(e) : i ? d(i) : "—"
                },
                category: M
            },
            X.close.title = $.t("Last"),
            X.close.shortTitle = $.t("Last"),
            delete X.earnings_per_share_forecast_next_fq.control,
            X.earnings_per_share_forecast_next_fq.title = $.t("EPS Estimate"),
            X.earnings_per_share_forecast_next_fq.shortTitle = $.t("EPS Estimate"),
            X.earnings_per_share_forecast_next_fq.disableHeaderControl = !0,
            X.earnings_per_share_forecast_next_fq.align = "right",
            X.earnings_per_share_forecast_next_fq.additionalColumns = ["earnings_release_next_date", "earnings_per_share_forecast_fq"],
            X.earnings_per_share_forecast_next_fq.mutateDisplayValue = function(e, t, i) {
                var n, o = j(X.earnings_release_next_date.value, P);
                return o && (n = U(o)) && n[0] <= 1e3 * t && 1e3 * t <= n[1] ? e : i ? x.format(i) : "—"
            }
            ,
            X.earnings_per_share_fq.title = $.t("Reported EPS"),
            X.earnings_per_share_fq.shortTitle = $.t("Reported EPS"),
            X.eps_surprise_fq = {
                control: "range",
                title: D.eps_surprise_fq[0],
                shortTitle: D.eps_surprise_fq[1],
                formatter: x,
                filterFormatter: S,
                category: M,
                highlightChange: !0
            },
            X.eps_surprise_percent_fq = {
                control: "range",
                title: D.eps_surprise_percent_fq[0],
                shortTitle: D.eps_surprise_percent_fq[1],
                formatter: F,
                filterFormatter: E,
                category: M,
                highlightChange: !0
            },
            p()
        }
        function u() {
            X.earnings_per_share_fq.mutateDisplayValue = function() {
                return Z
            }
            ,
            X.eps_surprise_fq.mutateDisplayValue = function() {
                return Z
            }
            ,
            X.eps_surprise_percent_fq.mutateDisplayValue = function() {
                return Z
            }
        }
        function p() {
            ee(X.earnings_per_share_fq),
            ee(X.eps_surprise_fq),
            ee(X.eps_surprise_percent_fq)
        }
        function f(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "stock"
              , i = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
            if (!e)
                return null;
            if (["crypto_mkt"].includes(t) && e.cryptoFormatter)
                return e.cryptoFormatter;
            if (["forex", "crypto", "crypto_mkt", "cfd", "futures"].includes(t)) {
                if (e.forexFilterFormatter)
                    return e.forexFilterFormatter;
                if (e.forexFormatter)
                    return e.forexFormatter
            }
            return i && e.filterFormatter ? e.filterFormatter : e.formatter ? e.formatter : null
        }
        var g, m, _, v, y, b, w, C, A, x, S, k, F, E, T, D, B, M, L, R, I, P, O, N, W, V, z, H, j, U, q, K, G, Y, X, Q, J, Z, ee;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.earningsCalendarHeaderFields = t.fields = t.getFieldByFilterLeftOp = t.isValueAbsent = t.translatedMetaFieldNames = void 0,
        g = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        ,
        t.conditionByField = s,
        t.applyScreenerTypeToFields = c,
        t.applyEarningsCalendarToFields = h,
        t.applyEarningsCalendarNextReleaseDate = u,
        t.applyEarningsCalendarReleaseDate = p,
        t.getFieldFormatter = f,
        m = i(1873),
        _ = i(885),
        v = i(35).PriceFormatter,
        y = i(111).VolumeFormatter,
        b = i(107).PercentageFormatter,
        w = i(1941).TimeSpanDateFormatter,
        C = i(1942).TrailingZerosPriceFormatter,
        A = new C(1e6,1,!1),
        x = new v(100,1,!1),
        S = new v(1,1,!1),
        k = new y,
        F = new b,
        E = new b(1),
        T = new w,
        D = i(1057),
        B = 1,
        M = 2,
        L = 3,
        R = t.translatedMetaFieldNames = {
            Any: $.t("Any"),
            Exotic: $.t("Exotic"),
            Major: $.t("Major"),
            Minor: $.t("Minor"),
            Africa: $.t("Africa"),
            Americas: $.t("Americas"),
            Asia: $.t("Asia"),
            Europe: $.t("Europe"),
            Pacific: $.t("Pacific"),
            "Middle East": $.t("Middle East")
        },
        I = [{
            key: "Candle.3BlackCrows",
            name: $.t("Three Black Crows")
        }, {
            key: "Candle.3WhiteSoldiers",
            name: $.t("Three White Soldiers")
        }, {
            key: "Candle.AbandonedBaby.Bearish",
            name: $.t("Abandoned Baby Bearish")
        }, {
            key: "Candle.AbandonedBaby.Bullish",
            name: $.t("Abandoned Baby Bullish")
        }, {
            key: "Candle.Doji",
            name: $.t("Doji")
        }, {
            key: "Candle.Doji.Dragonfly",
            name: $.t("Dragonfly Doji")
        }, {
            key: "Candle.Doji.Gravestone",
            name: $.t("Gravestone Doji")
        }, {
            key: "Candle.Engulfing.Bearish",
            name: $.t("Bearish Engulfing")
        }, {
            key: "Candle.Engulfing.Bullish",
            name: $.t("Bullish Engulfing")
        }, {
            key: "Candle.EveningStar",
            name: $.t("Evening Star")
        }, {
            key: "Candle.Hammer",
            name: $.t("Hammer")
        }, {
            key: "Candle.HangingMan",
            name: $.t("Hanging Man")
        }, {
            key: "Candle.Harami.Bearish",
            name: $.t("Bearish Harami")
        }, {
            key: "Candle.Harami.Bullish",
            name: $.t("Bullish Harami")
        }, {
            key: "Candle.InvertedHammer",
            name: $.t("Inverted Hammer")
        }, {
            key: "Candle.Kicking.Bearish",
            name: $.t("Kicking Bearish")
        }, {
            key: "Candle.Kicking.Bullish",
            name: $.t("Kicking Bullish")
        }, {
            key: "Candle.LongShadow.Lower",
            name: $.t("Long Lower Shadow")
        }, {
            key: "Candle.LongShadow.Upper",
            name: $.t("Long Upper Shadow")
        }, {
            key: "Candle.Marubozu.Black",
            name: $.t("Marubozu Black")
        }, {
            key: "Candle.Marubozu.White",
            name: $.t("Marubozu White")
        }, {
            key: "Candle.MorningStar",
            name: $.t("Morning Star")
        }, {
            key: "Candle.ShootingStar",
            name: $.t("Shooting Star")
        }, {
            key: "Candle.SpinningTop.Black",
            name: $.t("Spinning Top Black")
        }, {
            key: "Candle.SpinningTop.White",
            name: $.t("Spinning Top White")
        }, {
            key: "Candle.TriStar.Bearish",
            name: $.t("Tri Star Bearish")
        }, {
            key: "Candle.TriStar.Bullish",
            name: $.t("Tri Star Bullish")
        }],
        P = [{
            key: "today",
            name: $.t("Today")
        }, {
            key: "tomorrow",
            name: $.t("Tomorrow")
        }, {
            key: "yesterday",
            name: $.t("Yesterday")
        }, {
            key: "next_five",
            name: $.t("Next 5 Days")
        }, {
            key: "prev_five",
            name: $.t("Previous 5 Days")
        }, {
            key: "this_week",
            name: $.t("This Week")
        }, {
            key: "next_week",
            name: $.t("Next Week")
        }, {
            key: "prev_week",
            name: $.t("Previous Week")
        }, {
            key: "this_month",
            name: $.t("This Month")
        }],
        O = t.isValueAbsent = function(e) {
            return null === e || void 0 === e || "" === ("" + e).trim()
        }
        ,
        t.getFieldByFilterLeftOp = function(e) {
            return X.hasOwnProperty(e) ? X[e] : I.find(function(t) {
                return t.key === e
            }) ? X.candlestick : P.find(function(t) {
                return t.key === e
            }) ? X.earnings_release_next_date : void 0
        }
        ,
        N = function(e, t) {
            return {
                left: "earnings_release_date,earnings_release_next_date",
                operation: "in_range",
                right: [e / 1e3, t / 1e3]
            }
        }
        ,
        W = function(e) {
            return e.setUTCHours(0),
            e.setUTCMinutes(0),
            e.setUTCSeconds(0),
            e.setUTCMilliseconds(0),
            e
        }
        ,
        V = function(e, t) {
            return Object.keys(t).find(function(i) {
                return t[i] === e
            }) || e
        }
        ,
        z = function(e, t, i, n) {
            var o = n.filter(function(t) {
                return t[e] === i
            });
            return o.length > 0 ? o[0][t] : ""
        }
        ,
        H = function(e, t) {
            return z("key", "name", e, t)
        }
        ,
        j = function(e, t) {
            return z("name", "key", e, t)
        }
        ,
        U = function(e) {
            var t, i, n, o = W(new Date), s = void 0, r = void 0;
            return "today" === e && (s = o.getTime(),
            o.setUTCDate(o.getUTCDate() + 1),
            r = o.getTime()),
            "tomorrow" === e && (o.setUTCDate(o.getUTCDate() + 1),
            s = o.getTime(),
            o.setUTCDate(o.getUTCDate() + 1),
            r = o.getTime()),
            "yesterday" === e && (r = o.getTime(),
            o.setUTCDate(o.getUTCDate() - 1),
            s = o.getTime()),
            "next_five" === e && (o.setUTCDate(o.getUTCDate() + 1),
            s = o.getTime(),
            o.setUTCDate(o.getUTCDate() + 5),
            r = o.getTime()),
            "prev_five" === e && (r = o.getTime(),
            o.setUTCDate(o.getUTCDate() - 5),
            s = o.getTime()),
            "this_week" === e && (t = (o.getUTCDay() + 6) % 7,
            o.setUTCDate(o.getUTCDate() - t),
            s = o.getTime(),
            o.setUTCDate(o.getUTCDate() + 7),
            r = o.getTime()),
            "next_week" === e && (i = (o.getUTCDay() + 6) % 7 - 7,
            o.setUTCDate(o.getUTCDate() - i),
            s = o.getTime(),
            o.setUTCDate(o.getUTCDate() + 7),
            r = o.getTime()),
            "prev_week" === e && (n = (o.getUTCDay() + 6) % 7 + 7,
            o.setUTCDate(o.getUTCDate() - n),
            s = o.getTime(),
            o.setUTCDate(o.getUTCDate() + 7),
            r = o.getTime()),
            "this_month" === e && (o.setUTCDate(1),
            s = o.getTime(),
            o.setMonth(o.getMonth() + 1),
            r = o.getTime()),
            !(!s || !r) && [s, r]
        }
        ,
        q = {
            dr: [$.t("Depositary Receipt"), $.t("DR"), {
                nowrap: !0
            }],
            fund: [$.t("ETF"), $.t("ETF")],
            common: [$.t("Common Stock"), ""],
            preferred: [$.t("Preferred Stock"), $.t("P")]
        },
        K = function(e, t) {
            return X.type.disabled || !X.type.checked ? "" : '<span class="tv-screener__type" title="' + X.type.mutateDisplayValue(e, t) + '"><sup>' + X.type.mutateDisplayValue(e, t, !0) + "</sup></span>"
        }
        ,
        G = function(e, t) {
            if (X.description.disabled || !X.description.checked)
                return "";
            var i = e ? ("" + e).toLowerCase() : "";
            return X.name.searchValue && (i = n(i, X.name.searchValue)),
            '<span class="tv-screener__description">' + i + " " + t + "</span>"
        }
        ,
        Y = ["close", "high", "low"],
        X = t.fields = {
            name: {
                fixed: !0,
                control: "select",
                category: B,
                inplaceEditorLeftOffset: 10,
                filterTitle: D.type[0],
                rangeTitles: q,
                additionalColumns: ["description", "name", "type", "subtype"],
                additionalFormatter: function(e, t, i, n) {
                    var o = K(i, n);
                    return G(e, o)
                },
                mutateDisplayValue: function(e) {
                    var t, i;
                    return X.name.searchValue ? (t = $(e),
                    i = n(t.text().trim(), X.name.searchValue),
                    t.html(i),
                    t[0].outerHTML + " ") : e
                },
                tooltip: function(e, t) {
                    return X.description.disabled || !X.description.checked ? t : e
                },
                useDefaultRange: !0,
                defaultRange: ["dr", "fund", "common", "preferred"],
                customFilterCondition: function(e) {
                    return X.type.customFilterCondition(e)
                },
                search: !0
            },
            description: {
                title: $.t("description"),
                hiddenColumn: !0
            },
            exchange: {
                control: "select",
                category: B
            },
            sector: {
                category: B,
                filterCondition: "select",
                sourceRange: ["Major", "Minor", "Exotic"],
                mutateDisplayValue: function(e) {
                    var t, i;
                    return X.sector.searchValue ? (t = $(e),
                    i = n(t.text().trim(), X.sector.searchValue),
                    t.html(i),
                    t[0].outerHTML + " ") : e
                }
            },
            index: {
                control: "select",
                isSingle: !0,
                category: B,
                hideSetupColumn: !0,
                groupFilter: !0,
                customFilterCondition: function(e) {
                    var t = X.index.sourceRange.find(function(t) {
                        return t.name === e
                    });
                    return !!t && {
                        type: "index",
                        values: [t.id]
                    }
                }
            },
            industry: {
                control: "select",
                category: B
            },
            country: {
                control: "select",
                category: B
            },
            type: {
                hiddenColumn: !0,
                filterCondition: "select",
                category: B,
                rangeTitles: q,
                sortableColumn: !1,
                resettableFilter: !1,
                useDefaultRange: !0,
                defaultRange: ["dr", "fund", "common", "preferred"],
                additionalColumns: ["subtype"],
                mutateDisplayValue: function(e, t) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    return "stock" !== e || "common" !== t && "preferred" !== t ? q[e] ? q[e][i ? 1 : 0] : e : q[t][i ? 1 : 0]
                },
                customFilterCondition: function(e) {
                    var t, i, n, o, s, r = {
                        dr: [""],
                        fund: ["", "etf", "unit"],
                        common: ["common"],
                        preferred: ["preferred"]
                    };
                    if (!Array.isArray(e))
                        return "common" === e || "preferred" === e ? [{
                            left: "type",
                            operation: "equal",
                            right: "stock"
                        }, {
                            left: "subtype",
                            operation: "equal",
                            right: e
                        }] : [{
                            left: "type",
                            operation: "equal",
                            right: e
                        }];
                    t = !1;
                    for (i in e)
                        "common" !== e[i] && "preferred" !== e[i] || (t = !0);
                    if (t) {
                        n = [],
                        o = [];
                        for (s in e)
                            "common" === e[s] || "preferred" === e[s] ? n.push("stock") : n.push(e[s]),
                            o = o.concat(r[e[s]]);
                        return [{
                            left: "type",
                            operation: "in_range",
                            right: n.filter(function(e, t, i) {
                                return i.indexOf(e) === t
                            })
                        }, {
                            left: "subtype",
                            operation: "in_range",
                            right: o.filter(function(e, t, i) {
                                return i.indexOf(e) === t
                            })
                        }]
                    }
                    return !1
                }
            },
            market_cap_basic: {
                control: "range",
                formatter: k,
                category: B
            },
            market_cap_calc: {
                control: "range",
                formatter: k,
                category: B
            },
            market_cap_diluted_calc: {
                control: "range",
                formatter: k,
                category: B
            },
            volume: {
                control: "range",
                formatter: k,
                category: B
            },
            average_volume_10d_calc: {
                title: D.average_volume[0],
                shortTitle: D.average_volume[1],
                control: "range",
                formatter: k,
                category: B
            },
            relative_volume: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: B
            },
            change: {
                control: "condition",
                hiddenOperators: ["crosses", "crosses_above", "crosses_below"],
                conditionFields: {
                    stock: ["pre_change"],
                    default: []
                },
                formatter: F,
                category: L,
                highlightChange: !0
            },
            change_abs: {
                control: "condition",
                hiddenOperators: ["crosses", "crosses_above", "crosses_below"],
                conditionFields: [],
                formatter: A,
                forexFormatter: A,
                category: L,
                highlightChange: !0
            },
            pre_change: {
                control: "condition",
                hiddenOperators: ["crosses", "crosses_above", "crosses_below"],
                conditionFields: ["change"],
                formatter: F,
                filterFormatter: E,
                category: L,
                highlightChange: !0
            },
            bid: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                forexFormatter: A,
                category: B,
                mutateDisplayValue: function(e) {
                    return "<span>" + e + "</span>"
                }
            },
            ask: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                forexFormatter: A,
                category: B,
                mutateDisplayValue: function(e) {
                    return "<span>" + e + "</span>"
                }
            },
            open: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                forexFormatter: A,
                category: B
            },
            close: {
                control: "condition",
                hiddenOperators: ["crosses", "crosses_above", "crosses_below"],
                conditionFields: {
                    stock: ["rtc", "open"],
                    forex: ["bid", "ask", "open"],
                    default: ["open"]
                },
                formatter: x,
                filterFormatter: S,
                forexFormatter: A,
                category: B,
                mutateDisplayValue: function(e) {
                    return "<span>" + e + "</span>"
                }
            },
            high: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                forexFormatter: A,
                category: B
            },
            low: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                forexFormatter: A,
                category: B
            },
            gap: {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: L,
                highlightChange: !0
            },
            price_earnings_ttm: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            price_sales_ratio: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            return_on_assets: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            return_on_equity: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            debt_to_equity: {
                control: "range",
                formatter: x,
                category: M
            },
            current_ratio: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            quick_ratio: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            price_book_fq: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            price_book_ratio: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            price_free_cash_flow_ttm: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            beta_1_year: {
                control: "range",
                formatter: x,
                category: L
            },
            operating_margin: {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: M,
                highlightChange: !0
            },
            earnings_per_share_basic_ttm: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            ebitda: {
                control: "range",
                formatter: k,
                category: M
            },
            change_from_open: {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: L,
                highlightChange: !0
            },
            "Perf.W": {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: L,
                highlightChange: !0
            },
            "Perf.1M": {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: L,
                highlightChange: !0
            },
            "Perf.3M": {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: L,
                highlightChange: !0
            },
            "Perf.6M": {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: L,
                highlightChange: !0
            },
            "Perf.Y": {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: L,
                highlightChange: !0
            },
            "Perf.YTD": {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: L,
                highlightChange: !0
            },
            "Volatility.W": {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: L
            },
            "Volatility.M": {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: L
            },
            "Volatility.D": {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: L
            },
            RSI: {
                control: "condition",
                conditionFields: Y,
                formatter: x,
                filterFormatter: S,
                category: L,
                displaySignal: !0,
                additionalColumns: ["RSI", "RSI[1]"],
                mutateDisplayValue: m.signalDisplayFunctions.processRSISignal
            },
            RSI7: {
                control: "condition",
                conditionFields: Y,
                formatter: x,
                filterFormatter: S,
                category: L,
                displaySignal: !0,
                additionalColumns: ["RSI7", "RSI7[1]"],
                mutateDisplayValue: m.signalDisplayFunctions.processRSISignal
            },
            ADX: {
                control: "condition",
                conditionFields: Y,
                formatter: x,
                filterFormatter: S,
                category: L,
                displaySignal: !0,
                additionalColumns: ["ADX", "ADX+DI", "ADX-DI", "ADX+DI[1]", "ADX-DI[1]"],
                mutateDisplayValue: m.signalDisplayFunctions.processADXSignal
            },
            ATR: {
                control: "condition",
                conditionFields: Y,
                formatter: x,
                cryptoFormatter: A,
                category: L
            },
            Mom: {
                control: "condition",
                conditionFields: Y,
                formatter: x,
                filterFormatter: S,
                cryptoFormatter: A,
                category: L,
                displaySignal: !0,
                additionalColumns: ["Mom", "Mom[1]"],
                mutateDisplayValue: m.signalDisplayFunctions.processMomSignal
            },
            "High.All": {
                control: "toggle",
                filter: {
                    operator: "eless",
                    value: "high"
                },
                formatter: x,
                forexFormatter: A,
                category: L
            },
            "Low.All": {
                control: "toggle",
                filter: {
                    operator: "egreater",
                    value: "low"
                },
                formatter: x,
                forexFormatter: A,
                category: L
            },
            price_52_week_high: {
                control: "toggle",
                filter: {
                    operator: "eless",
                    value: "high"
                },
                formatter: x,
                forexFormatter: A,
                category: L
            },
            price_52_week_low: {
                control: "toggle",
                filter: {
                    operator: "egreater",
                    value: "low"
                },
                formatter: x,
                forexFormatter: A,
                category: L
            },
            "High.6M": {
                control: "toggle",
                filter: {
                    operator: "eless",
                    value: "high"
                },
                formatter: x,
                forexFormatter: A,
                category: L
            },
            "Low.6M": {
                control: "toggle",
                filter: {
                    operator: "egreater",
                    value: "low"
                },
                formatter: x,
                forexFormatter: A,
                category: L
            },
            "High.3M": {
                control: "toggle",
                filter: {
                    operator: "eless",
                    value: "high"
                },
                formatter: x,
                forexFormatter: A,
                category: L
            },
            "Low.3M": {
                control: "toggle",
                filter: {
                    operator: "egreater",
                    value: "low"
                },
                formatter: x,
                forexFormatter: A,
                category: L
            },
            "High.1M": {
                control: "toggle",
                filter: {
                    operator: "eless",
                    value: "high"
                },
                formatter: x,
                forexFormatter: A,
                category: L
            },
            "Low.1M": {
                control: "toggle",
                filter: {
                    operator: "egreater",
                    value: "low"
                },
                formatter: x,
                forexFormatter: A,
                category: L
            },
            EMA10: {
                control: "condition",
                conditionFields: Y.concat(["EMA20", "EMA30", "EMA50", "EMA100", "EMA200"]),
                formatter: x,
                category: L,
                displaySignal: !0,
                additionalColumns: ["EMA10", "close"],
                mutateDisplayValue: m.signalDisplayFunctions.processMASignal
            },
            EMA20: {
                control: "condition",
                conditionFields: Y.concat(["EMA10", "EMA30", "EMA50", "EMA100", "EMA200"]),
                formatter: x,
                category: L,
                displaySignal: !0,
                additionalColumns: ["EMA20", "close"],
                mutateDisplayValue: m.signalDisplayFunctions.processMASignal
            },
            EMA30: {
                control: "condition",
                conditionFields: Y.concat(["EMA10", "EMA20", "EMA50", "EMA100", "EMA200"]),
                formatter: x,
                category: L,
                displaySignal: !0,
                additionalColumns: ["EMA30", "close"],
                mutateDisplayValue: m.signalDisplayFunctions.processMASignal
            },
            EMA50: {
                control: "condition",
                conditionFields: Y.concat(["EMA10", "EMA20", "EMA30", "EMA100", "EMA200"]),
                formatter: x,
                category: L,
                displaySignal: !0,
                additionalColumns: ["EMA50", "close"],
                mutateDisplayValue: m.signalDisplayFunctions.processMASignal
            },
            EMA100: {
                control: "condition",
                conditionFields: Y.concat(["EMA10", "EMA20", "EMA30", "EMA50", "EMA200"]),
                formatter: x,
                category: L,
                displaySignal: !0,
                additionalColumns: ["EMA100", "close"],
                mutateDisplayValue: m.signalDisplayFunctions.processMASignal
            },
            EMA200: {
                control: "condition",
                conditionFields: Y.concat(["EMA10", "EMA20", "EMA30", "EMA50", "EMA100"]),
                formatter: x,
                category: L,
                displaySignal: !0,
                additionalColumns: ["EMA200", "close"],
                mutateDisplayValue: m.signalDisplayFunctions.processMASignal
            },
            SMA10: {
                control: "condition",
                conditionFields: Y.concat(["SMA20", "SMA30", "SMA50", "SMA100", "SMA200"]),
                formatter: x,
                category: L,
                displaySignal: !0,
                additionalColumns: ["SMA10", "close"],
                mutateDisplayValue: m.signalDisplayFunctions.processMASignal
            },
            SMA20: {
                control: "condition",
                conditionFields: Y.concat(["SMA10", "SMA30", "SMA50", "SMA100", "SMA200"]),
                formatter: x,
                cryptoFormatter: A,
                category: L,
                displaySignal: !0,
                additionalColumns: ["SMA20", "close"],
                mutateDisplayValue: m.signalDisplayFunctions.processMASignal
            },
            SMA30: {
                control: "condition",
                conditionFields: Y.concat(["SMA10", "SMA20", "SMA50", "SMA100", "SMA200"]),
                formatter: x,
                category: L,
                displaySignal: !0,
                additionalColumns: ["SMA30", "close"],
                mutateDisplayValue: m.signalDisplayFunctions.processMASignal
            },
            SMA50: {
                control: "condition",
                conditionFields: Y.concat(["SMA10", "SMA20", "SMA30", "SMA100", "SMA200"]),
                formatter: x,
                cryptoFormatter: A,
                category: L,
                displaySignal: !0,
                additionalColumns: ["SMA50", "close"],
                mutateDisplayValue: m.signalDisplayFunctions.processMASignal
            },
            SMA100: {
                control: "condition",
                conditionFields: Y.concat(["SMA10", "SMA20", "SMA30", "SMA50", "SMA200"]),
                formatter: x,
                category: L,
                displaySignal: !0,
                additionalColumns: ["SMA100", "close"],
                mutateDisplayValue: m.signalDisplayFunctions.processMASignal
            },
            SMA200: {
                control: "condition",
                conditionFields: Y.concat(["SMA10", "SMA20", "SMA30", "SMA50", "SMA100"]),
                formatter: x,
                cryptoFormatter: A,
                category: L,
                displaySignal: !0,
                additionalColumns: ["SMA200", "close"],
                mutateDisplayValue: m.signalDisplayFunctions.processMASignal
            },
            "Stoch.K": {
                control: "condition",
                conditionFields: Y.concat(["Stoch.D"]),
                formatter: x,
                category: L,
                displaySignal: !0,
                additionalColumns: ["Stoch.K", "Stoch.D", "Stoch.K[1]", "Stoch.D[1]"],
                mutateDisplayValue: m.signalDisplayFunctions.processStochSignal
            },
            "Stoch.D": {
                control: "condition",
                conditionFields: Y.concat(["Stoch.K"]),
                formatter: x,
                category: L
            },
            "MACD.macd": {
                control: "condition",
                conditionFields: Y.concat(["MACD.signal"]),
                formatter: x,
                cryptoFormatter: A,
                category: L,
                displaySignal: !0,
                additionalColumns: ["MACD.macd", "MACD.signal"],
                mutateDisplayValue: m.signalDisplayFunctions.processMACDSignal
            },
            "MACD.signal": {
                control: "condition",
                conditionFields: Y.concat(["MACD.macd"]),
                formatter: x,
                cryptoFormatter: A,
                category: L
            },
            "Aroon.Up": {
                control: "condition",
                conditionFields: Y.concat(["Aroon.Down"]),
                formatter: x,
                category: L
            },
            "Aroon.Down": {
                control: "condition",
                conditionFields: Y.concat(["Aroon.Up"]),
                formatter: x,
                category: L
            },
            "BB.upper": {
                control: "condition",
                conditionFields: Y.concat(["BB.lower"]),
                formatter: x,
                cryptoFormatter: A,
                category: L,
                displaySignal: !0,
                additionalColumns: ["close", "BB.upper"],
                mutateDisplayValue: m.signalDisplayFunctions.processBBSellSignal
            },
            "BB.lower": {
                control: "condition",
                conditionFields: Y.concat(["BB.upper"]),
                formatter: x,
                cryptoFormatter: A,
                category: L,
                displaySignal: !0,
                additionalColumns: ["close", "BB.lower"],
                mutateDisplayValue: m.signalDisplayFunctions.processBBBuySignal
            },
            "KltChnl.upper": {
                control: "condition",
                conditionFields: Y.concat(["KltChnl.lower"]),
                formatter: x,
                category: L
            },
            "KltChnl.lower": {
                control: "condition",
                conditionFields: Y.concat(["KltChnl.upper"]),
                formatter: x,
                category: L
            },
            "P.SAR": {
                control: "condition",
                conditionFields: Y,
                formatter: x,
                category: L,
                displaySignal: !0,
                additionalColumns: ["P.SAR", "open"],
                mutateDisplayValue: m.signalDisplayFunctions.processPSARSignal
            },
            "Value.Traded": {
                control: "range",
                formatter: k,
                category: B
            },
            MoneyFlow: {
                control: "range",
                formatter: x,
                category: L
            },
            ChaikinMoneyFlow: {
                control: "range",
                formatter: x,
                category: L
            },
            goodwill: {
                control: "range",
                formatter: k,
                category: M
            },
            cash_ratio: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            net_debt: {
                control: "range",
                formatter: k,
                category: M
            },
            total_debt: {
                control: "range",
                formatter: k,
                category: M
            },
            revenue_per_employee: {
                control: "range",
                formatter: k,
                category: M
            },
            return_on_invested_capital: {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: M,
                highlightChange: !0
            },
            after_tax_margin: {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: M,
                highlightChange: !0
            },
            pre_tax_margin: {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: M,
                highlightChange: !0
            },
            gross_margin: {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: M,
                highlightChange: !0
            },
            dividends_paid: {
                control: "range",
                formatter: k,
                category: M
            },
            dividends_yield: {
                control: "range",
                formatter: F,
                filterFormatter: E,
                category: M,
                highlightChange: !0
            },
            basic_eps_net_income: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            net_income: {
                control: "range",
                formatter: k,
                category: M
            },
            gross_profit: {
                control: "range",
                formatter: k,
                category: M
            },
            number_of_shareholders: {
                control: "range",
                formatter: k,
                category: M
            },
            total_shares_outstanding_fundamental: {
                control: "range",
                formatter: k,
                category: M
            },
            total_shares_outstanding: {
                control: "range",
                formatter: k,
                category: M
            },
            total_shares_diluted: {
                control: "range",
                formatter: k,
                category: M
            },
            total_value_traded: {
                control: "range",
                formatter: k,
                category: M
            },
            total_assets: {
                control: "range",
                formatter: k,
                category: M
            },
            total_current_assets: {
                control: "range",
                formatter: k,
                category: M
            },
            total_revenue: {
                control: "range",
                formatter: k,
                category: M
            },
            expected_annual_dividends: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            dividends_per_share_fq: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            earnings_per_share_diluted_ttm: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            enterprise_value_ebitda_ttm: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            enterprise_value_fq: {
                control: "range",
                formatter: k,
                category: M
            },
            price_revenue_ttm: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            number_of_employees: {
                control: "range",
                formatter: k,
                category: M
            },
            last_annual_eps: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            last_annual_revenue: {
                control: "range",
                formatter: k,
                category: M
            },
            CCI20: {
                control: "condition",
                conditionFields: Y,
                formatter: x,
                category: L,
                displaySignal: !0,
                additionalColumns: ["CCI20", "CCI20[1]"],
                mutateDisplayValue: m.signalDisplayFunctions.processCCI20Signal
            },
            "DonchCh20.Upper": {
                control: "condition",
                conditionFields: Y.concat(["DonchCh20.Lower"]),
                formatter: x,
                category: L
            },
            "DonchCh20.Lower": {
                control: "condition",
                conditionFields: Y.concat(["DonchCh20.Upper"]),
                formatter: x,
                category: L
            },
            HullMA9: {
                control: "condition",
                conditionFields: Y,
                formatter: x,
                category: L
            },
            AO: {
                control: "condition",
                conditionFields: Y,
                formatter: x,
                cryptoFormatter: A,
                category: L,
                displaySignal: !0,
                additionalColumns: ["AO", "AO[1]"],
                mutateDisplayValue: m.signalDisplayFunctions.processAOSignal
            },
            "Pivot.M.Classic.Middle": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Classic.R1": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Classic.R2": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Classic.R3": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Classic.S1": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Classic.S2": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Classic.S3": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Fibonacci.Middle": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Fibonacci.R1": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Fibonacci.R2": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Fibonacci.R3": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Fibonacci.S1": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Fibonacci.S2": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Fibonacci.S3": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Camarilla.Middle": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Camarilla.R1": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Camarilla.R2": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Camarilla.R3": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Camarilla.S1": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Camarilla.S2": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Camarilla.S3": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Woodie.Middle": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Woodie.R1": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Woodie.R2": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Woodie.R3": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Woodie.S1": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Woodie.S2": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Woodie.S3": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Demark.Middle": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Demark.R1": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            "Pivot.M.Demark.S1": {
                formatter: x,
                forexFormatter: A,
                category: L,
                align: "right"
            },
            candlestick: {
                control: "select",
                isSingle: !0,
                category: L,
                hideSetupColumn: !0,
                range: I.sort(function(e, t) {
                    return e.name > t.name ? 1 : -1
                }).map(function(e) {
                    return e.name
                }),
                sourceRange: I,
                customFilterCondition: function(e) {
                    var t = j(e, I);
                    return !!t && {
                        left: t,
                        operation: "equal",
                        right: 1
                    }
                }
            },
            rtc: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: B,
                additionalColumns: ["current_session"],
                mutateDisplayValue: function(e, t) {
                    return "pre_market" === t ? e : "—"
                }
            },
            earnings_per_share_forecast_next_fq: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            earnings_per_share_fq: {
                control: "range",
                formatter: x,
                filterFormatter: S,
                category: M
            },
            earnings_release_next_date: {
                control: "select",
                isSingle: !0,
                category: M,
                sortable: !1,
                useDefaultRange: !0,
                additionalColumns: ["earnings_release_date", "earnings_release_next_date"],
                mutateDisplayValue: function(e, t, i, n) {
                    var o, s;
                    if (!i && t)
                        return T.format(t);
                    if (n.value && (o = j(n.value, P)) && (s = U(o))) {
                        if (t && s[0] <= 1e3 * t && 1e3 * t <= s[1])
                            return T.format(t);
                        if (i && s[0] <= 1e3 * i && 1e3 * i <= s[1])
                            return T.format(i)
                    }
                    return e
                },
                defaultRange: P.map(function(e) {
                    return e.name
                }),
                sourceRange: P,
                customFilterCondition: function(e) {
                    var t, i = j(e, P);
                    return !(!i || !(t = U(i))) && N(t[0], t[1])
                },
                formatter: T
            },
            "Recommend.All": {
                control: "select",
                category: L,
                mutateDisplayValue: m.signalDisplayFunctions.processRecommendSignal,
                isSingle: !0,
                useDefaultRange: !0,
                sortable: !1,
                defaultRange: m.recommendsRange,
                customFilterCondition: function(e) {
                    return (0,
                    m.generateRecommendsRequest)(e, "Recommend.All")
                }
            },
            "Recommend.MA": {
                control: "select",
                category: L,
                mutateDisplayValue: m.signalDisplayFunctions.processRecommendSignal,
                isSingle: !0,
                useDefaultRange: !0,
                sortable: !1,
                defaultRange: m.recommendsRange,
                customFilterCondition: function(e) {
                    return (0,
                    m.generateRecommendsRequest)(e, "Recommend.MA")
                }
            },
            "Recommend.Other": {
                control: "select",
                category: L,
                mutateDisplayValue: m.signalDisplayFunctions.processRecommendSignal,
                isSingle: !0,
                useDefaultRange: !0,
                sortable: !1,
                defaultRange: m.recommendsRange,
                customFilterCondition: function(e) {
                    return (0,
                    m.generateRecommendsRequest)(e, "Recommend.Other")
                }
            }
        };
        for (Q in D)
            Q in X && (X[Q].title = D[Q][0],
            X[Q].shortTitle = D[Q][1]);
        J = [{
            key: "-1",
            name: $.t("Before Open")
        }, {
            key: "1",
            name: $.t("After Close")
        }],
        Z = '<span class="tv-screener-table__cell--color-normal">—</span>',
        ee = function(e) {
            e.additionalColumns = ["earnings_release_next_date"],
            e.mutateDisplayValue = function(e, t) {
                var i, n = j(X.earnings_release_next_date.value, P);
                return n && (i = U(n)) && i[0] <= 1e3 * t && 1e3 * t <= i[1] ? Z : e
            }
        }
        ,
        t.earningsCalendarHeaderFields = ["name", "market_cap_basic", "earnings_per_share_forecast_next_fq", "earnings_per_share_fq", "eps_surprise_fq", "eps_surprise_percent_fq", "earnings_release_next_date", "earnings_release_next_time", "description", "type"]
    },
    823: function(e, t, i) {
        "use strict";
        function n(e, t, i) {
            return new Promise(function(n) {
                i && e.classList.remove(i),
                e.classList.add(t);
                var o = function(i) {
                    i.target === e && i.animationName === t && (e.removeEventListener(i.type, o),
                    n(i))
                };
                e.addEventListener("animationend", o, !1),
                e.addEventListener("webkitAnimationEnd", o, !1),
                e.addEventListener("MSAnimationEnd", o, !1)
            }
            )
        }
        function o(e) {
            return n(e, "tv-transition--fade-in", "tv-transition--fade-out")
        }
        function s(e) {
            return n(e, "tv-transition--fade-out", "tv-transition--fade-in")
        }
        function r(e) {
            return n(e, "tv-transition--slide-out")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.fadeIn = o,
        t.fadeOut = s,
        t.slideOut = r
    },
    851: function(e, t) {},
    885: function(e, t, i) {
        "use strict";
        function n(e) {
            return a.find(function(t) {
                return t.id === e
            })
        }
        function o(e) {
            if (e !== l) {
                var t = n(e);
                return t ? t.title : void 0
            }
        }
        function s(e, t) {
            var i, o, s;
            return t && t !== l ? (i = n(t),
            i && (o = i.value || "",
            r.fields[e] && r.fields[e].customResolutions && (s = r.fields[e].customResolutions,
            o && -1 !== s.indexOf("" + o))) ? e + "|" + o : e) : e
        }
        var r, a, l;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.DEFAULT_INTERVAL_ID = t.INTERVALS = void 0,
        t.getIntervalById = n,
        t.getAlertsMessageText = o,
        t.getFieldNameWithResolution = s,
        r = i(802),
        a = t.INTERVALS = [{
            id: "15m",
            title: $.t("{0} minutes").format(15),
            shortTitle: '15<sup class="tv-screener-toolbar__interval-sup">' + $.t("m", {
                context: "interval_short"
            }) + "</sup>",
            value: 15
        }, {
            id: "1h",
            title: $.t("{0} hour").format(1),
            shortTitle: '1<sup class="tv-screener-toolbar__interval-sup">' + $.t("h", {
                context: "interval_short"
            }) + "</sup>",
            value: 60
        }, {
            id: "1D",
            title: $.t("{0} day").format(1),
            shortTitle: '1<sup class="tv-screener-toolbar__interval-sup">' + $.t("D", {
                context: "interval_short"
            }) + "</sup>",
            value: null
        }],
        l = t.DEFAULT_INTERVAL_ID = "1D"
    },
    1057: function(e, t) {
        "use strict";
        var i = {
            name: [$.t("Tickers"), $.t("Tickers")],
            description: [$.t("Description"), $.t("Description")],
            country: [$.t("Country"), $.t("Country")],
            type: [$.t("Symbol Type"), $.t("Symbol Type")],
            after_tax_margin: [$.t("Net Margin (TTM)"), $.t("Net Margin")],
            average_volume: [$.t("Average Volume (10 day)"), $.t("Avg Vol")],
            basic_eps_net_income: [$.t("EPS Basic (FY)"), $.t("EPS (FY)")],
            beta_1_year: [$.t("Beta - 1 Year"), $.t("Beta 1Y")],
            beta_3_year: [$.t("Beta - 3 Year"), $.t("Beta 3Y")],
            beta_5_year: [$.t("Beta - 5 Year"), $.t("Beta 5Y")],
            candlestick: [$.t("Candlestick Patterns"), $.t("Candlestick")],
            cash_ratio: [$.t("Cash Ratio (FY)"), $.t("Cash Ratio")],
            current_ratio: [$.t("Current Ratio (MRQ)"), $.t("Current Ratio")],
            debt_to_assets: [$.t("Debt to Assets"), $.t("Debt to Assets")],
            debt_to_equity: [$.t("Debt to Equity (MRQ)"), $.t("Debt to Equity")],
            dividends_paid: [$.t("Dividends Paid (FY)"), $.t("Div Paid")],
            dividends_per_share_fq: [$.t("Dividends per Share (MRQ)"), $.t("Div per Share")],
            dividends_yield: [$.t("Dividends Yield (FY)"), $.t("Div Yield")],
            earnings_per_share_basic_ttm: [$.t("EPS Basic (TTM)"), $.t("EPS (TTM)")],
            earnings_per_share_diluted_ttm: [$.t("EPS Diluted (TTM)"), $.t("EPS Diluted (TTM)")],
            earnings_per_share_forecast_next_fq: [$.t("EPS Forecast (FQ)"), $.t("EPS Forecast")],
            earnings_per_share_fq: [$.t("EPS Diluted (MRQ)"), $.t("EPS Diluted (MRQ)")],
            earnings_release_next_date: [$.t("Date"), $.t("Date")],
            ebitda: [$.t("EBITDA (TTM)"), $.t("EBITDA")],
            enterprise_value_ebitda_ttm: [$.t("Enterprise Value/EBITDA (TTM)"), $.t("EV/EBITDA")],
            enterprise_value_fq: [$.t("Enterprise Value (MRQ)"), $.t("EV")],
            exchange: [$.t("Exchange"), $.t("Exchange")],
            expected_annual_dividends: [$.t("Dividends Expected Annual"), $.t("Div Expected")],
            gross_margin: [$.t("Gross Margin (TTM)"), $.t("Gross Margin")],
            gross_profit: [$.t("Gross Profit (FY)"), $.t("Gross Profit")],
            index: [$.t("Index"), $.t("Index")],
            industry: [$.t("Industry"), $.t("Industry")],
            last_annual_eps: [$.t("EPS Diluted (FY)"), $.t("EPS Diluted (FY)")],
            last_annual_revenue: [$.t("Revenue Last Annual (FY)"), $.t("Rev Annual")],
            long_term_capital: [$.t("Capital Long Term"), $.t("Capital Long Term")],
            market_cap_basic: [$.t("Market Cap"), $.t("Mkt Cap")],
            market_cap_calc: [$.t("Market Cap"), $.t("Mkt Cap")],
            market_cap_diluted_calc: [$.t("Fully Diluted Market Cap"), $.t("FD Mkt Cap")],
            net_debt: [$.t("Net Debt (MRQ)"), $.t("Net Debt")],
            net_income: [$.t("Net Income (FY)"), $.t("Income")],
            number_of_employees: [$.t("Number of Employees"), $.t("Emp")],
            number_of_shareholders: [$.t("Number of Shareholders"), $.t("Shareholders")],
            open_price: [$.t("Open Price"), $.t("Open")],
            operating_margin: [$.t("Operating Margin (TTM)"), $.t("Operating Margin")],
            pre_tax_margin: [$.t("Pretax Margin (TTM)"), $.t("Pretax Margin")],
            preferred_dividends: [$.t("Dividends Preferred "), $.t("Div Pref")],
            prev_close_price: [$.t("Previous Close Price"), $.t("Prev")],
            price_52_week_high: [$.t("52 Week High"), $.t("High 52W")],
            price_52_week_low: [$.t("52 Week Low"), $.t("Low 52W")],
            price_book_ratio: [$.t("Price to Book (FY)"), $.t("P/B (FY)")],
            price_earnings_ttm: [$.t("Price to Earnings (TTM)"), $.t("P/E")],
            price_percent_change_1_week: [$.t("Price % Change 1 Week"), $.t("Chng 1W")],
            price_percent_change_4_week: [$.t("Price % Change 4 Week"), $.t("Chng 4W")],
            price_percent_change_52_week: [$.t("Price % Change 52 Week"), $.t("Chng 52W")],
            price_revenue_ttm: [$.t("Price to Revenue (TTM)"), $.t("P/R")],
            price_sales_ratio: [$.t("Price to Sales (FY)"), $.t("P/S")],
            quick_ratio: [$.t("Quick Ratio (MRQ)"), $.t("Quick Ratio")],
            return_of_invested_capital_percent_ttm: [$.t("Return on Invested Capital % (TTM)"), $.t("ROI %")],
            return_on_assets: [$.t("Return on Assets (TTM)"), $.t("ROA")],
            return_on_equity: [$.t("Return on Equity (TTM)"), $.t("ROE")],
            return_on_invested_capital: [$.t("Return on Invested Capital (TTM)"), $.t("ROI %")],
            revenue_per_employee: [$.t("Revenue per Employee (TTM)"), $.t("Revenue per Employee")],
            sector: [$.t("Sector"), $.t("Sector")],
            eps_surprise_fq: [$.t("Surprise"), $.t("Surprise")],
            eps_surprise_percent_fq: [$.t("Surprise %"), $.t("Surprise %")],
            total_assets: [$.t("Total Assets (MRQ)"), $.t("Assets")],
            total_capital: [$.t("Total Capital"), $.t("Capital")],
            total_current_assets: [$.t("Total Current Assets (MRQ)"), $.t("Current Assets")],
            total_debt: [$.t("Total Debt (MRQ)"), $.t("Debt")],
            total_revenue: [$.t("Total Revenue (FY)"), $.t("Revenue")],
            total_shares_outstanding_fundamental: [$.t("Total Shares Outstanding (MRQ)"), $.t("Shares")],
            volume: [$.t("Volume"), $.t("Vol")],
            relative_volume: [$.t("Relative Volume"), $.t("Relative Vol")],
            change_abs: [$.t("Change"), $.t("Chg")],
            change: [$.t("Change %"), $.t("Chg %")],
            pre_change: [$.t("Pre-market Change %"), $.t("Pre-market chg %")],
            bid: [$.t("Bid"), $.t("Bid")],
            ask: [$.t("Ask"), $.t("Ask")],
            close: [$.t("Price"), $.t("Price")],
            open: [$.t("Open"), $.t("Open")],
            high: [$.t("High"), $.t("High")],
            low: [$.t("Low"), $.t("Low")],
            gap: [$.t("Gap %"), $.t("Gap %")],
            price_earnings_to_growth_ttm: [$.t("Price/Earnings/Growth (TTM)"), $.t("PEG")],
            price_sales: [$.t("Price/Sales"), $.t("Price/Sales")],
            price_book_fq: [$.t("Price to Book (MRQ)"), $.t("P/B (MRQ)")],
            price_free_cash_flow_ttm: [$.t("Price to Free Cash Flow (TTM)"), $.t("Price/Free Cash Flow")],
            free_cash_flow: [$.t("Free Cash Flow (TTM)"), $.t("Free Cash Flow")],
            total_shares_outstanding: [$.t("Shares Outstanding"), $.t("Shares Outstanding")],
            total_shares_diluted: [$.t("Total Coins"), $.t("Total Coins")],
            total_value_traded: [$.t("Traded Volume"), $.t("Traded Vol")],
            change_from_open: [$.t("Change from Open %"), $.t("Chng from Open")],
            "Perf.W": [$.t("Performance Week"), $.t("Perf Week")],
            "Perf.1M": [$.t("Performance Month"), $.t("Perf Month")],
            "Perf.3M": [$.t("Performance 3-Month"), $.t("Perf 3")],
            "Perf.6M": [$.t("Performance 6-Month"), $.t("Perf 6")],
            "Perf.Y": [$.t("Performance Year"), $.t("Perf Year")],
            "Perf.YTD": [$.t("Performance YTD"), $.t("Perf YTD")],
            "Volatility.W": [$.t("Volatility Week"), $.t("Volatility W")],
            "Volatility.M": [$.t("Volatility Month"), $.t("Volatility M")],
            "Volatility.D": [$.t("Volatility"), $.t("Volatility")],
            RSI: [$.t("Relative Strength Index (14)"), $.t("RSI14")],
            RSI7: [$.t("Relative Strength Index (7)"), $.t("RSI7")],
            ADX: [$.t("Average Directional Index (14)"), $.t("ADX")],
            ATR: [$.t("Average True Range (14)"), $.t("ATR")],
            Mom: [$.t("Momentum (10)"), $.t("MOM")],
            "High.All": [$.t("All Time High"), $.t("All Time High")],
            "Low.All": [$.t("All Time Low"), $.t("All Time Low")],
            "High.6M": [$.t("6-Month High"), $.t("6-Month High")],
            "Low.6M": [$.t("6-Month Low"), $.t("6-Month Low")],
            "High.3M": [$.t("3-Month High"), $.t("3-Month High")],
            "Low.3M": [$.t("3-Month Low"), $.t("3-Month Low")],
            "High.1M": [$.t("1-Month High"), $.t("1-Month High")],
            "Low.1M": [$.t("1-Month Low"), $.t("1-Month Low")],
            EMA10: [$.t("Exponential Moving Average (10)"), $.t("EMA10")],
            EMA20: [$.t("Exponential Moving Average (20)"), $.t("EMA20")],
            EMA30: [$.t("Exponential Moving Average (30)"), $.t("EMA30")],
            EMA50: [$.t("Exponential Moving Average (50)"), $.t("EMA50")],
            EMA100: [$.t("Exponential Moving Average (100)"), $.t("EMA100")],
            EMA200: [$.t("Exponential Moving Average (200)"), $.t("EMA200")],
            SMA10: [$.t("Simple Moving Average (10)"), $.t("SMA10")],
            SMA20: [$.t("Simple Moving Average (20)"), $.t("SMA20")],
            SMA30: [$.t("Simple Moving Average (30)"), $.t("SMA30")],
            SMA50: [$.t("Simple Moving Average (50)"), $.t("SMA50")],
            SMA100: [$.t("Simple Moving Average (100)"), $.t("SMA100")],
            SMA200: [$.t("Simple Moving Average (200)"), $.t("SMA200")],
            "Stoch.K": [$.t("Stochastic Fast (14, 3, 1)"), $.t("Stoch Fast")],
            "Stoch.D": [$.t("Stochastic Slow (14, 3, 1)"), $.t("Stoch Slow")],
            "MACD.macd": [$.t("MACD Level (12, 27)"), $.t("MACD Level")],
            "MACD.signal": [$.t("MACD Signal (12, 27)"), $.t("MACD Signal")],
            "Aroon.Up": [$.t("Aroon Up (14)"), $.t("Aroon Up")],
            "Aroon.Down": [$.t("Aroon Down (14)"), $.t("Aroon Down")],
            "BB.upper": [$.t("Bollinger Upper Band (20)"), $.t("BB Up")],
            "BB.lower": [$.t("Bollinger Lower Band (20)"), $.t("BB Low")],
            goodwill: [$.t("Goodwill"), $.t("Goodwill")],
            debt_to_equity_fq: [$.t("Debt/Equity, MRQ"), $.t("Debt/Eq")],
            CCI20: [$.t("Commodity Channel Index (20)"), $.t("CCI20")],
            "DonchCh20.Upper": [$.t("Donchian Channels Upper Band (20)"), $.t("DonchCh20 Up")],
            "DonchCh20.Lower": [$.t("Donchian Channels Lower Band (20)"), $.t("DonchCh20 Low")],
            HullMA9: [$.t("Hull Moving Average (9)"), $.t("HullMA9")],
            AO: [$.t("Awesome Oscillator"), $.t("AO")],
            "Pivot.M.Classic.S3": [$.t("1-Month Pivot Classic S3"), $.t("S3")],
            "Pivot.M.Classic.S2": [$.t("1-Month Pivot Classic S2"), $.t("S2")],
            "Pivot.M.Classic.S1": [$.t("1-Month Pivot Classic S1"), $.t("S1")],
            "Pivot.M.Classic.Middle": [$.t("1-Month Pivot Classic P"), $.t("P")],
            "Pivot.M.Classic.R1": [$.t("1-Month Pivot Classic R1"), $.t("R1")],
            "Pivot.M.Classic.R2": [$.t("1-Month Pivot Classic R2"), $.t("R2")],
            "Pivot.M.Classic.R3": [$.t("1-Month Pivot Classic R3"), $.t("R3")],
            "Pivot.M.Fibonacci.S3": [$.t("1-Month Pivot Fibonacci S3"), $.t("S3")],
            "Pivot.M.Fibonacci.S2": [$.t("1-Month Pivot Fibonacci S2"), $.t("S2")],
            "Pivot.M.Fibonacci.S1": [$.t("1-Month Pivot Fibonacci S1"), $.t("S1")],
            "Pivot.M.Fibonacci.Middle": [$.t("1-Month Pivot Fibonacci P"), $.t("P")],
            "Pivot.M.Fibonacci.R1": [$.t("1-Month Pivot Fibonacci R1"), $.t("R1")],
            "Pivot.M.Fibonacci.R2": [$.t("1-Month Pivot Fibonacci R2"), $.t("R2")],
            "Pivot.M.Fibonacci.R3": [$.t("1-Month Pivot Fibonacci R3"), $.t("R3")],
            "Pivot.M.Camarilla.S3": [$.t("1-Month Pivot Camarilla S3"), $.t("S3")],
            "Pivot.M.Camarilla.S2": [$.t("1-Month Pivot Camarilla S2"), $.t("S2")],
            "Pivot.M.Camarilla.S1": [$.t("1-Month Pivot Camarilla S1"), $.t("S1")],
            "Pivot.M.Camarilla.Middle": [$.t("1-Month Pivot Camarilla P"), $.t("P")],
            "Pivot.M.Camarilla.R1": [$.t("1-Month Pivot Camarilla R1"), $.t("R1")],
            "Pivot.M.Camarilla.R2": [$.t("1-Month Pivot Camarilla R2"), $.t("R2")],
            "Pivot.M.Camarilla.R3": [$.t("1-Month Pivot Camarilla R3"), $.t("R3")],
            "Pivot.M.Woodie.S3": [$.t("1-Month Pivot Woodie S3"), $.t("S3")],
            "Pivot.M.Woodie.S2": [$.t("1-Month Pivot Woodie S2"), $.t("S2")],
            "Pivot.M.Woodie.S1": [$.t("1-Month Pivot Woodie S1"), $.t("S1")],
            "Pivot.M.Woodie.Middle": [$.t("1-Month Pivot Woodie P"), $.t("P")],
            "Pivot.M.Woodie.R1": [$.t("1-Month Pivot Woodie R1"), $.t("R1")],
            "Pivot.M.Woodie.R2": [$.t("1-Month Pivot Woodie R2"), $.t("R2")],
            "Pivot.M.Woodie.R3": [$.t("1-Month Pivot Woodie R3"), $.t("R3")],
            "Pivot.M.Demark.S1": [$.t("1-Month Pivot Demark S1"), $.t("S1")],
            "Pivot.M.Demark.Middle": [$.t("1-Month Pivot Demark P"), $.t("P")],
            "Pivot.M.Demark.R1": [$.t("1-Month Pivot Demark R1"), $.t("R1")],
            rtc: [$.t("Pre-market Price"), $.t("Pre-market Price")],
            "KltChnl.upper": [$.t("Keltner Channels Upper Band (20)"), $.t("KltCh20 Up")],
            "KltChnl.lower": [$.t("Keltner Channels Lower Band (20)"), $.t("KltCh20 Low")],
            "P.SAR": [$.t("Parabolic SAR"), $.t("SAR")],
            "Value.Traded": [$.t("Value Traded"), $.t("Value Traded")],
            MoneyFlow: [$.t("Money Flow"), $.t("MFl")],
            ChaikinMoneyFlow: [$.t("Chaikin Money Flow"), $.t("CMF")],
            "Recommend.All": [$.t("Rating"), $.t("Rating")],
            "Recommend.MA": [$.t("Moving Averages Rating"), $.t("Moving Averages Rating")],
            "Recommend.Other": [$.t("Oscillators Rating"), $.t("Oscillators Rating")]
        };
        e.exports = i
    },
    1346: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" width="10" height="10"><g fill="none" stroke="#758696" stroke-width="2"><path d="M1.125 9.11L9.13 1.104M1.125 1.105L9.13 9.11"/></g></svg>'
    },
    1347: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 26" width="3" height="13"><circle cx="3" cy="3" r="3"/><circle cx="3" cy="13" r="3"/><circle cx="3" cy="23" r="3"/></svg>'
    },
    1356: function(e, t) {},
    1448: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path d="M0 46l35-35 14 14-35 35H0zM39 7l6-6c5-5 19 9 14 14l-6 6z"/></svg>'
    },
    1548: function(e, t) {
        e.exports = {
            operators: {
                title: $.t("Language Operators"),
                prefix: "op_",
                docs: {
                    "?:": {
                        name: "?:",
                        desc: [$.t("Ternary conditional operator.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 ? expr2 : expr3"],
                        returns: [$.t("expr2 if expr1 is evaluated to true, expr3 otherwise. Zero value (0 and also NaN, +Infinity, -Infinity) is considered to be false, any other value is true.", {
                            context: "pine_docs_returns"
                        })],
                        remarks: [$.t("Use {@var na} for 'else' branch if you do not need it.", {
                            context: "pine_docs_remarks"
                        }), $.t("You can combine two or more {@op ?:} operators to achieve 'switch'-like statement effect (see examples below).", {
                            context: "pine_docs_remarks"
                        }), $.t("You may use arithmetic operators with numbers as well as with series variables. In case of usage with series the operators are applied elementwise.", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ["// Draw circles at the bars where open crosses close", "s2 = cross(open, close) ? avg(open,close) : na", "plot(s2, style=circles, linewidth=2, color=red)", "", "// Combination of ?: operators for 'switch'-like logic", "c = isintraday ? red : isdaily ? green : isweekly ? blue : gray", "plot(hl2, color=c)"],
                        seeAlso: ["{@fun iff}, {@fun na}"]
                    },
                    "+": {
                        desc: [$.t("Addition or unary plus. Applicable to numerical expressions or strings.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 + expr2", "+ expr"],
                        returns: [$.t("Binary `+` for strings returns concatenation of expr1 and expr2", {
                            context: "pine_docs_returns"
                        }), $.t("For numbers returns integer or float value, or series of values:", {
                            context: "pine_docs_returns"
                        }), $.t("Binary `+` returns expr1 plus expr2.", {
                            context: "pine_docs_returns"
                        }), $.t("Unary `+` returns expr (does nothing added just for the symmetry with the unary - operator).", {
                            context: "pine_docs_returns"
                        })],
                        remarks: [$.t("You may use arithmetic operators with numbers as well as with series variables. In case of usage with series the operators are applied elementwise.", {
                            context: "pine_docs_remarks"
                        })]
                    },
                    "-": {
                        desc: [$.t("Subtraction or unary minus. Applicable to numerical expressions.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 - expr2", "- expr"],
                        returns: [$.t("Returns integer or float value, or series of values:", {
                            context: "pine_docs_returns"
                        }), $.t("Binary `-` returns expr1 minus expr2.", {
                            context: "pine_docs_returns"
                        }), $.t("Unary `-` returns the negation of expr.", {
                            context: "pine_docs_returns"
                        })],
                        remarks: [$.t("You may use arithmetic operators with numbers as well as with series variables. In case of usage with series the operators are applied elementwise.", {
                            context: "pine_docs_remarks"
                        })]
                    },
                    "[]": {
                        name: "[]",
                        desc: [$.t("Series subscript. Provides access to previous values of series expr1. expr2 is the number of bars back, and must be numerical. Floats will be rounded down.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1[expr2]"],
                        returns: [$.t("A series of values", {
                            context: "pine_docs_returns"
                        })],
                        examples: ['// [] can be used to "save" variable value between bars', "a = 0.0 // declare `a`", "a := a[1] // immediately set current value to the same as previous. `na` in the beginning of history", "if high == low // if some condition - change `a` value to another", "    a := low"],
                        seeAlso: ["{@fun floor}"]
                    },
                    "==": {
                        desc: [$.t("Equal to. Applicable to expressions of any type.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 == expr2"],
                        returns: [$.t("Boolean value, or series of boolean values.", {
                            context: "pine_docs_returns"
                        })]
                    },
                    "!=": {
                        desc: [$.t("Not equal to. Applicable to expressions of any type.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 != expr2"],
                        returns: [$.t("Boolean value, or series of boolean values.", {
                            context: "pine_docs_returns"
                        })]
                    },
                    ">": {
                        desc: [$.t("Greater than. Applicable to numerical expressions.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 > expr2"],
                        returns: [$.t("Boolean value, or series of boolean values.", {
                            context: "pine_docs_returns"
                        })]
                    },
                    "<": {
                        desc: [$.t("Less than. Applicable to numerical expressions.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 < expr2"],
                        returns: [$.t("Boolean value, or series of boolean values.", {
                            context: "pine_docs_returns"
                        })]
                    },
                    ">=": {
                        desc: [$.t("Greater than or equal to. Applicable to numerical expressions.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 >= expr2"],
                        returns: [$.t("Boolean value, or series of boolean values.", {
                            context: "pine_docs_returns"
                        })]
                    },
                    "<=": {
                        desc: [$.t("Less than or equal to. Applicable to numerical expressions.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 <= expr2"],
                        returns: [$.t("Boolean value, or series of boolean values.", {
                            context: "pine_docs_returns"
                        })]
                    },
                    "*": {
                        desc: [$.t("Multiplication. Applicable to numerical expressions.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 * expr2"],
                        returns: [$.t("Integer or float value, or series of values", {
                            context: "pine_docs_returns"
                        })]
                    },
                    "/": {
                        desc: [$.t("Division. Applicable to numerical expressions.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 / expr2"],
                        returns: [$.t("Integer or float value, or series of values", {
                            context: "pine_docs_returns"
                        })]
                    },
                    "%": {
                        desc: [$.t("Modulo (integer remainder). Applicable to numerical expressions.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 % expr2"],
                        returns: [$.t("Integer or float value, or series of values", {
                            context: "pine_docs_returns"
                        })]
                    },
                    or: {
                        desc: [$.t("Logical OR. Applicable to boolean expressions.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 or expr2"],
                        returns: [$.t("Boolean value, or series of boolean values.", {
                            context: "pine_docs_returns"
                        })]
                    },
                    and: {
                        desc: [$.t("Logical AND. Applicable to boolean expressions.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["expr1 and expr2"],
                        returns: [$.t("Boolean value, or series of boolean values.", {
                            context: "pine_docs_returns"
                        })]
                    },
                    not: {
                        desc: [$.t("Logical negation (NOT). Applicable to boolean expressions.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["not expr1"],
                        returns: [$.t("Boolean value, or series of boolean values.", {
                            context: "pine_docs_returns"
                        })]
                    },
                    if: {
                        desc: [$.t("If statement defines what block of statements must be executed when conditions of the expression are satisfied.", {
                            context: "pine_docs_desc"
                        }), $.t("To have access to and use the if statement, one should specify the version of Pine Script language in the very first line of code: //@version=2", {
                            context: "pine_docs_desc"
                        }), $.t("General code form:", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["var_declarationX = if condition" + "{0}{1}var_declarationX = if condition {0}{1}var_decl_then0 {0}{1}var_decl_then1 {0}{1}… {0}{1}var_decl_thenN {0}else {0}{1}var_decl_else0 {0}{1}var_decl_else1 {0}{1}… {0}{1}var_decl_elseN {0}{1}return_expression_else".format("<br>", "&ensp;&emsp;")],
                        detailedDesc: [{
                            desc: [$.t("where:", {
                                context: "pine_docs_desc"
                            }), $.t("{0}var_declarationX{1} — this variable gets the value of the if statement", {
                                context: "pine_docs_desc"
                            }).format("<b>", "</b>"), $.t("{0}condition{1} — if the condition is true, the logic from the block then (var_decl_then0, var_decl_then1, etc) is used, if the condition is false, the logic from the block ‘else’ (var_decl_else0, var_decl_else1, etc) is used.", {
                                context: "pine_docs_desc"
                            }).format("<b>", "</b>"), $.t("{0}return_expression_then{1}, {0}return_expression_else{1} — the last expression from the block then or from the block else will return the final value of the statement. If declaration of the variable is in the end, its value will be the result.", {
                                context: "pine_docs_desc"
                            }).format("<b>", "</b>"), $.t("The type of returning value of the if statement depends on return_expression_then and return_expression_else type (their types must match: it is not possible to return an integer value from then, while you have a string value in else block).", {
                                context: "pine_docs_desc"
                            })],
                            examples: ["// This code compiles", "x = if close > open", "\tclose", "else", "\topen", "// This code doesn’t compile", "else", "x = if close > open", "\tclose", "else", '\t"open"']
                        }, {
                            desc: [$.t("It is possible to omit the else block. In this case if the condition is false, an “empty” value (na, or false, or “”) will be assigned to the var_declarationX variable.:", {
                                context: "pine_docs_desc"
                            })],
                            examples: ["x = if close > open", "\tclose", "// If current close > current open, then x = close.", "// Otherwise the x = na."]
                        }, {
                            desc: [$.t("The blocks “then” and “else” are shifted by 4 spaces. If statements can include each other, +4 spaces:", {
                                context: "pine_docs_desc"
                            })],
                            examples: ["x = if close > open", "\tb = if close > close[1]", "\t\tclose", "\telse", "\t\tclose[1]", "\tb", "else", "\topen"]
                        }, {
                            desc: [$.t("It is possible to ignore the resulting value of an if statement (“var_declarationX=“ can be omited). It may be useful if you need the side effect of the expression, for example in strategy trading:", {
                                context: "pine_docs_desc"
                            })],
                            examples: ["if (crossover(source, lower))", '\tstrategy.entry("BBandLE", strategy.long, stop=lower,', '\t\toca_name="BollingerBands",', '\t\toca_type=strategy.oca.cancel, comment="BBandLE")', "else", '\tstrategy.cancel(id="BBandLE")']
                        }]
                    },
                    for: {
                        desc: [$.t("for statement allows to execute a number of instructions repeatedly.", {
                            context: "pine_docs_desc"
                        }), $.t("To have access to and use the for statement, one should specify the version of Pine Script language in the very first line of code: //@version=2", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["var_declarationX = for counter = from_num to to_num [by step_num] {0}{1}var_decl0 {0}{1}var_decl1 {0}{1}… {0}{1}continue {0}{1}… {0}{1}break {0}{1}… {0}{1}var_declN {0}{1}return_expression".format("<br>", "&ensp;&emsp;")],
                        detailedDesc: [{
                            desc: [$.t("where:", {
                                context: "pine_docs_desc"
                            }), $.t("{0}counter{1} - a variable, loop counter.", {
                                context: "pine_docs_desc"
                            }).format("<b>", "</b>"), $.t("{0}from_num{1} - start value of the counter.", {
                                context: "pine_docs_desc"
                            }).format("<b>", "</b>"), $.t("{0}to_num{1} - end value of the counter. When the counter becomes greater than to_num (or less than to_num in case from_num > to_num) the loop is broken.", {
                                context: "pine_docs_desc"
                            }).format("<b>", "</b>"), $.t("{0}step_num{1} - loop step. Can be omitted (in the case loop step = 1). If from_num is greater than to_num loop step will change direction automatically, no need to specify negative numbers.", {
                                context: "pine_docs_desc"
                            }).format("<b>", "</b>"), $.t("{0}var_decl0{1}, {0}… var_declN{1}, {0}return_expression{1} - body of the loop. It must be shifted by 4 spaces or 1 tab.", {
                                context: "pine_docs_desc"
                            }).format("<b>", "</b>"), $.t("{0}return_expression{1} - returning value. When a loop is finished or broken, the returning value is given to the var_declarationX.", {
                                context: "pine_docs_desc"
                            }).format("<b>", "</b>"), $.t("{0}continue{1} - a keyword. Can be used only in loops. It switches the loop to next iteration.", {
                                context: "pine_docs_desc"
                            }).format("<b>", "</b>"), $.t("{0}break{1} - a keyword. Can be used only in loops. It breaks the loop.", {
                                context: "pine_docs_desc"
                            }).format("<b>", "</b>")],
                            examples: ["//@version=2", 'study("My sma")', "my_sma(price, length) =>", "\tsum = price", "\tfor i = 1 to length-1", "\t\tsum := sum + price[i]", "\tsum / length", "plot(my_sma(close,14))"]
                        }],
                        remarks: [$.t("Variable ‘sum’ is a mutable variable and a new value can be given to it by an operator := in body of the loop. Also note that we recommend to use a built-in function {@fun sma} for Moving Average as it calculates faster.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@fun sum}"]
                    }
                }
            },
            variables: {
                title: $.t("Built-in Variables"),
                prefix: "var_",
                docs: {
                    bool: {
                        name: "bool",
                        type: "string",
                        desc: [$.t("Is a named constant for bool input type of {@fun input} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var integer}, {@var float}, {@var string}, {@var symbol}, {@var resolution}, {@var session}, {@var source}, {@fun input}"]
                    },
                    integer: {
                        name: "integer",
                        type: "string",
                        desc: [$.t("Is a named constant for integer input type of {@fun input} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var bool}, {@var float}, {@var string}, {@var symbol}, {@var resolution}, {@var session}, {@var source}, {@fun input}"]
                    },
                    float: {
                        name: "float",
                        type: "string",
                        desc: [$.t("Is a named constant for float input type of {@fun input} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var bool}, {@var integer}, {@var string}, {@var symbol}, {@var resolution}, {@var session}, {@var source}, {@fun input}"]
                    },
                    string: {
                        name: "string",
                        type: "string",
                        desc: [$.t("Is a named constant for string input type of {@fun input} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var bool}, {@var integer}, {@var float}, {@var symbol}, {@var resolution}, {@var session}, {@var source}, {@fun input}"]
                    },
                    symbol: {
                        name: "symbol",
                        type: "string",
                        desc: [$.t("Is a named constant for symbol input type of {@fun input} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var bool}, {@var integer}, {@var float}, {@var string}, {@var resolution}, {@var session}, {@var source}, {@fun input}"]
                    },
                    resolution: {
                        name: "resolution",
                        type: "string",
                        desc: [$.t("Is a named constant for resolution input type of {@fun input} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var bool}, {@var integer}, {@var float}, {@var string}, {@var symbol}, {@var session}, {@var source}, {@fun input}"]
                    },
                    session: {
                        name: "session",
                        type: "string",
                        desc: [$.t("Is a named constant for session input type of {@fun input} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var bool}, {@var integer}, {@var float}, {@var string}, {@var symbol}, {@var resolution}, {@var source}, {@fun input}"]
                    },
                    source: {
                        name: "source",
                        type: "string",
                        desc: [$.t("Is a named constant for source input type of {@fun input} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var bool}, {@var integer}, {@var float}, {@var string}, {@var symbol}, {@var resolution}, {@var session}, {@fun input}"]
                    },
                    n: {
                        name: "n",
                        type: "float",
                        desc: [$.t("Current bar number.", {
                            context: "pine_docs_desc"
                        })],
                        examples: ["plot(n)", "plot(n > 5000 ? close : 0)"]
                    },
                    na: {
                        name: "na",
                        type: "na",
                        desc: [$.t("Double.NaN value (Not a Number).", {
                            context: "pine_docs_desc"
                        })],
                        remarks: [$.t("Use it for return values ONLY. DON'T TRY TO COMPARE WITH IT! If you need to check if some value is NaN, use built-in function {@fun na}.", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ["n < 10 ? na : close    // CORRECT", "", "close == na ? close[1] : close    // INCORRECT!", "na(close) ? close[1] : close    // CORRECT"],
                        seeAlso: ["{@fun na} (function)"]
                    },
                    volume: {
                        name: "volume",
                        type: "float",
                        desc: [$.t("Current bar volume.", {
                            context: "pine_docs_desc"
                        })],
                        remarks: [$.t("Previous values may be accessed with square brackets operator [], e.g. volume[1], volume[2].", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var open}, {@var high}, {@var low}, {@var close}, {@fun time}, {@var hl2}, {@var hlc3}, {@var ohlc4}"]
                    },
                    open: {
                        name: "open",
                        type: "float",
                        desc: [$.t("Current open price.", {
                            context: "pine_docs_desc"
                        })],
                        remarks: [$.t("Previous values may be accessed with square brackets operator [], e.g. open[1], open[2].", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var high}, {@var low}, {@var close}, {@var volume}, {@fun time}, {@var hl2}, {@var hlc3}, {@var ohlc4}"]
                    },
                    high: {
                        name: "high",
                        type: "float",
                        desc: [$.t("Current high price.", {
                            context: "pine_docs_desc"
                        })],
                        remarks: [$.t("Previous values may be accessed with square brackets operator [], e.g. high[1], high[2].", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var open}, {@var low}, {@var close}, {@var volume}, {@fun time}, {@var hl2}, {@var hlc3}, {@var ohlc4}"]
                    },
                    low: {
                        name: "low",
                        type: "float",
                        desc: [$.t("Current low price.", {
                            context: "pine_docs_desc"
                        })],
                        remarks: [$.t("Previous values may be accessed with square brackets operator [], e.g. low[1], low[2].", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var open}, {@var high}, {@var close}, {@var volume}, {@fun time}, {@var hl2}, {@var hlc3}, {@var ohlc4}"]
                    },
                    close: {
                        name: "close",
                        type: "float",
                        desc: [$.t("Current close price.", {
                            context: "pine_docs_desc"
                        })],
                        remarks: [$.t("Previous values may be accessed with square brackets operator [], e.g. close[1], close[2].", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var open}, {@var high}, {@var low}, {@var volume}, {@fun time}, {@var hl2}, {@var hlc3}, {@var ohlc4}"]
                    },
                    hl2: {
                        name: "hl2",
                        type: "float",
                        desc: [$.t("Is a shortcut for (high + low)/2", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var open}, {@var high}, {@var low}, {@var close}, {@var volume}, {@fun time}, {@var hlc3}, {@var ohlc4}"]
                    },
                    hlc3: {
                        name: "hlc3",
                        type: "float",
                        desc: [$.t("Is a shortcut for (high + low + close)/3", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var open}, {@var high}, {@var low}, {@var close}, {@var volume}, {@fun time}, {@var hl2}, {@var ohlc4}"]
                    },
                    ohlc4: {
                        name: "ohlc4",
                        type: "float",
                        desc: [$.t("Is a shortcut for (open + high + low + close)/4", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var open}, {@var high}, {@var low}, {@var close}, {@var volume}, {@fun time}, {@var hl2}, {@var hlc3}"]
                    },
                    vwap: {
                        name: "vwap",
                        type: "float",
                        desc: [$.t("Volume-weighted average price. It uses hlc3 as a source series.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun vwap} (function)"]
                    },
                    accdist: {
                        name: "accdist",
                        type: "float",
                        desc: [$.t("Accumulation/distribution index.", {
                            context: "pine_docs_desc"
                        })]
                    },
                    tr: {
                        name: "tr",
                        type: "float",
                        desc: [$.t("True range. Same as tr(false). It is max(high - low, high - close[1], low - close[1])", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun tr}, {@fun atr}"]
                    },
                    ticker: {
                        name: "ticker",
                        type: "string",
                        desc: [$.t("Symbol name without exchange prefix, e.g. 'MSFT'", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var tickerid}, {@var period}, {@var interval}, {@var syminfo.root}"]
                    },
                    tickerid: {
                        name: "tickerid",
                        type: "string",
                        desc: [$.t("Symbol name with exchange prefix, e.g. 'BATS:MSFT', 'NASDAQ:MSFT'", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun tickerid} (function), {@var ticker}, {@var period}, {@var interval}, {@var syminfo.root}"]
                    },
                    period: {
                        name: "period",
                        type: "string",
                        desc: [$.t("Resolution, e.g. '60' - 60 minutes, 'D' - daily, 'W' - weekly, 'M' - monthly, '5D' - 5 days, '12M' - one year, '3M' - one quartal", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var ticker}, {@var tickerid}, {@var interval}"]
                    },
                    "syminfo.root": {
                        name: "syminfo.root",
                        type: "string",
                        desc: [$.t("Root for derivates like futures contract. For other symbols returns the same value as {@var ticker}.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var ticker}, {@var tickerid}"],
                        examples: ["For example if current chart ticker is 'CLM2014', would return 'CL'."]
                    },
                    "syminfo.prefix": {
                        name: "syminfo.prefix",
                        type: "string",
                        desc: [$.t("Prefix of current symbol name (i.e. for 'CME_EOD:TICKER' prefix is 'CME_EOD').", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var ticker}, {@var tickerid}"],
                        examples: ["If current chart symbol is 'BATS:MSFT' then syminfo.prefix is 'BATS'."]
                    },
                    "syminfo.mintick": {
                        name: "syminfo.mintick",
                        type: "float",
                        desc: [$.t("Min tick value for the current symbol.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var syminfo.pointvalue}"]
                    },
                    "syminfo.pointvalue": {
                        name: "syminfo.pointvalue",
                        type: "float",
                        desc: [$.t("Point value for the current symbol.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var syminfo.mintick}"]
                    },
                    "syminfo.session": {
                        name: "syminfo.session",
                        type: "string",
                        desc: [$.t("Session type of the chart main series. Possible values are {@var session.regular}, {@var session.extended}.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var session.regular}, {@var session.extended}."]
                    },
                    "syminfo.timezone": {
                        name: "syminfo.timezone",
                        type: "string",
                        desc: [$.t("Timezone of the exchange of the chart main series. Possible values see in {@fun timestamp}.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun timestamp}"]
                    },
                    "session.regular": {
                        name: "session.regular",
                        type: "string",
                        desc: [$.t("Constant for regular session type (no extended hours data).", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var session.extended}, {@var syminfo.session}"]
                    },
                    "session.extended": {
                        name: "session.extended",
                        type: "string",
                        desc: [$.t("Constant for extended session type (with extended hours data).", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var session.regular}, {@var syminfo.session}"]
                    },
                    interval: {
                        name: "interval",
                        type: "integer",
                        desc: [$.t("Multiplier of resolution, e.g. '60' - 60, 'D' - 1, '5D' - 5, '12M' - 12", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var ticker}, {@var tickerid}, {@var period}"]
                    },
                    isdwm: {
                        name: "isdwm",
                        type: "bool",
                        desc: [$.t("Returns true if current resolution is a daily or weekly or monthly resolution, false otherwise.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var isintraday}, {@var isdaily}, {@var isweekly}, {@var ismonthly}"]
                    },
                    isintraday: {
                        name: "isintraday",
                        type: "bool",
                        desc: [$.t("Returns true if current resolution is a intraday resolution, false otherwise.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var isdwm}, {@var isdaily}, {@var isweekly}, {@var ismonthly}"]
                    },
                    isdaily: {
                        name: "isdaily",
                        type: "bool",
                        desc: [$.t("Returns true if current resolution is a daily resolution, false otherwise.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var isdwm}, {@var isintraday}, {@var isweekly}, {@var ismonthly}"]
                    },
                    isweekly: {
                        name: "isweekly",
                        type: "bool",
                        desc: [$.t("Returns true if current resolution is a weekly resolution, false otherwise.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var isdwm}, {@var isintraday}, {@var isdaily}, {@var ismonthly}"]
                    },
                    ismonthly: {
                        name: "ismonthly",
                        type: "bool",
                        desc: [$.t("Returns true if current resolution is a monthly resolution, false otherwise.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var isdwm}, {@var isintraday}, {@var isdaily}, {@var isweekly}"]
                    },
                    black: {
                        name: "black",
                        type: "color",
                        desc: [$.t("Is a named constant for #000000 color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var silver}, {@var gray}, {@var white}, {@var maroon}, {@var red}, {@var purple}, {@var fuchsia}, {@var green}, {@var lime}, {@var olive}, {@var yellow}, {@var navy}, {@var blue}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    silver: {
                        name: "silver",
                        type: "color",
                        desc: [$.t("Is a named constant for #C0C0C0 color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var gray}, {@var white}, {@var maroon}, {@var red}, {@var purple}, {@var fuchsia}, {@var green}, {@var lime}, {@var olive}, {@var yellow}, {@var navy}, {@var blue}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    gray: {
                        name: "gray",
                        type: "color",
                        desc: [$.t("Is a named constant for #808080 color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var white}, {@var maroon}, {@var red}, {@var purple}, {@var fuchsia}, {@var green}, {@var lime}, {@var olive}, {@var yellow}, {@var navy}, {@var blue}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    white: {
                        name: "white",
                        type: "color",
                        desc: [$.t("Is a named constant for #FFFFFF color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var maroon}, {@var red}, {@var purple}, {@var fuchsia}, {@var green}, {@var lime}, {@var olive}, {@var yellow}, {@var navy}, {@var blue}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    maroon: {
                        name: "maroon",
                        type: "color",
                        desc: [$.t("Is a named constant for #800000 color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var white}, {@var red}, {@var purple}, {@var fuchsia}, {@var green}, {@var lime}, {@var olive}, {@var yellow}, {@var navy}, {@var blue}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    red: {
                        name: "red",
                        type: "color",
                        desc: [$.t("Is a named constant for #FF0000 color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var white}, {@var maroon}, {@var purple}, {@var fuchsia}, {@var green}, {@var lime}, {@var olive}, {@var yellow}, {@var navy}, {@var blue}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    purple: {
                        name: "purple",
                        type: "color",
                        desc: [$.t("Is a named constant for #800080 color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var white}, {@var maroon}, {@var red}, {@var fuchsia}, {@var green}, {@var lime}, {@var olive}, {@var yellow}, {@var navy}, {@var blue}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    fuchsia: {
                        name: "fuchsia",
                        type: "color",
                        desc: [$.t("Is a named constant for #FF00FF color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var white}, {@var maroon}, {@var red}, {@var purple}, {@var green}, {@var lime}, {@var olive}, {@var yellow}, {@var navy}, {@var blue}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    green: {
                        name: "green",
                        type: "color",
                        desc: [$.t("Is a named constant for #008000 color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var white}, {@var maroon}, {@var red}, {@var purple}, {@var fuchsia}, {@var lime}, {@var olive}, {@var yellow}, {@var navy}, {@var blue}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    lime: {
                        name: "lime",
                        type: "color",
                        desc: [$.t("Is a named constant for #00FF00 color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var white}, {@var maroon}, {@var red}, {@var purple}, {@var fuchsia}, {@var green}, {@var olive}, {@var yellow}, {@var navy}, {@var blue}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    olive: {
                        name: "olive",
                        type: "color",
                        desc: [$.t("Is a named constant for #808000 color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var white}, {@var maroon}, {@var red}, {@var purple}, {@var fuchsia}, {@var green}, {@var lime}, {@var yellow}, {@var navy}, {@var blue}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    yellow: {
                        name: "yellow",
                        type: "color",
                        desc: [$.t("Is a named constant for #FFFF00 color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var white}, {@var maroon}, {@var red}, {@var purple}, {@var fuchsia}, {@var green}, {@var lime}, {@var olive}, {@var navy}, {@var blue}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    navy: {
                        name: "navy",
                        type: "color",
                        desc: [$.t("Is a named constant for #000080 color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var white}, {@var maroon}, {@var red}, {@var purple}, {@var fuchsia}, {@var green}, {@var lime}, {@var olive}, {@var yellow}, {@var blue}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    blue: {
                        name: "blue",
                        type: "color",
                        desc: [$.t("Is a named constant for #0000FF color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var white}, {@var maroon}, {@var red}, {@var purple}, {@var fuchsia}, {@var green}, {@var lime}, {@var olive}, {@var yellow}, {@var navy}, {@var teal}, {@var aqua}, {@var orange}"]
                    },
                    teal: {
                        name: "teal",
                        type: "color",
                        desc: [$.t("Is a named constant for #008080 color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var white}, {@var maroon}, {@var red}, {@var purple}, {@var fuchsia}, {@var green}, {@var lime}, {@var olive}, {@var yellow}, {@var navy}, {@var blue}, {@var aqua}, {@var orange}"]
                    },
                    aqua: {
                        name: "aqua",
                        type: "color",
                        desc: [$.t("Is a named constant for #00FFFF color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var white}, {@var maroon}, {@var red}, {@var purple}, {@var fuchsia}, {@var green}, {@var lime}, {@var olive}, {@var yellow}, {@var navy}, {@var blue}, {@var teal}, {@var orange}"]
                    },
                    orange: {
                        name: "orange",
                        type: "color",
                        desc: [$.t("Is a named constant for #FF7F00 color.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var black}, {@var silver}, {@var gray}, {@var white}, {@var maroon}, {@var red}, {@var purple}, {@var fuchsia}, {@var green}, {@var lime}, {@var olive}, {@var yellow}, {@var navy}, {@var blue}, {@var teal}, {@var aqua}"]
                    },
                    solid: {
                        name: "solid",
                        type: "integer",
                        desc: [$.t("Is a named constant for solid linestyle of {@fun hline} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var dotted}, {@var dashed}"]
                    },
                    dotted: {
                        name: "dotted",
                        type: "integer",
                        desc: [$.t("Is a named constant for dotted linestyle of {@fun hline} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var solid}, {@var dashed}"]
                    },
                    dashed: {
                        name: "dashed",
                        type: "integer",
                        desc: [$.t("Is a named constant for dashed linestyle of {@fun hline} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var solid}, {@var dotted}"]
                    },
                    "size.auto": {
                        name: "size.auto",
                        type: "string",
                        desc: [$.t("Size value for {@fun plotshape}, {@fun plotchar} functions. The size of the shape automatically adapts to the size of the bars.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}, {@fun plotchar}, {@var size.tiny}, {@var size.small}, {@var size.normal}, {@var size.large}, {@var size.huge}"]
                    },
                    "size.tiny": {
                        name: "size.tiny",
                        type: "string",
                        desc: [$.t("Size value for {@fun plotshape}, {@fun plotchar} functions. The size of the shape constantly tiny.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}, {@fun plotchar}, {@var size.auto}, {@var size.small}, {@var size.normal}, {@var size.large}, {@var size.huge}"]
                    },
                    "size.small": {
                        name: "size.small",
                        type: "string",
                        desc: [$.t("Size value for {@fun plotshape}, {@fun plotchar} functions. The size of the shape constantly small.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}, {@fun plotchar}, {@var size.auto}, {@var size.tiny}, {@var size.normal}, {@var size.large}, {@var size.huge}"]
                    },
                    "size.normal": {
                        name: "size.normal",
                        type: "string",
                        desc: [$.t("Size value for {@fun plotshape}, {@fun plotchar} functions. The size of the shape constantly normal.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}, {@fun plotchar}, {@var size.auto}, {@var size.tiny}, {@var size.small}, {@var size.large}, {@var size.huge}"]
                    },
                    "size.large": {
                        name: "size.large",
                        type: "string",
                        desc: [$.t("Size value for {@fun plotshape}, {@fun plotchar} functions. The size of the shape constantly large.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}, {@fun plotchar}, {@var size.auto}, {@var size.tiny}, {@var size.small}, {@var size.normal}, {@var size.huge}"]
                    },
                    "size.huge": {
                        name: "size.huge",
                        type: "string",
                        desc: [$.t("Size value for {@fun plotshape}, {@fun plotchar} functions. The size of the shape constantly huge.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}, {@fun plotchar}, {@var size.auto}, {@var size.tiny}, {@var size.small}, {@var size.normal}, {@var size.large}"]
                    },
                    line: {
                        name: "line",
                        type: "integer",
                        desc: [$.t("Is a named constant for line style of {@fun plot} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var linebr}, {@var histogram}, {@var cross}, {@var area}, {@var areabr}, {@var columns}, {@var circles}"]
                    },
                    linebr: {
                        name: "linebr",
                        type: "integer",
                        desc: [$.t("Is a named constant for line style of {@fun plot} function. Same as line but doesn't fill the breaks (gaps) in data.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var line}, {@var histogram}, {@var cross}, {@var area}, {@var areabr}, {@var columns}, {@var circles}"]
                    },
                    histogram: {
                        name: "histogram",
                        type: "integer",
                        desc: [$.t("Is a named constant for histogram style of {@fun plot} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var line}, {@var linebr}, {@var cross}, {@var area}, {@var areabr}, {@var columns}, {@var circles}"]
                    },
                    cross: {
                        name: "cross",
                        type: "integer",
                        desc: [$.t("Is a named constant for cross style of {@fun plot} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var line}, {@var linebr}, {@var histogram}, {@var area}, {@var areabr}, {@var columns}, {@var circles}"]
                    },
                    area: {
                        name: "area",
                        type: "integer",
                        desc: [$.t("Is a named constant for area style of {@fun plot} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var line}, {@var linebr}, {@var histogram}, {@var areabr}, {@var cross}, {@var columns}, {@var circles}"]
                    },
                    areabr: {
                        name: "areabr",
                        type: "integer",
                        desc: [$.t("Is a named constant for area style of {@fun plot} function. Same as area but doesn't fill the breaks (gaps) in data.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var line}, {@var linebr}, {@var histogram}, {@var cross}, {@var area}, {@var columns}, {@var circles}"]
                    },
                    columns: {
                        name: "columns",
                        type: "integer",
                        desc: [$.t("Is a named constant for columns style of {@fun plot} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var line}, {@var linebr}, {@var histogram}, {@var cross}, {@var area}, {@var areabr}, {@var circles}"]
                    },
                    circles: {
                        name: "circles",
                        type: "integer",
                        desc: [$.t("Is a named constant for circles style of {@fun plot} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var line}, {@var linebr}, {@var histogram}, {@var cross}, {@var area}, {@var areabr}, {@var columns}"]
                    },
                    sunday: {
                        name: "sunday",
                        type: "integer",
                        desc: [$.t("Is a named constant for return value of {@fun dayofweek} function and value of {@var dayofweek} variable.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var monday}, {@var tuesday}, {@var wednesday}, {@var thursday}, {@var friday}, {@var saturday}"]
                    },
                    monday: {
                        name: "monday",
                        type: "integer",
                        desc: [$.t("Is a named constant for return value of {@fun dayofweek} function and value of {@var dayofweek} variable.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var sunday}, {@var tuesday}, {@var wednesday}, {@var thursday}, {@var friday}, {@var saturday}"]
                    },
                    tuesday: {
                        name: "tuesday",
                        type: "integer",
                        desc: [$.t("Is a named constant for return value of {@fun dayofweek} function and value of {@var dayofweek} variable.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var sunday}, {@var monday}, {@var wednesday}, {@var thursday}, {@var friday}, {@var saturday}"]
                    },
                    wednesday: {
                        name: "wednesday",
                        type: "integer",
                        desc: [$.t("Is a named constant for return value of {@fun dayofweek} function and value of {@var dayofweek} variable.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var sunday}, {@var monday}, {@var tuesday}, {@var thursday}, {@var friday}, {@var saturday}"]
                    },
                    thursday: {
                        name: "thursday",
                        type: "integer",
                        desc: [$.t("Is a named constant for return value of {@fun dayofweek} function and value of {@var dayofweek} variable.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var sunday}, {@var monday}, {@var tuesday}, {@var wednesday}, {@var friday}, {@var saturday}"]
                    },
                    friday: {
                        name: "friday",
                        type: "integer",
                        desc: [$.t("Is a named constant for return value of {@fun dayofweek} function and value of {@var dayofweek} variable.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var sunday}, {@var monday}, {@var tuesday}, {@var wednesday}, {@var thursday}, {@var saturday}"]
                    },
                    saturday: {
                        name: "saturday",
                        type: "integer",
                        desc: [$.t("Is a named constant for return value of {@fun dayofweek} function and value of {@var dayofweek} variable.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var sunday}, {@var monday}, {@var tuesday}, {@var wednesday}, {@var thursday}, {@var friday}"]
                    },
                    timenow: {
                        name: "timenow",
                        type: "float",
                        desc: [$.t("Current time in UNIX format. It is the number of milliseconds that have elapsed since 00:00:00 UTC, 1 January 1970.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun timestamp}, {@var time} (variable), {@var year}, {@var month}, {@var weekofyear}, {@var dayofmonth}, {@var dayofweek}, {@var hour}, {@var minute}, {@var second}"]
                    },
                    time: {
                        name: "time",
                        type: "float",
                        desc: [$.t("Current bar time in UNIX format. It is the number of milliseconds that have elapsed since 00:00:00 UTC, 1 January 1970.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun time} (function), {@var timenow}, {@var year}, {@var month}, {@var weekofyear}, {@var dayofmonth}, {@var dayofweek}, {@var hour}, {@var minute}, {@var second}"]
                    },
                    year: {
                        name: "year",
                        type: "float",
                        desc: [$.t("Current bar year in exchange timezone.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun year} (function), {@var time}, {@var month}, {@var weekofyear}, {@var dayofmonth}, {@var dayofweek}, {@var hour}, {@var minute}, {@var second}"]
                    },
                    month: {
                        name: "month",
                        type: "float",
                        desc: [$.t("Current bar month in exchange timezone.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun month} (function), {@var time}, {@var year}, {@var weekofyear}, {@var dayofmonth}, {@var dayofweek}, {@var hour}, {@var minute}, {@var second}"]
                    },
                    weekofyear: {
                        name: "weekofyear",
                        type: "float",
                        desc: [$.t("Week number of current bar time in exchange timezone.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun weekofyear} (function), {@var time}, {@var year}, {@var month}, {@var dayofmonth}, {@var dayofweek}, {@var hour}, {@var minute}, {@var second}"]
                    },
                    dayofmonth: {
                        name: "dayofmonth",
                        type: "float",
                        desc: [$.t("Date of current bar time in exchange timezone.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun dayofmonth} (function), {@var time}, {@var year}, {@var month}, {@var weekofyear}, {@var dayofweek}, {@var hour}, {@var minute}, {@var second}"]
                    },
                    dayofweek: {
                        name: "dayofweek",
                        type: "float",
                        desc: [$.t("Day of week for current bar time in exchange timezone.", {
                            context: "pine_docs_desc"
                        })],
                        remarks: [$.t("You can use {@var sunday}, {@var monday}, {@var tuesday}, {@var wednesday}, {@var thursday}, {@var friday} and {@var saturday} variables for comparsions.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@fun dayofweek} (function), {@var time}, {@var year}, {@var month}, {@var weekofyear}, {@var dayofmonth}, {@var hour}, {@var minute}, {@var second}"]
                    },
                    hour: {
                        name: "hour",
                        type: "float",
                        desc: [$.t("Current bar hour in exchange timezone.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun hour} (function), {@var time}, {@var year}, {@var month}, {@var weekofyear}, {@var dayofmonth}, {@var dayofweek}, {@var minute}, {@var second}"]
                    },
                    minute: {
                        name: "minute",
                        type: "float",
                        desc: [$.t("Current bar minute in exchange timezone.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun minute} (function), {@var time}, {@var year}, {@var month}, {@var weekofyear}, {@var dayofmonth}, {@var dayofweek}, {@var hour}, {@var second}"]
                    },
                    second: {
                        name: "second",
                        type: "float",
                        desc: [$.t("Current bar second in exchange timezone.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun second} (function), {@var time}, {@var year}, {@var month}, {@var weekofyear}, {@var dayofmonth}, {@var dayofweek}, {@var hour}, {@var minute}"]
                    },
                    "shape.xcross": {
                        name: "shape.xcross",
                        type: "string",
                        desc: [$.t("Shape style for {@fun plotshape} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}"]
                    },
                    "shape.cross": {
                        name: "shape.cross",
                        type: "string",
                        desc: [$.t("Shape style for {@fun plotshape} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}"]
                    },
                    "shape.circle": {
                        name: "shape.circle",
                        type: "string",
                        desc: [$.t("Shape style for {@fun plotshape} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}"]
                    },
                    "shape.triangleup": {
                        name: "shape.triangleup",
                        type: "string",
                        desc: [$.t("Shape style for {@fun plotshape} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}"]
                    },
                    "shape.triangledown": {
                        name: "shape.triangledown",
                        type: "string",
                        desc: [$.t("Shape style for {@fun plotshape} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}"]
                    },
                    "shape.flag": {
                        name: "shape.flag",
                        type: "string",
                        desc: [$.t("Shape style for {@fun plotshape} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}"]
                    },
                    "shape.arrowup": {
                        name: "shape.arrowup",
                        type: "string",
                        desc: [$.t("Shape style for {@fun plotshape} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}"]
                    },
                    "shape.arrowdown": {
                        name: "shape.arrowdown",
                        type: "string",
                        desc: [$.t("Shape style for {@fun plotshape} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}"]
                    },
                    "shape.labelup": {
                        name: "shape.labelup",
                        type: "string",
                        desc: [$.t("Shape style for {@fun plotshape} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}"]
                    },
                    "shape.labeldown": {
                        name: "shape.labeldown",
                        type: "string",
                        desc: [$.t("Shape style for {@fun plotshape} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}"]
                    },
                    "shape.square": {
                        name: "shape.square",
                        type: "string",
                        desc: [$.t("Shape style for {@fun plotshape} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}"]
                    },
                    "shape.diamond": {
                        name: "shape.diamond",
                        type: "string",
                        desc: [$.t("Shape style for {@fun plotshape} function.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}"]
                    },
                    "location.abovebar": {
                        name: "location.abovebar",
                        type: "string",
                        desc: [$.t("Location value for {@fun plotshape}, {@fun plotchar} functions. Shape is plotted above main series bars.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}, {@fun plotchar}, {@var location.belowbar}, {@var location.top}, {@var location.bottom}, {@var location.absolute}"]
                    },
                    "location.belowbar": {
                        name: "location.belowbar",
                        type: "string",
                        desc: [$.t("Location value for {@fun plotshape}, {@fun plotchar} functions. Shape is plotted below main series bars.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}, {@fun plotchar}, {@var location.abovebar}, {@var location.top}, {@var location.bottom}, {@var location.absolute}"]
                    },
                    "location.top": {
                        name: "location.top",
                        type: "string",
                        desc: [$.t("Location value for {@fun plotshape}, {@fun plotchar} functions. Shape is plotted near the top chart border.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}, {@fun plotchar}, {@var location.abovebar}, {@var location.belowbar}, {@var location.bottom}, {@var location.absolute}"]
                    },
                    "location.bottom": {
                        name: "location.bottom",
                        type: "string",
                        desc: [$.t("Location value for {@fun plotshape}, {@fun plotchar} functions. Shape is plotted near the bottom chart border.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}, {@fun plotchar}, {@var location.abovebar}, {@var location.belowbar}, {@var location.top}, {@var location.absolute}"]
                    },
                    "location.absolute": {
                        name: "location.absolute",
                        type: "string",
                        desc: [$.t("Location value for {@fun plotshape}, {@fun plotchar} functions. Shape is plotted on chart using indicator value as a price coordinate.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun plotshape}, {@fun plotchar}, {@var location.abovebar}, {@var location.belowbar}, {@var location.top}, {@var location.bottom}"]
                    },
                    "scale.right": {
                        name: "scale.right",
                        type: "integer",
                        desc: [$.t("Scale value for {@fun study} function. Study is added to the right price scale. This is default behaviour.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun study}"]
                    },
                    "scale.left": {
                        name: "scale.left",
                        type: "integer",
                        desc: [$.t("Scale value for {@fun study} function. Study is added to the left price scale.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun study}"]
                    },
                    "scale.none": {
                        name: "scale.none",
                        type: "integer",
                        desc: [$.t("Scale value for {@fun study} function. Study is added in 'No Scale' mode. Can be used only with 'overlay=true'.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun study}"]
                    },
                    "strategy.oca.none": {
                        name: "strategy.oca.none",
                        type: "string",
                        desc: [$.t("OCA type value for strategy's functions. The parameter determines that an order should not belong to any particular OCO group.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy.entry}, {@fun strategy.exit}, {@fun strategy.order}"]
                    },
                    "strategy.oca.cancel": {
                        name: "strategy.oca.cancel",
                        type: "string",
                        desc: [$.t("OCA type value for strategy's functions. The parameter determines that an order should belong to an OCO group, where as soon as an order is filled, all other orders of the same group are cancelled. Note: if more than 1 guaranteed-to-be-executed orders of the same OCA group are placed at once, all those orders are filled.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy.entry}, {@fun strategy.exit}, {@fun strategy.order}"]
                    },
                    "strategy.oca.reduce": {
                        name: "strategy.oca.reduce",
                        type: "string",
                        desc: [$.t("OCA type value for strategy's functions. The parameter determines that an order should belong to an OCO group, where if X number of contracts of an order is filled, number of contracts for each other order of the same OCO group is decreased by X. Note: if more than 1 guaranteed-to-be-executed orders of the same OCA group are placed at once, all those orders are filled.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy.entry}, {@fun strategy.exit}, {@fun strategy.order}"]
                    },
                    "strategy.commission.percent": {
                        name: "strategy.commission.percent",
                        type: "string",
                        desc: [$.t("Commission type for an order. A percentage of the cash volume of order.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "strategy.commission.cash_per_contract": {
                        name: "strategy.commission.cash_per_contract",
                        type: "string",
                        desc: [$.t("Commission type for an order. Money displayed in the account currency per contract.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "strategy.commission.cash_per_order": {
                        name: "strategy.commission.cash_per_order",
                        type: "string",
                        desc: [$.t("Commission type for an order. Money displayed in the account currency per order.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "strategy.fixed": {
                        name: "strategy.fixed",
                        type: "string",
                        desc: [$.t("If the number of contracts/shares/lots/units to buy/sell is not specified for {@fun strategy.entry} or {@fun strategy.order} commands (or 'NaN' is specified), then the 'default_qty_value' is used to define the quantity.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "strategy.cash": {
                        name: "strategy.cash",
                        type: "string",
                        desc: [$.t("If the number of contracts/shares/lots/units to buy/sell is not specified for {@fun strategy.entry} or {@fun strategy.order} commands (or 'NaN' is specified), then strategy will calculate the quantity to buy/sell at close of current bar using the amount of money specified in the 'default_qty_value'.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "strategy.percent_of_equity": {
                        name: "strategy.percent_of_equity",
                        type: "string",
                        desc: [$.t("If the number of contracts/shares/lots/units to buy/sell is not specified for {@fun strategy.entry} or {@fun strategy.order} commands (or 'NaN' is specified), then strategy will calculate the quantity to buy/sell at close of current bar using the amount of money specified by the 'default_qty_value' in % from current strategy.equity (in the range from 0 to 100).", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "strategy.direction.all": {
                        name: "strategy.direction.all",
                        type: "string",
                        desc: [$.t("It allows strategy to open both long and short positions.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy.risk.allow_entry_in}"]
                    },
                    "strategy.direction.long": {
                        name: "strategy.direction.long",
                        type: "string",
                        desc: [$.t("It allows strategy to open only long positions.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy.risk.allow_entry_in}"]
                    },
                    "strategy.direction.short": {
                        name: "strategy.direction.short",
                        type: "string",
                        desc: [$.t("It allows strategy to open only short positions.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy.risk.allow_entry_in}"]
                    },
                    "strategy.position_size": {
                        name: "strategy.position_size",
                        type: "float",
                        desc: [$.t("Direction and size of the current market position. If the value is > 0, the market position is long. If the value is < 0, the market position is short. The absolute value is the number of contracts/shares/lots/units in trade (position size).", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.position_avg_price}"]
                    },
                    "strategy.position_avg_price": {
                        name: "strategy.position_avg_price",
                        type: "float",
                        desc: [$.t("Average entry price of current market position. If the market position is flat, 'NaN' is returned.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.position_size}"]
                    },
                    "strategy.openprofit": {
                        name: "strategy.openprofit",
                        type: "float",
                        desc: [$.t("Current unrealized profit or loss for the open position.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.netprofit}, {@var strategy.position_size}"]
                    },
                    "strategy.netprofit": {
                        name: "strategy.netprofit",
                        type: "float",
                        desc: [$.t("Total currency value of all completed trades.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.openprofit}, {@var strategy.position_size}, {@var strategy.grossprofit}, {@var strategy.grossloss}"]
                    },
                    "strategy.equity": {
                        name: "strategy.equity",
                        type: "float",
                        desc: [$.t("Current equity ( {@var strategy.initial_capital} + {@var strategy.netprofit} + {@var strategy.openprofit} ).", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.netprofit}, {@var strategy.openprofit}, {@var strategy.position_size}"]
                    },
                    "strategy.position_entry_name": {
                        name: "strategy.position_entry_name",
                        type: "string",
                        desc: [$.t("Name of the order that initially opened current market position.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.position_size}"]
                    },
                    "strategy.grossprofit": {
                        name: "strategy.grossprofit",
                        type: "float",
                        desc: [$.t("Total currency value of all completed winning trades.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.netprofit}, {@var strategy.grossloss}"]
                    },
                    "strategy.grossloss": {
                        name: "strategy.grossloss",
                        type: "float",
                        desc: [$.t("Total currency value of all completed losing trades.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.netprofit}, {@var strategy.grossprofit}"]
                    },
                    "strategy.max_drawdown": {
                        name: "strategy.max_drawdown",
                        type: "float",
                        desc: [$.t("Maximum equity drawdown value for the whole trading interval.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.netprofit}, {@var strategy.equity}"]
                    },
                    "strategy.max_contracts_held_all": {
                        name: "strategy.max_contracts_held_all",
                        type: "integer",
                        desc: [$.t("Maximum number of contracts/shares/lots/units in one trade for the whole trading interval.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.position_size}, {@var strategy.max_contracts_held_long}, {@var strategy.max_contracts_held_short}"]
                    },
                    "strategy.max_contracts_held_long": {
                        name: "strategy.max_contracts_held_long",
                        type: "integer",
                        desc: [$.t("Maximum number of contracts/shares/lots/units in one long trade for the whole trading interval.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.position_size}, {@var strategy.max_contracts_held_all}, {@var strategy.max_contracts_held_short}"]
                    },
                    "strategy.max_contracts_held_short": {
                        name: "strategy.max_contracts_held_short",
                        type: "integer",
                        desc: [$.t("Maximum number of contracts/shares/lots/units in one short trade for the whole trading interval.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.position_size}, {@var strategy.max_contracts_held_all}, {@var strategy.max_contracts_held_long}"]
                    },
                    "strategy.opentrades": {
                        name: "strategy.opentrades",
                        type: "integer",
                        desc: [$.t("Number of market position entries, which were not closed and remain opened. If there is no open market position, 0 is returned.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.position_size}"]
                    },
                    "strategy.closedtrades": {
                        name: "strategy.closedtrades",
                        type: "integer",
                        desc: [$.t("Number of trades, which were closed for the whole trading interval.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.position_size}, {@var strategy.opentrades}, {@var strategy.wintrades}, {@var strategy.losstrades}, {@var strategy.eventrades}"]
                    },
                    "strategy.wintrades": {
                        name: "strategy.wintrades",
                        type: "integer",
                        desc: [$.t("Number of profitable trades for the whole trading interval.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.position_size}, {@var strategy.opentrades}, {@var strategy.closedtrades}, {@var strategy.losstrades}, {@var strategy.eventrades}"]
                    },
                    "strategy.losstrades": {
                        name: "strategy.losstrades",
                        type: "integer",
                        desc: [$.t("Number of unprofitable trades for the whole trading interval.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.position_size}, {@var strategy.opentrades}, {@var strategy.closedtrades}, {@var strategy.wintrades}, {@var strategy.eventrades}"]
                    },
                    "strategy.eventrades": {
                        name: "strategy.eventrades",
                        type: "integer",
                        desc: [$.t("Number of breakeven trades for the whole trading interval.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var strategy.position_size}, {@var strategy.opentrades}, {@var strategy.closedtrades}, {@var strategy.wintrades}, {@var strategy.losstrades}"]
                    },
                    "strategy.initial_capital": {
                        name: "strategy.initial_capital",
                        type: "float",
                        desc: [$.t("The amount of initial capital set in the strategy properties.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.NONE": {
                        name: "currency.NONE",
                        type: "string",
                        desc: [$.t("Unspecified currency.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.USD": {
                        name: "currency.USD",
                        type: "string",
                        desc: [$.t("United States dollar.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.EUR": {
                        name: "currency.EUR",
                        type: "string",
                        desc: [$.t("Euro.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.AUD": {
                        name: "currency.AUD",
                        type: "string",
                        desc: [$.t(" Australian dollar.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.GBP": {
                        name: "currency.GBP",
                        type: "string",
                        desc: [$.t("Pound sterling.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.NZD": {
                        name: "currency.NZD",
                        type: "string",
                        desc: [$.t("New Zealand dollar.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.CAD": {
                        name: "currency.CAD",
                        type: "string",
                        desc: [$.t("Canadian dollar.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.CHF": {
                        name: "currency.CHF",
                        type: "string",
                        desc: [$.t("Swiss franc.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.HKD": {
                        name: "currency.HKD",
                        type: "string",
                        desc: [$.t("Hong Kong dollar.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.JPY": {
                        name: "currency.JPY",
                        type: "string",
                        desc: [$.t("Japanese yen.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.NOK": {
                        name: "currency.NOK",
                        type: "string",
                        desc: [$.t("Norwegian krone.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.SEK": {
                        name: "currency.SEK",
                        type: "string",
                        desc: [$.t("Swedish krona.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.SGD": {
                        name: "currency.SGD",
                        type: "string",
                        desc: [$.t("Singapore dollar.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.TRY": {
                        name: "currency.TRY",
                        type: "string",
                        desc: [$.t("Turkish lira.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.ZAR": {
                        name: "currency.ZAR",
                        type: "string",
                        desc: [$.t("South African rand.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "currency.RUB": {
                        name: "currency.RUB",
                        type: "string",
                        desc: [$.t("Russian ruble.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy}"]
                    },
                    "strategy.long": {
                        name: "strategy.long",
                        type: "bool",
                        desc: [$.t("Long position entry.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy.entry}, {@fun strategy.exit}, {@fun strategy.order}"]
                    },
                    "strategy.short": {
                        name: "strategy.short",
                        type: "bool",
                        desc: [$.t("Short position entry.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun strategy.entry}, {@fun strategy.exit}, {@fun strategy.order}"]
                    },
                    "barstate.isfirst": {
                        name: "barstate.isfirst",
                        type: "bool",
                        desc: [$.t("Returns true if current bar is first bar in barset, false otherwise.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var barstate.islast}, {@var barstate.ishistory}, {@var barstate.isrealtime}, {@var barstate.isnew}, {@var barstate.isconfirmed}"],
                        remarks: [$.t("PineScript code that uses this variable could calculate differently on history and realtime data.", {
                            context: "pine_docs_remarks"
                        })]
                    },
                    "barstate.islast": {
                        name: "barstate.islast",
                        type: "bool",
                        desc: [$.t("Returns true if current bar is the last bar in barset, false otherwise. This condition is true for all realtime bars in barset.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var barstate.isfirst}, {@var barstate.ishistory}, {@var barstate.isrealtime}, {@var barstate.isnew}, {@var barstate.isconfirmed}"],
                        remarks: [$.t("PineScript code that uses this variable could calculate differently on history and realtime data.", {
                            context: "pine_docs_remarks"
                        })]
                    },
                    "barstate.ishistory": {
                        name: "barstate.ishistory",
                        type: "bool",
                        desc: [$.t("Returns true if current bar is a historical bar, false otherwise.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var barstate.isfirst}, {@var barstate.islast}, {@var barstate.isrealtime}, {@var barstate.isnew}, {@var barstate.isconfirmed}"],
                        remarks: [$.t("PineScript code that uses this variable could calculate differently on history and realtime data.", {
                            context: "pine_docs_remarks"
                        })]
                    },
                    "barstate.isrealtime": {
                        name: "barstate.isrealtime",
                        type: "bool",
                        desc: [$.t("Returns true if current bar is a realtime bar, false otherwise.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var barstate.isfirst}, {@var barstate.islast}, {@var barstate.ishistory}, {@var barstate.isnew}, {@var barstate.isconfirmed}"],
                        remarks: [$.t("PineScript code that uses this variable could calculate differently on history and realtime data.", {
                            context: "pine_docs_remarks"
                        })]
                    },
                    "barstate.isnew": {
                        name: "barstate.isnew",
                        type: "bool",
                        desc: [$.t("Returns true if script is currently calculating on new bar, false otherwise. This variable is true when calculating on historical bars or on first update of a newly generated realtime bar.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var barstate.isfirst}, {@var barstate.islast}, {@var barstate.ishistory}, {@var barstate.isrealtime}, {@var barstate.isconfirmed}"],
                        remarks: [$.t("PineScript code that uses this variable could calculate differently on history and realtime data.", {
                            context: "pine_docs_remarks"
                        })]
                    },
                    "barstate.isconfirmed": {
                        name: "barstate.isconfirmed",
                        type: "bool",
                        desc: [$.t("Returns true if the script is calculating the last (closing) update of the current bar. The next script calculation will be on the new bar data.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@var barstate.isfirst}, {@var barstate.islast}, {@var barstate.ishistory}, {@var barstate.isrealtime}, {@var barstate.isnew}"],
                        remarks: [$.t("PineScript code that uses this variable could calculate differently on history and realtime data.", {
                            context: "pine_docs_remarks"
                        }), $.t("It is NOT recommended to use {@var barstate.isconfirmed} in {@fun security} expression. Its value requested from {@fun security} is unpredictable.", {
                            context: "pine_docs_remarks"
                        })]
                    },
                    "barmerge.lookahead_off": {
                        name: "barmerge.lookahead_off",
                        type: "bool",
                        desc: [$.t('Merge strategy for the requested data position. Requested barset is merged with current barset in the order of sorting bars by their close time. This merge strategy disables effect of getting data from "future" on calculation on history.', {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun security}, {@var barmerge.lookahead_on}"]
                    },
                    "barmerge.lookahead_on": {
                        name: "barmerge.lookahead_on",
                        type: "bool",
                        desc: [$.t('Merge strategy for the requested data position. Requested barset is merged with current barset in the order of sorting bars by their opening time. This merge strategy can lead to undesirable effect of getting data from "future" on calculation on history. This is unacceptable in backtesting strategies, but can be useful in indicators.', {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun security}, {@var barmerge.lookahead_off}"]
                    },
                    "barmerge.gaps_off": {
                        name: "barmerge.gaps_off",
                        type: "bool",
                        desc: [$.t("Merge strategy for requested data. Data is merged continuously without gaps, all the gaps are filled with the previous nearest existing value.", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun security}, {@var barmerge.gaps_on}"]
                    },
                    "barmerge.gaps_on": {
                        name: "barmerge.gaps_on",
                        type: "bool",
                        desc: [$.t("Merge strategy for requested data. Data is merged with possible gaps ({@var na} values).", {
                            context: "pine_docs_desc"
                        })],
                        seeAlso: ["{@fun security}, {@var barmerge.gaps_off}"]
                    }
                }
            },
            functions: {
                title: $.t("Built-in Functions"),
                prefix: "fun_",
                docs: {
                    study: {
                        kind: "Built-in annotation function",
                        desc: [$.t("The function sets a number of study properties.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["study(title, shorttitle, overlay, precision, scale, max_bars_back) → void"],
                        args: [{
                            name: "title",
                            type: "string",
                            info: $.t("study title that would be seen in Indicators widget. Argument IS REQUIRED.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "shorttitle",
                            type: "string",
                            info: $.t("study short title that would be seen in the chart legend. Argument is optional.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "overlay",
                            type: "bool",
                            info: $.t("if true the study will be added as an overlay for the main series. If false - it would be added on a separate chart pane. Default is false.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "precision",
                            type: "integer",
                            info: $.t("number of digits after the floating point for study values on the price axis. Must be a non negative integer. Precision 0 has special rules for formatting very large numbers (like volume, e.g. '5183' will be formatted as '5K'). Default value is 4.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "scale",
                            type: "integer",
                            info: $.t("price scale that the indicator should be attached to. Possible values are: {@var scale.right} (default), {@var scale.left}, {@var scale.none}. Value {@var scale.none} can be appiled only in combination with 'overlay=true' setting.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "max_bars_back",
                            type: "integer",
                            info: $.t("Maximum number of bars that is available for the study for historical reference. The default value is calculated automatically and can be changed manually. If the study requires a value greater than the manually specified one, last one will be ignored and the study will calculate the value automatically.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "linktoseries",
                            type: "bool",
                            info: $.t("if true then the study will be always on the same pane and same price scale as the main series. Should be used only in combination with 'overlay=true'. Default is false.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("Every script must have one {@fun study} call.", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ["study(title='MyScriptStudy')", 'study(title="MyScriptStudy", shorttitle="MSS", precision=6, overlay=true)']
                    },
                    plot: {
                        kind: "Built-in annotation function",
                        desc: [$.t("Plots a series of data on the chart.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "series",
                            type: "series",
                            info: $.t("Series of data to be plotted. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "title",
                            type: "string",
                            info: $.t("Title of the plot.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "color",
                            type: "color",
                            info: $.t("Color of the plot. You can use constants like 'color=red' or 'color=#ff001a' as well as complex expressions like 'color = close >= open ? green : red'. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "linewidth",
                            type: "integer",
                            info: $.t("Width of the plotted line, use values from 1 to 4. Default value is 1. Not applicable to every style.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "style",
                            type: "integer",
                            info: $.t("Type of the plot. Possible values are: {@var line}, {@var histogram}, {@var cross}, {@var area}, {@var columns}, {@var circles}. Default value is {@var line}.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "transp",
                            type: "integer",
                            info: $.t("Transparency of the plot, applicable only to the {@var area} style. Possible values are from 0 (not transparent) to 100 (invisible). Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "trackprice",
                            type: "bool",
                            info: $.t("If true then a horizontal price line will be shown at the level of the last study value. Default is false.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "histbase",
                            type: "float",
                            info: $.t("Price value which will be considered as a start base point when rendering plot with {@var histogram} or {@var columns} style. Default is 0.0.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "offset",
                            type: "integer",
                            info: $.t("Shifts the plot to the left or to the right on the given number of bars. Default is 0.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "join",
                            type: "bool",
                            info: $.t("If true then plot points will be joined with line, applicable only to {@var cross} and {@var circles} styles. Default is false.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "editable",
                            type: "bool",
                            info: $.t("If true then plot style will be editable in Format dialog. Default is true.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "show_last",
                            type: "integer",
                            info: $.t("If set, defines the number of bars (from the last bar back to the past) to plot on chart.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        returns: [$.t("A plot object, that can be used in {@fun fill}", {
                            context: "pine_docs_returns"
                        })],
                        examples: ["plot(high+low, title='Title', color=#00ffaa, linewidth=2, style=area, transp=70, offset=15, trackprice=true)", "", "// You may fill the background between any two plots with a fill() function:", "p1 = plot(open)", "p2 = plot(close)", "fill(p1, p2, color=green)"],
                        seeAlso: ["{@fun plotshape}, {@fun plotchar}, {@fun plotarrow}, {@fun barcolor}, {@fun bgcolor}, {@fun fill}"],
                        syntax: ["plot(series, title, color, linewidth, style, trackprice, transp, histbase, offset, join, editable, show_last) → plot"]
                    },
                    plotshape: {
                        kind: "Built-in annotation function",
                        desc: [$.t("Plots visual shapes on the chart.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "series",
                            type: "series",
                            info: $.t("Series of data to be plotted as shapes. Series is treated as a series of boolean values for all location values except {@var location.absolute}. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "title",
                            type: "string",
                            info: $.t("Title of the plot.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "style",
                            type: "string",
                            info: $.t("Type of the plot. Possible values are: {@var shape.xcross}, {@var shape.cross}, {@var shape.triangleup}, {@var shape.triangledown}, {@var shape.flag}, {@var shape.circle}, {@var shape.arrowup}, {@var shape.arrowdown}, {@var shape.labelup}, {@var shape.labeldown}, {@var shape.square}, {@var shape.diamond}. Default value is {@var shape.xcross}.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "location",
                            type: "string",
                            info: $.t("Location of shapes on the chart. Possible values are: {@var location.abovebar}, {@var location.belowbar}, {@var location.top}, {@var location.bottom}, {@var location.absolute}. Default value is {@var location.abovebar}.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "color",
                            type: "color",
                            info: $.t("Color of the shapes. You can use constants like 'color=red' or 'color=#ff001a' as well as complex expressions like 'color = close >= open ? green : red'. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "transp",
                            type: "integer",
                            info: $.t("Transparency of the shapes. Possible values are from 0 (not transparent) to 100 (invisible). Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "offset",
                            type: "integer",
                            info: $.t("Shifts shapes to the left or to the right on the given number of bars. Default is 0.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "text",
                            type: "string",
                            info: $.t("Text to display with the shape. You can use multiline text, to separate lines use '\\n' escape sequence. Example: 'line one\\nline two'", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "textcolor",
                            type: "color",
                            info: $.t("Color of the text. You can use constants like 'textcolor=red' or 'textcolor=#ff001a' as well as complex expressions like 'textcolor = close >= open ? green : red'. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "editable",
                            type: "bool",
                            info: $.t("If true then plotshape style will be editable in Format dialog. Default is true.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "show_last",
                            type: "integer",
                            info: $.t("If set, defines the number of shapes (from the last bar back to the past) to plot on chart.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "size",
                            type: "string",
                            info: $.t("Size of shapes on the chart. Possible values are: {@var size.auto}, {@var size.tiny}, {@var size.small}, {@var size.normal}, {@var size.large}, {@var size.huge}. Default is {@var size.auto}.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("Use {@fun plotshape} function in conjunction with 'overlay=true' {@fun study} parameter!", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ["study('plotshape example 1', overlay=true)", "data = close >= open", "plotshape(data, style=shape.xcross)"],
                        seeAlso: ["{@fun plot}, {@fun plotchar}, {@fun plotarrow}, {@fun barcolor}, {@fun bgcolor}"],
                        syntax: ["plotshape(series, title, style, location, color, transp, offset, text, textcolor, editable, size, show_last) → void"]
                    },
                    plotchar: {
                        kind: "Built-in annotation function",
                        desc: [$.t("Plots visual shapes using any given one unicode character on the chart.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "series",
                            type: "series",
                            info: $.t("Series of data to be plotted as shapes. Series is treated as a series of boolean values for all location values except {@var location.absolute}. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "title",
                            type: "string",
                            info: $.t("Title of the plot.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "char",
                            type: "string",
                            info: $.t("Character to use as a visual shape.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "location",
                            type: "string",
                            info: $.t("Location of shapes on the chart. Possible values are: {@var location.abovebar}, {@var location.belowbar}, {@var location.top}, {@var location.bottom}, {@var location.absolute}. Default value is {@var location.abovebar}.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "color",
                            type: "color",
                            info: $.t("Color of the shapes. You can use constants like 'color=red' or 'color=#ff001a' as well as complex expressions like 'color = close >= open ? green : red'. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "transp",
                            type: "integer",
                            info: $.t("Transparency of the shapes. Possible values are from 0 (not transparent) to 100 (invisible). Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "offset",
                            type: "integer",
                            info: $.t("Shifts shapes to the left or to the right on the given number of bars. Default is 0.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "text",
                            type: "string",
                            info: $.t("Text to display with the shape. You can use multiline text, to separate lines use '\\n' escape sequence. Example: 'line one\\nline two'", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "textcolor",
                            type: "color",
                            info: $.t("Color of the text. You can use constants like 'textcolor=red' or 'textcolor=#ff001a' as well as complex expressions like 'textcolor = close >= open ? green : red'. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "editable",
                            type: "bool",
                            info: $.t("If true then plotchar style will be editable in Format dialog. Default is true.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "show_last",
                            type: "integer",
                            info: $.t("If set, defines the number of chars (from the last bar back to the past) to plot on chart.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "size",
                            type: "string",
                            info: $.t("Size of characters on the chart. Possible values are: {@var size.auto}, {@var size.tiny}, {@var size.small}, {@var size.normal}, {@var size.large}, {@var size.huge}. Default is {@var size.auto}.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("Use {@fun plotchar} function in conjunction with 'overlay=true' {@fun study} parameter!", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ["study('plotchar example', overlay=true)", "data = close >= open", "plotchar(data, char='❄')"],
                        seeAlso: ["{@fun plot}, {@fun plotshape}, {@fun plotarrow}, {@fun barcolor}, {@fun bgcolor}"],
                        syntax: ["plotchar(series, title, char, location, color, transp, offset, text, textcolor, editable, size, show_last) → void"]
                    },
                    plotarrow: {
                        kind: "Built-in annotation function",
                        desc: [$.t("Plots up and down arrows on the chart. Up arrow is drawn at every indicator positive value, down arrow is drawn at every negative value. If indicator returns {@var na} then no arrow is drawn. Arrows has different height, the more absolute indicator value the longer arrow is drawn.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "series",
                            type: "series",
                            info: $.t("Series of data to be plotted as arrows. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "title",
                            type: "string",
                            info: $.t("Title of the plot.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "colorup",
                            type: "color",
                            info: $.t("Color of the up arrows. You can use constants like 'color=red' or 'color=#ff001a', expressions are not allowed. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "colordown",
                            type: "color",
                            info: $.t("Color of the down arrows. You can use constants like 'color=red' or 'color=#ff001a', expressions are not allowed. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "transp",
                            type: "integer",
                            info: $.t("Transparency of the arrows. Possible values are from 0 (not transparent) to 100 (invisible). Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "offset",
                            type: "integer",
                            info: $.t("Shifts arrows to the left or to the right on the given number of bars. Default is 0.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "minheight",
                            type: "integer",
                            info: $.t("Minimal possible arrow height in pixels. Default is 5.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "maxheight",
                            type: "integer",
                            info: $.t("Maximum possible arrow height in pixels. Default is 100.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "editable",
                            type: "bool",
                            info: $.t("If true then plotarrow style will be editable in Format dialog. Default is true.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "show_last",
                            type: "integer",
                            info: $.t("If set, defines the number of arrows (from the last bar back to the past) to plot on chart.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("Use {@fun plotarrow} function in conjunction with 'overlay=true' {@fun study} parameter!", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ['study("plotarrow example", overlay=true)', "codiff = close - open", "plotarrow(codiff, colorup=teal, colordown=orange, transp=40)"],
                        seeAlso: ["{@fun plot}, {@fun plotshape}, {@fun plotchar}, {@fun barcolor}, {@fun bgcolor}"],
                        syntax: ["plotarrow(series, title, colorup, colordown, transp, offset, minheight, maxheight, editable, show_last) → void"]
                    },
                    plotbar: {
                        kind: "Built-in annotation function",
                        desc: [$.t("Plots ohlc bars on the chart.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "open",
                            type: "series",
                            info: $.t("Open series of data to be used as open values of bars. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "high",
                            type: "series",
                            info: $.t("High series of data to be used as high values of bars. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "low",
                            type: "series",
                            info: $.t("Low series of data to be used as low values of bars. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "close",
                            type: "series",
                            info: $.t("Close series of data to be used as close values of bars. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "title",
                            type: "string",
                            info: $.t("Title of the plotbar. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "color",
                            type: "color",
                            info: $.t("Color of the ohlc bars. You can use constants like 'color=red' or 'color=#ff001a' as well as complex expressions like 'color = close >= open ? green : red'. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "editable",
                            type: "bool",
                            info: $.t("If true then plotbar style will be editable in Format dialog. Default is true.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "show_last",
                            type: "integer",
                            info: $.t("If set, defines the number of bars (from the last bar back to the past) to plot on chart.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("Even if one value of open, high, low or close equal NaN then bar no draw.", {
                            context: "pine_docs_remarks"
                        }), $.t("The maximal value of open, high, low or close will be setted as 'high',", {
                            context: "pine_docs_remarks"
                        }), $.t("and the minimal value will be setted as 'low'.", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ["plotbar(open, high, low, close, title='Title', color = open < close ? green : red)"],
                        seeAlso: ["{@fun plotcandle}"],
                        syntax: ["plotbar(open, high, low, close, title, color, editable, show_last) → void"]
                    },
                    plotcandle: {
                        kind: "Built-in annotation function",
                        desc: [$.t("Plots candles on the chart.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "open",
                            type: "series",
                            info: $.t("Open series of data to be used as open values of candles. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "high",
                            type: "series",
                            info: $.t("High series of data to be used as high values of candles. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "low",
                            type: "series",
                            info: $.t("Low series of data to be used as low values of candles. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "close",
                            type: "series",
                            info: $.t("Close series of data to be used as close values of candles. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "title",
                            type: "string",
                            info: $.t("Title of the plotcandles. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "color",
                            type: "color",
                            info: $.t("Color of the candles. You can use constants like 'color=red' or 'color=#ff001a' as well as complex expressions like 'color = close >= open ? green : red'. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "wickcolor",
                            type: "color",
                            info: $.t("Color of the candles wick. Must be a constant value (not an expression). Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "editable",
                            type: "bool",
                            info: $.t("If true then plotcandle style will be editable in Format dialog. Default is true.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "show_last",
                            type: "integer",
                            info: $.t("If set, defines the number of candles (from the last bar back to the past) to plot on chart.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("Even if one value of open, high, low or close equal NaN then bar no draw.", {
                            context: "pine_docs_remarks"
                        }), $.t("The maximal value of open, high, low or close will be setted as 'high',", {
                            context: "pine_docs_remarks"
                        }), $.t("and the minimal value will be setted as 'low'.", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ["plotcandle(open, high, low, close, title='Title', color = open < close ? green : red, wickcolor=black)"],
                        seeAlso: ["{@fun plotbar}"],
                        syntax: ["plotcandle(open, high, low, close, title, color, wickcolor, editable, show_last) → void"]
                    },
                    barcolor: {
                        kind: "Built-in annotation function",
                        desc: [$.t("Set color of bars.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "color",
                            type: "color",
                            info: $.t("Color of bars. You can use constants like 'red' or '#ff001a' as well as complex expressions like 'close >= open ? green : red'. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "offset",
                            type: "integer",
                            info: $.t("Shifts the color series to the left or to the right on the given number of bars. Default is 0.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "editable",
                            type: "bool",
                            info: $.t("If true then barcolor style will be editable in Format dialog. Default is true.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "show_last",
                            type: "integer",
                            info: $.t("If set, defines the number of bars (from the last bar back to the past) to fill on chart.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "title",
                            type: "string",
                            info: $.t("Title of the barcolor. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["barcolor(close < open ? black : white)"],
                        seeAlso: ["{@fun bgcolor}, {@fun plot}, {@fun fill}"],
                        syntax: ["barcolor(color, offset, editable, show_last, title) → void"]
                    },
                    bgcolor: {
                        kind: "Built-in annotation function",
                        desc: [$.t("Fill background of bars with specified color.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "color",
                            type: "color",
                            info: $.t("Color of the filled background. You can use constants like 'red' or '#ff001a' as well as complex expressions like 'close >= open ? green : red'. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "transp",
                            type: "integer",
                            info: $.t("Transparency of the filled background. Possible values are from 0 (not transparent) to 100 (invisible). Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "offset",
                            type: "integer",
                            info: $.t("Shifts the color series to the left or to the right on the given number of bars. Default is 0.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "editable",
                            type: "bool",
                            info: $.t("If true then bgcolor style will be editable in Format dialog. Default is true.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "show_last",
                            type: "integer",
                            info: $.t("If set, defines the number of bars (from the last bar back to the past) to fill on chart.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "title",
                            type: "string",
                            info: $.t("Title of the bgcolor. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["bgcolor(close < open ? red : green, transp=70)"],
                        seeAlso: ["{@fun barcolor}, {@fun plot}, {@fun fill}"],
                        syntax: ["bgcolor(color, transp, offset, editable, show_last, title) → void"]
                    },
                    color: {
                        kind: "Built-in function",
                        desc: [$.t("Function color applies the specified transparency to the given color.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Color with specified transparency.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "color",
                            type: "color"
                        }, {
                            name: "transp",
                            type: "integer",
                            info: $.t("Possible values are from 0 (not transparent) to 100 (invisible).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["color(red, 50)"],
                        remarks: [$.t('Color with transparency overrides "transp" argument of plot function.', {
                            context: "pine_docs_remarks"
                        })],
                        syntax: ["color(color, transp) → color"]
                    },
                    alertcondition: {
                        kind: "Built-in annotation function",
                        desc: [$.t("Creates alert condition, that is available in Create Alert dialog. Please note, that {@fun alertcondition} does NOT create an alert, it just gives you more options in Create Alert dialog. Also, {@fun alertcondition} effect is invisible on chart.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["alertcondition(condition, title, message) → void"],
                        args: [{
                            name: "condition",
                            type: "series",
                            info: $.t("Series of boolean values that is used for alert. True values means alert fire, false - no alert. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "title",
                            type: "string",
                            info: $.t("Title of the alert condition. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "message",
                            type: "string",
                            info: $.t("Message to display when alert fires. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["alertcondition(close >= open, title='Alert on Green Bar', message='Green Bar!')"]
                    },
                    input: {
                        kind: "Built-in annotation function",
                        desc: [$.t("Adds an input to your script indicator. User can see and edit inputs on the Format Object dialog of the script study. Script inputs look and behave exactly the same as inputs of built-in Technical Analysis indicators.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Value of input variable.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "defval",
                            type: "Depends on 'type' argument",
                            info: $.t("Default value of the input variable. Note, that input value that will be ACTUALLY USED by the script is set by user on the Format Object dialog.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "title",
                            type: "string",
                            info: $.t("Title of the input", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "type",
                            type: "string",
                            info: $.t("Input type. Possible values are {@var bool}, {@var integer}, {@var float}, {@var string}, {@var symbol}, {@var resolution}, {@var session}, {@var source}.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "minval",
                            type: "integer, float",
                            info: $.t("Minimal possible value of the input variable. This argument is used only when input type is {@var integer} or {@var float}.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "maxval",
                            type: "integer, float",
                            info: $.t("Maximum possible value of the input variable. This argument is used only when input type is {@var integer} or {@var float}.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "confirm",
                            type: "bool",
                            info: $.t("If true, then user will be asked to confirm input value before indicator is added to chart. Default value is false. This argument not used when input type is {@var source}.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "step",
                            type: "integer, float",
                            info: $.t("Step value to use for incrementing/decrementing input from format dialog. Default value is 1. This argument is used only for input types {@var integer} and {@var float}.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "options",
                            type: "List of constants: [<type>...]",
                            info: $.t("A list of options to choose from. This argument is used only for input types {@var integer}, {@var float} and {@var string}.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("Result of {@fun input} function always should be assigned to a variable, see examples below.", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ['b = input(title="On/Off", type=bool, defval=true)', "plot(b ? open : na)", "", 'i = input(title="Offset", type=integer, defval=7, minval=-10, maxval=10)', "plot(offset(close, i))", "", 'f = input(title="Angle", type=float, defval=-0.5, minval=-3.14, maxval=3.14, step=0.02)', "plot(sin(f) > 0 ? close : open)", "", 'sym = input(title="Symbol", type=symbol, defval="DELL")', 'res = input(title="Resolution", type=resolution, defval="60")', "plot(close, color=red)", "plot(security(sym, res, close), color=green)", "", 's = input(title="Session", defval="24x7", options=["24x7", "0900-1300", "1300-1700", "1700-2100"])', "plot(time(period, s))", "", 'src = input(title="Source", type=source, defval=close)', "plot(src)"],
                        syntax: ["input(defval, title, type, confirm) → bool", "input(defval, title, type, minval, maxval, confirm, step, options) → integer", "input(defval, title, type, minval, maxval, confirm, step, options) → float", "input(defval, title, type, confirm, options) → string", "input(defval, title, type) → series"]
                    },
                    hline: {
                        kind: "Built-in annotation function",
                        desc: [$.t("Renders a horizontal line at a given fixed price level.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "price",
                            type: "float",
                            info: $.t("Price value at which the object will be rendered. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "title",
                            type: "string",
                            info: $.t("Title of the object.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "color",
                            type: "const color",
                            info: $.t("Color of the rendered line. Must be a constant value (not an expression). Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "linestyle",
                            type: "integer",
                            info: $.t("Style of the rendered line. Possible values are: {@var solid}, {@var dotted}, {@var dashed}. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "linewidth",
                            type: "integer",
                            info: $.t("Width of the rendered line, use values from 1 to 4. Default value is 1. ", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "editable",
                            type: "bool",
                            info: $.t("If true then hline style will be editable in Format dialog. Default is true.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        returns: [$.t("An hline object, that can be used in {@fun fill}", {
                            context: "pine_docs_returns"
                        })],
                        examples: ["hline(3.14, title='Pi', color=blue, linestyle=dotted, linewidth=2)", "", "// You may fill the background between any two hlines with a fill() function:", "h1 = hline(20)", "h2 = hline(10)", "fill(h1, h2)"],
                        seeAlso: ["{@fun fill}"],
                        syntax: ["hline(price, title, color, linestyle, linewidth, editable) → hline"]
                    },
                    fill: {
                        kind: "Built-in annotation function",
                        desc: [$.t("Fills background between two plots or hlines with a given color.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "hline1",
                            type: "hline",
                            info: $.t("The first hline object. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "hline2",
                            type: "hline",
                            info: $.t("The second hline object. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "plot1",
                            type: "plot",
                            info: $.t("The first plot object. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "plot2",
                            type: "plot",
                            info: $.t("The second plot object. Required argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "color",
                            type: "color",
                            info: $.t("Color of the plot. You can use constants like 'color=red' or 'color=#ff001a' as well as complex expressions like 'color = close >= open ? green : red'. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "transp",
                            type: "integer",
                            info: $.t("Transparency of the filled background. Possible values are from 0 (not transparent) to 100 (invisible). Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "title",
                            type: "string",
                            info: $.t("Title of the created fill object. Optional argument.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "editable",
                            type: "bool",
                            info: $.t("If true then fill style will be editable in Format dialog. Default is true.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "show_last",
                            type: "integer",
                            info: $.t("If set, defines the number of bars (from the last bar back to the past) to fill on chart.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["h1 = hline(20)", "h2 = hline(10)", "fill(h1, h2)", "", "p1 = plot(open)", "p2 = plot(close)", "fill(p1, p2, color=green)"],
                        seeAlso: ["{@fun plot}, {@fun barcolor}, {@fun bgcolor}, {@fun hline}"],
                        syntax: ["fill(hline1, hline2, color, transp, title, editable) → void", "fill(plot1, plot2, color, transp, title, editable, show_last) → void"]
                    },
                    nz: {
                        kind: "Built-in function",
                        desc: [$.t("Replaces NaN values with zeros (or given value) in a series.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Two args version: returns x if it's a valid (not NaN) number, otherwise y", {
                            context: "pine_docs_returns"
                        }), $.t("One arg version: returns x if it's a valid (not NaN) number, otherwise 0", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "x",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "y",
                            type: "float",
                            info: $.t("Value that will be inserted instead of all NaN values in x series.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["nz(sma(close, 100))"],
                        seeAlso: ["{@var na} (variable), {@fun na}, {@fun fixnan}"],
                        syntax: ["nz(x, y) → integer", "nz(x, y) → float", "nz(x, y) → color", "nz(x, y) → bool", "nz(x, y) → series[integer]", "nz(x, y) → series[bool]", "nz(x, y) → series[color]", "nz(x, y) → series", "nz(x) → color", "nz(x) → bool", "nz(x) → integer", "nz(x) → float", "nz(x) → series[integer]", "nz(x) → series[bool]", "nz(x) → series[color]", "nz(x) → series"]
                    },
                    na: {
                        kind: "Built-in function",
                        desc: [$.t("Test value if it's a NaN.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("true if x is not a valid number (x is NaN), otherwise false.", {
                            context: "pine_docs_returns"
                        })],
                        seeAlso: ["{@var na} (variable), {@fun fixnan}, {@fun nz}"],
                        syntax: ["na(x) → bool", "na(x) → series[bool]"]
                    },
                    tr: {
                        kind: "Built-in function",
                        returns: [$.t("True range. It is max(high - low, high - low[1], low - close[1])", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "handle_na",
                            type: "bool",
                            info: $.t("How NaN values are handled. if true, and previous day's close is NaN then tr would be calculated as current day high-low. Otherwise (if false) tr would return NaN in such cases. Also note, that {@fun atr} uses tr(true).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("tr(false) is exactly the same as {@var tr}.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var tr} (variable), {@fun atr}"],
                        syntax: ["tr(handle_na) → series"]
                    },
                    pow: {
                        kind: "Built-in function",
                        desc: [$.t("Mathematical power function.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("x raised to the power of y. If x is a series, it is calculated elementwise.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "base",
                            info: $.t("Specify the base to use.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "exponent",
                            type: "float",
                            info: $.t("Specifies the exponent.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["pow(close, 2)"],
                        seeAlso: ["{@fun sqrt}, {@fun exp}"],
                        syntax: ["pow(base, exponent) → float", "pow(base, exponent) → const float", "pow(base, exponent) → series"]
                    },
                    min: {
                        desc: [$.t("Returns the smaller of two values", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("Smaller of two given values.", {
                            context: "pine_docs_returns"
                        })],
                        seeAlso: ["{@fun max}"],
                        examples: ["min(close, open)", "min(close, min(open, 42))"],
                        syntax: ["min(x, y) → integer", "min(x, y) → const integer", "min(x, y) → float", "min(x, y) → const float", "min(x, y) → series"]
                    },
                    max: {
                        desc: [$.t("Returns the greater of two values", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("Greater of two given values.", {
                            context: "pine_docs_returns"
                        })],
                        seeAlso: ["{@fun min}"],
                        examples: ["max(close, open)", "max(close, max(open, 42))"],
                        syntax: ["max(x, y) → integer", "max(x, y) → const integer", "max(x, y) → float", "max(x, y) → const float", "max(x, y) → series"]
                    },
                    abs: {
                        desc: [$.t("Absolute value of x is x if x >= 0, or -x otherwise.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("The absolute value of x", {
                            context: "pine_docs_returns"
                        })],
                        syntax: ["abs(x) → integer", "abs(x) → const integer", "abs(x) → float", "abs(x) → const float", "abs(x) → series"]
                    },
                    log: {
                        desc: [$.t("Natural logarithm of any x > 0 is the unique `y` such that e^y = x", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("The natural logarithm of x.", {
                            context: "pine_docs_returns"
                        })],
                        seeAlso: ["{@fun log10}"],
                        syntax: ["log(x) → float", "log(x) → const float", "log(x) → series"]
                    },
                    log10: {
                        desc: [$.t("Base 10 logarithm of any x > 0 is the unique `y` such that 10^y = x", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("The base 10 logarithm of x.", {
                            context: "pine_docs_returns"
                        })],
                        seeAlso: ["{@fun log}"],
                        syntax: ["log10(x) → float", "log10(x) → const float", "log10(x) → series"]
                    },
                    sqrt: {
                        desc: [$.t("Square root of any x >= 0 is the unique y >= 0 such that y^2 = x", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("The square root of x.", {
                            context: "pine_docs_returns"
                        })],
                        seeAlso: ["{@fun pow}"],
                        syntax: ["sqrt(x) → float", "sqrt(x) → const float", "sqrt(x) → series"]
                    },
                    sign: {
                        desc: [$.t("Sign (signum) of x is zero if the x is zero, 1.0 if the x is greater than zero, -1.0 if the x is less than zero.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("The sign of the argument.", {
                            context: "pine_docs_returns"
                        })],
                        syntax: ["sign(x) → float", "sign(x) → const float", "sign(x) → series"]
                    },
                    exp: {
                        desc: [$.t("The exp function of x is e^x, where x is the argument and e is Euler's number.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("A number representing e^x.", {
                            context: "pine_docs_returns"
                        })],
                        seeAlso: ["{@fun pow}"],
                        syntax: ["exp(x) → float", "exp(x) → const float", "exp(x) → series"]
                    },
                    sin: {
                        desc: [$.t("The sin function returns the trigonometric sine of an angle.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("The trigonometric sine of an angle.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "x",
                            info: $.t("Angle, in radians.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        syntax: ["sin(x) → float", "sin(x) → const float", "sin(x) → series"]
                    },
                    cos: {
                        desc: [$.t("The cos function returns the trigonometric cosine of an angle.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("The trigonometric cosine of an angle.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "x",
                            info: $.t("Angle, in radians.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        syntax: ["cos(x) → float", "cos(x) → const float", "cos(x) → series"]
                    },
                    tan: {
                        desc: [$.t("The tan function returns the trigonometric tangent of an angle.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("The trigonometric tangent of an angle.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "x",
                            info: $.t("Angle, in radians.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        syntax: ["tan(x) → float", "tan(x) → const float", "tan(x) → series"]
                    },
                    asin: {
                        desc: [$.t("The asin function returns the arcsine (in radians) of number such that sin(asin(y)) = y for y in range [-1, 1].", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("The arcsine of a value; the returned angle is in the range [-Pi/2, Pi/2], or {@var na} if y is outside of range [-1, 1].", {
                            context: "pine_docs_returns"
                        })],
                        syntax: ["asin(x) → float", "asin(x) → const float", "asin(x) → series"]
                    },
                    acos: {
                        desc: [$.t("The acos function returns the arccosine (in radians) of number such that cos(acos(y)) = y for y in range [-1, 1].", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("The arc cosine of a value; the returned angle is in the range [0, Pi], or {@var na} if y is outside of range [-1, 1].", {
                            context: "pine_docs_returns"
                        })],
                        syntax: ["acos(x) → float", "acos(x) → const float", "acos(x) → series"]
                    },
                    atan: {
                        desc: [$.t("The atan function returns the arctangent (in radians) of number such that tan(atan(y)) = y for any y.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("The arc tangent of a value; the returned angle is in the range [-Pi/2, Pi/2].", {
                            context: "pine_docs_returns"
                        })],
                        syntax: ["atan(x) → float", "atan(x) → const float", "atan(x) → series"]
                    },
                    ceil: {
                        desc: [$.t("The ceil function returns the smallest (closest to negative infinity) integer that is greater than or equal to the argument.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("The smallest integer greater than or equal to the given number.", {
                            context: "pine_docs_returns"
                        })],
                        seeAlso: ["{@fun floor}, {@fun round}"],
                        syntax: ["ceil(x) → integer", "ceil(x) → const integer", "ceil(x) → series[integer]"]
                    },
                    floor: {
                        returns: [$.t("The largest integer less than or equal to the given number.", {
                            context: "pine_docs_returns"
                        })],
                        kind: "Built-in function",
                        seeAlso: ["{@fun ceil}, {@fun round}"],
                        syntax: ["floor(x) → integer", "floor(x) → const integer", "floor(x) → series[integer]"]
                    },
                    round: {
                        desc: [$.t("The round function returns the value of the argument rounded to the nearest integer, with ties rounding up.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("The value of the argument rounded to the nearest integer.", {
                            context: "pine_docs_returns"
                        })],
                        seeAlso: ["{@fun ceil}, {@fun floor}"],
                        syntax: ["round(x) → integer", "round(x) → const integer", "round(x) → series[integer]"]
                    },
                    sum: {
                        desc: [$.t("The sum function returns the sliding sum of last y values of x.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("Sum of x for y bars back.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        seeAlso: ["{@fun cum}", "{@op for}"],
                        syntax: ["sum(source, length) → series"]
                    },
                    sma: {
                        desc: [$.t("The sma function returns the moving average, that is the sum of last y values of x, divided by y.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("Simple moving average of x for y bars back.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["plot(sma(close, 15))", "", "// same on pine, but much less efficient", "pine_sma(x, y) =>", "    sum = 0.0", "    for i = 0 to y - 1", "        sum := sum + x[i] / y", "    sum", "plot(pine_sma(close, 15))"],
                        seeAlso: ["{@fun ema}, {@fun rma}, {@fun wma}, {@fun vwma}, {@fun swma}, {@fun alma}"],
                        syntax: ["sma(source, length) → series"]
                    },
                    ema: {
                        desc: [$.t("The sma function returns the exponentially weighted moving average. In ema weighting factors decrease exponentially. It calculates by sing a formula: EMA = alpha * x + (1 - alpha) * EMA[1], where alpha = 2 / (y + 1)", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("Exponential moving average of x with alpha = 2 / (y + 1)", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["plot(ema(close, 15))", "", "// same on pine, but much less efficient", "pine_ema(x, y) =>", "    alpha = 2 / (y + 1)", "    sum = 0.0", "    sum := alpha * x + (1 - alpha) * nz(sum[1])", "plot(pine_ema(close, 15))"],
                        seeAlso: ["{@fun sma}, {@fun rma}, {@fun wma}, {@fun vwma}, {@fun swma}, {@fun alma}"],
                        syntax: ["ema(source, length) → series"]
                    },
                    wma: {
                        desc: [$.t("The wma function returns weighted moving average of x for y bars back. In wma weighting factors decrease in arithmetical progression.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("Weighted moving average of x for y bars back.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["plot(wma(close, 15))", "", "// same on pine, but much less efficient", "pine_wma(x, y) =>", "    norm = 0.0", "    sum = 0.0", "    for i = 0 to y - 1", "        weight = (y - i) * y", "        norm := norm + weight", "        sum := sum + x[i] * weight", "    sum / norm", "plot(pine_wma(close, 15))"],
                        seeAlso: ["{@fun sma}, {@fun ema}, {@fun rma}, {@fun vwma}, {@fun swma}, {@fun alma}"],
                        syntax: ["wma(source, length) → series"]
                    },
                    vwma: {
                        kind: "Built-in function",
                        desc: [$.t("The vwma function returns volume-weighted moving average of x for y bars back. It is the same as: sma(x * volume, y) / sma(volume, y)", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Volume-weighted moving average of x for y bars back.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["plot(vwma(close, 15))", "", "// same on pine, but less efficient", "pine_vwma(x, y) =>", "    sma(x * volume, y) / sma(volume, y)", "plot(pine_vwma(close, 15))"],
                        seeAlso: ["{@fun sma}, {@fun ema}, {@fun rma}, {@fun wma}, {@fun swma}, {@fun alma}"],
                        syntax: ["vwma(source, length) → series"]
                    },
                    macd: {
                        kind: "Built-in function",
                        desc: [$.t("MACD (moving average convergence/divergence). It is supposed to reveal changes in the strength, direction, momentum, and duration of a trend in a stock's price.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Array of three MACD series: MACD line, signal line and histogram line.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "fastlen",
                            type: "integer",
                            info: $.t("Fast Length parameter.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "slowlen",
                            type: "integer",
                            info: $.t("Slow Length parameter.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "siglen",
                            type: "integer",
                            info: $.t("Signal Length parameter.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["// Example 1", "study('MACD')", "[macdLine, signalLine, histLine] = macd(close, 12, 26, 9)", "plot(macdLine, color=blue)", "plot(signalLine, color=orange)", "plot(histLine, color=red, style=histogram)", "", "// Example 2", "// If you need only one value, use placeholders '_' like this:", "study('MACD')", "[_, signalLine, _] = macd(close, 12, 26, 9)", "plot(signalLine, color=orange)"],
                        seeAlso: ["{@fun sma}, {@fun ema}"],
                        syntax: ["macd(source, fastlen, slowlen, siglen) → [series, series, series]"]
                    },
                    lowest: {
                        kind: "Built-in function",
                        desc: [$.t("Lowest value for a given number of bars back.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Lowest value.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series, integer"
                        }, {
                            name: "length",
                            type: "integer"
                        }],
                        remarks: [$.t("Two args version: x is a series and y is a length.", {
                            context: "pine_docs_remarks"
                        }), $.t("One arg version: x is a length. Algorithm uses low as a source series.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@fun highest}, {@fun lowestbars}, {@fun highestbars}, {@fun valuewhen}"],
                        syntax: ["lowest(source, length) → series", "lowest(length) → series"]
                    },
                    highest: {
                        kind: "Built-in function",
                        desc: [$.t("Highest value for a given number of bars back.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Highest value.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series, integer"
                        }, {
                            name: "length",
                            type: "integer"
                        }],
                        remarks: [$.t("Two args version: x is a series and y is a length.", {
                            context: "pine_docs_remarks"
                        }), $.t("One arg version: x is a length. Algorithm uses high as a source series.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@fun lowest}, {@fun lowestbars}, {@fun highestbars}, {@fun valuewhen}"],
                        syntax: ["highest(source, length) → series", "highest(length) → series"]
                    },
                    lowestbars: {
                        kind: "Built-in function",
                        desc: [$.t("Lowest value offset for a given number of bars back.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Offset to the lowest bar.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series, integer"
                        }, {
                            name: "length",
                            type: "integer"
                        }],
                        remarks: [$.t("Two args version: x is a series and y is a length.", {
                            context: "pine_docs_remarks"
                        }), $.t("One arg version: x is a length. Algorithm uses low as a source series.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@fun lowest}, {@fun highest}, {@fun highestbars}, {@fun barssince}"],
                        syntax: ["lowestbars(source, length) → series[integer]", "lowestbars(length) → series[integer]"]
                    },
                    highestbars: {
                        kind: "Built-in function",
                        desc: [$.t("Highest value offset for a given number of bars back.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Offset to the highest bar.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series, integer"
                        }, {
                            name: "length",
                            type: "integer"
                        }],
                        remarks: [$.t("Two args version: x is a series and y is a length.", {
                            context: "pine_docs_remarks"
                        }), $.t("One arg version: x is a length. Algorithm uses high as a source series.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@fun lowest}, {@fun highest}, {@fun lowestbars}, {@fun barssince}"],
                        syntax: ["highestbars(source, length) → series[integer]", "highestbars(length) → series[integer]"]
                    },
                    barssince: {
                        kind: "Built-in function",
                        desc: [$.t("The barssince function counts a number of bars since condition was true.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Number of bars since condition was true.", {
                            context: "pine_docs_returns"
                        })],
                        examples: ["// get number of bars since last green bar", "barssince(close >= open)"],
                        seeAlso: ["{@fun lowestbars}, {@fun highestbars}"],
                        syntax: ["barssince(condition) → series[integer]"]
                    },
                    valuewhen: {
                        kind: "Built-in function",
                        desc: [$.t("Source series value when the condition was true on the n-th most recent occurrence.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Source value when condition was true", {
                            context: "pine_docs_returns"
                        })],
                        examples: ["slow = sma(close, 7)", "fast = sma(close, 14)", "// get value of close on second cross occurrence", "valuewhen(cross(slow, fast), close, 1)"],
                        seeAlso: ["{@fun lowest}, {@fun highest}"],
                        syntax: ["valuewhen(condition, source, occurrence) → series"]
                    },
                    falling: {
                        kind: "Built-in function",
                        desc: [$.t("Test if the x series is now falling for y bars long.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("true if current x is less than any previous x for y bars back, false otherwise.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        seeAlso: ["{@fun rising}"],
                        syntax: ["falling(source, length) → series[bool]"]
                    },
                    rising: {
                        kind: "Built-in function",
                        desc: [$.t("Test if the x series is now rising for y bars long.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("true if current x is greater than any previous x for y bars back, false otherwise.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        seeAlso: ["{@fun falling}"],
                        syntax: ["rising(source, length) → series[bool]"]
                    },
                    roc: {
                        kind: "Built-in function",
                        desc: [$.t("Function roc (rate of change) showing the difference between current value of x and the value of x that was y days ago.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("The rate of change of x for y bars back.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        syntax: ["roc(source, length) → series"]
                    },
                    cci: {
                        kind: "Built-in function",
                        desc: [$.t("The CCI (commodity channel index) is calculated as the difference between the typical price of a commodity and its simple moving average, divided by the mean absolute deviation of the typical price. The index is scaled by an inverse factor of 0.015 to provide more readable numbers", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Commodity channel index of x for y bars back.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        syntax: ["cci(source, length) → series"]
                    },
                    variance: {
                        kind: "Built-in function",
                        desc: [$.t("Variance is the expectation of the squared deviation of a series from its mean ({@fun sma}), and it informally measures how far a set of numbers are spread out from their mean.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Variance of x for y bars back.", {
                            context: "pine_docs_returns"
                        })],
                        remarks: [$.t("This is a biased estimation of sample variance.", {
                            context: "pine_docs_remarks"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        seeAlso: ["{@fun dev}, {@fun stdev}"],
                        syntax: ["variance(source, length) → series"]
                    },
                    dev: {
                        kind: "Built-in function",
                        desc: [$.t("Measure of difference between the series and it's {@fun sma}", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Deviation of x for y bars back.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        seeAlso: ["{@fun variance}, {@fun stdev}"],
                        syntax: ["dev(source, length) → series"]
                    },
                    stdev: {
                        kind: "Built-in function",
                        returns: [$.t("Standard deviation.", {
                            context: "pine_docs_returns"
                        })],
                        remarks: [$.t("This is a biased estimation of standard deviation.", {
                            context: "pine_docs_remarks"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        seeAlso: ["{@fun dev}, {@fun variance}"],
                        syntax: ["stdev(source, length) → series"]
                    },
                    percentrank: {
                        kind: "Built-in function",
                        desc: [$.t("Percent rank is the percents of how many previous values was less than or equal to the current value of given series.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Percent rank of x for y bars back.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        syntax: ["percentrank(source, length) → series"]
                    },
                    offset: {
                        kind: "Built-in function",
                        desc: [$.t("Shifts series x on the y bars to the right.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Shifted series.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "offset",
                            type: "integer",
                            info: $.t("Number of bars to offset, must be a positive number. Negative offsets are not supported.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("If you need to shift the series to the left, use combination of {@fun offset} and {@fun plot} (with offset argument).", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["offset argument of {@fun plot} function, square brackets [] operator"],
                        syntax: ["offset(source, offset) → series[bool]", "offset(source, offset) → series[color]", "offset(source, offset) → series[integer]", "offset(source, offset) → series"]
                    },
                    rma: {
                        desc: [$.t("Moving average used in RSI. It is the exponentially weighted moving average with alpha = length - 1.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("Exponential moving average of x with alpha = y - 1.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["plot(rma(close, 15))", "", "// same on pine, but much less efficient", "pine_rma(x, y) =>", "\talpha = y", "    sum = 0.0", "    sum := alpha * x + (1 - alpha) * nz(sum[1])", "plot(pine_rma(close, 15))"],
                        seeAlso: ["{@fun sma}, {@fun ema}, {@fun wma}, {@fun vwma}, {@fun swma}, {@fun alma}, {@fun rsi}"],
                        syntax: ["rma(source, length) → series"]
                    },
                    rsi: {
                        kind: "Built-in function",
                        desc: [$.t("Relative strength index. It is calculated based on rma's of upward and downward change of x.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Relative strength index.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "x",
                            type: "series"
                        }, {
                            name: "y",
                            type: "integer, series"
                        }],
                        remarks: [$.t("If x is a series and y is integer then x is a source series and y is a length.", {
                            context: "pine_docs_remarks"
                        }), $.t("If x is a series and y is a series then x and y are considered to be 2 calculated MAs for upward and downward changes.", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ["plot(rsi(close, 7))", "", "// same on pine, but less efficient", "pine_rsi(x, y) => ", "    u = max(x - x[1], 0) // upward change", "    d = max(x[1] - x, 0) // downward change", "    rs = rma(u, y) / rma(d, y)", "    res = 100 - 100 / (1 + rs)", "    res", "", "plot(pine_rsi(close, 7))"],
                        seeAlso: ["{@fun rma}"],
                        syntax: ["rsi(x, y) → series"]
                    },
                    correlation: {
                        kind: "Built-in function",
                        desc: [$.t("Correlation coefficient. Describes the degree to which two series tend to deviate from their {@fun sma} values.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Correlation coefficient.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source_a",
                            type: "series",
                            info: $.t("Source series.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "source_b",
                            type: "series",
                            info: $.t("Target series.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Length (number of bars back).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        seeAlso: ["{@fun security}"],
                        syntax: ["correlation(source_a, source_b, length) → series"]
                    },
                    tsi: {
                        kind: "Built-in function",
                        desc: [$.t("True strength index. It uses moving averages of the underlying momentum of a financial instrument.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("True strength index. A value in range [-1, 1]", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Source series.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "short_length",
                            type: "integer",
                            info: $.t("Short length.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "long_length",
                            type: "integer",
                            info: $.t("Long length.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        syntax: ["tsi(source, short_length, long_length) → series"]
                    },
                    linreg: {
                        kind: "Built-in function",
                        desc: [$.t("Linear regression curve. A line that best fits the prices specified over a user-defined time period. It is calculated using the least squares method. The result of this function is calculated using the formula: linreg = intercept + slope * (length - 1 - offset), where length is the y argument, offset is the z argument, intercept and slope are the values calculated with the least squares method on source series (x argument).", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Linear regression curve.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Source series.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Length.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "offset",
                            type: "integer",
                            info: $.t("Offset.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        syntax: ["linreg(source, length, offset) → series"]
                    },
                    stoch: {
                        kind: "Built-in function",
                        desc: [$.t("Stochastic. It is calculated by a formula: 100 * (x - highest(z)) / (highest(y) - lowest(z))", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Stochastic.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Source series.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "high",
                            type: "series",
                            info: $.t("Series of high.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "low",
                            type: "series",
                            info: $.t("Series of low.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Length (number of bars back).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        seeAlso: ["{@fun cog}"],
                        syntax: ["stoch(source, high, low, length) → series"]
                    },
                    atr: {
                        kind: "Built-in function",
                        desc: [$.t("Function atr (average true range) returns the RMA of true range. True range is max(high - low, high - low[1], low - close[1])", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Average true range.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "length",
                            type: "integer",
                            info: $.t("Length (number of bars back).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        seeAlso: ["{@fun tr}, {@fun rma}"],
                        syntax: ["atr(length) → series"]
                    },
                    fixnan: {
                        kind: "Built-in function",
                        desc: [$.t("For a given series replaces NaN values with previous nearest non-NaN value.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Series without na gaps.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "x",
                            type: "series"
                        }],
                        seeAlso: ["{@fun na}, {@var na} (variable), {@fun nz}"],
                        syntax: ["fixnan(x) → series", "fixnan(x) → series[integer]", "fixnan(x) → series[bool]", "fixnan(x) → series[color]"]
                    },
                    cum: {
                        kind: "Built-in function",
                        desc: [$.t("Cumulative (total) sum of x. In other words it's a sum of all elements of x.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Total sum series.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "x",
                            type: "series"
                        }],
                        seeAlso: ["{@fun sum}"],
                        syntax: ["cum(x) → series"]
                    },
                    change: {
                        kind: "Built-in function",
                        desc: [$.t("Difference between current value and previous, x - x[y].", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Differences series.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series"
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Offset from the current bar to the previous bar. Optional, if not given, length = 1 is used.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        seeAlso: ["{@fun mom}, {@fun cross}"],
                        syntax: ["change(source, length) → series", "change(source) → series"]
                    },
                    mom: {
                        kind: "Built-in function",
                        desc: [$.t("Momentum of x price and x price y bars ago. This is simply a difference x - x[y].", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Momentum of x price and x price y bars ago.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Offset from the current bar to the previous bar.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        seeAlso: ["{@fun change}"],
                        syntax: ["mom(source, length) → series"]
                    },
                    vwap: {
                        kind: "Built-in function",
                        desc: [$.t("Volume weighted average price.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Volume weighted average.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "x",
                            type: "series",
                            info: $.t("Source series.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        seeAlso: ["{@var vwap} (variable)"],
                        syntax: ["vwap(x) → series"]
                    },
                    swma: {
                        desc: [$.t("Symmetrically weighted moving average with fixed length: 4. Weights: [1/6, 2/6, 2/6, 1/6].", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("Symmetrically weighted moving average", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "x",
                            type: "series",
                            info: $.t("Source series.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["plot(swma(close))", "", "// same on pine, but less efficient", "pine_swma(x) =>", "    x[3] * 1 / 6 + x[2] * 2 / 6 + x[1] * 2 / 6 + x[0] * 1 / 6", "plot(pine_swma(close))"],
                        seeAlso: ["{@fun sma}, {@fun ema}, {@fun rma}, {@fun wma}, {@fun vwma}, {@fun alma}"],
                        syntax: ["swma(x) → series"]
                    },
                    sar: {
                        kind: "Built-in function",
                        desc: [$.t("Parabolic SAR (parabolic stop and reverse) is a method devised by J. Welles Wilder, Jr., to find potential reversals in the market price direction of traded goods.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Parabolic SAR.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "start",
                            type: "float",
                            info: $.t("Start.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "inc",
                            type: "float",
                            info: $.t("Increment.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "max",
                            type: "float",
                            info: $.t("Maximum.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["plot(sar(0.2, 0.2, .2), style=cross, linewidth=3)"],
                        syntax: ["sar(start, inc, max) → series"]
                    },
                    avg: {
                        kind: "Built-in function",
                        desc: [$.t("Calculates average of all given series (elementwise).", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Average.", {
                            context: "pine_docs_returns"
                        })],
                        seeAlso: ["{@fun sum}, {@fun cum}, {@fun sma}"],
                        syntax: ["avg(x, y) → series", "avg(x, y, z) → series", "avg(x, y, z, a) → series", "avg(x, y, z, a, b) → series", "avg(x, y, z, a, b, c) → series"]
                    },
                    security: {
                        kind: "Built-in function",
                        desc: [$.t("Request another symbol/resolution", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "symbol",
                            type: "string",
                            info: $.t("Symbol.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "resolution",
                            type: "string",
                            info: $.t("Resolution.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "expression",
                            type: "series",
                            info: $.t("Expression to calculate and return from the {@fun security} call.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "gaps",
                            type: "bool",
                            info: $.t("Merge strategy for the requested data (requested data automatically merges with the main series OHLC data). Possible values: {@var barmerge.gaps_on}, {@var barmerge.gaps_off}. {@var barmerge.gaps_on} - requested data is merged with possible gaps ({@var na} values). {@var barmerge.gaps_off} - requested data is merged continuously without gaps, all the gaps are filled with the previous nearest existing values. Default value is {@var barmerge.gaps_off}.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "lookahead",
                            type: "bool",
                            info: $.t("Merge strategy for the requested data position. Possible values: {@var barmerge.lookahead_on}, {@var barmerge.lookahead_off}. Default value is {@var barmerge.lookahead_off} starting from version 3. Note that behavour is the same on realtime, and differs only on history.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        returns: [$.t("Requested series.", {
                            context: "pine_docs_returns"
                        })],
                        remarks: [$.t("PineScript code that uses this function could calculate differently on history and realtime data.", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ['s = security("MSFT", "D", close) // 1 Day', "plot(s)", "", "expr = sma(close, 10)", 's1 = security("AAPL", "240", expr) // 240 Minutes', "plot(s1)", "", "// To avoid difference in calculation on history/realtime you can request not latest values and use merge strategy flags as follows:", 's2=security(tickerid, "D", close[1], barmerge.gaps_off, barmerge.lookahead_on)', "plot(s2)"],
                        seeAlso: ["{@var ticker}, {@var tickerid}, {@var period}, {@fun correlation}, {@var barmerge.lookahead_off}, {@var barmerge.lookahead_on}"],
                        syntax: ["security(symbol, resolution, expression, gaps, lookahead) → series[integer]", "security(symbol, resolution, expression, gaps, lookahead) → series", "security(symbol, resolution, expression, gaps, lookahead) → series[bool]", "security(symbol, resolution, expression, gaps, lookahead) → series[color]"]
                    },
                    tickerid: {
                        kind: "Built-in function",
                        desc: [$.t("Creates a ticker identifier for requesting additional data for the script.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "prefix",
                            type: "string",
                            info: $.t("Exchange prefix. For example: 'BATS', 'NYSE', 'NASDAQ'. Exchange prefix of main series is {@var syminfo.prefix}.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "ticker",
                            type: "string",
                            info: $.t("Ticker name. For example 'AAPL', 'MSFT', 'EURUSD'. Ticker name of the main series is {@var ticker}.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "session",
                            type: "string",
                            info: $.t("Session type. Optional argument. Possible values: {@var session.regular}, {@var session.extended}. Session type of the current chart is {@var syminfo.session}. If 'z' is not given, then {@var syminfo.session} value is used.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        returns: [$.t("String value of ticker id, that can be supplied to {@fun security} function.", {
                            context: "pine_docs_returns"
                        })],
                        examples: ['study("tickerid fun", overlay=true) ', "t = tickerid(syminfo.prefix, ticker, session.regular)", "t2 = heikinashi(t)", "c = security(t2, period, low, true)", "plot(c, style=linebr)"],
                        remarks: [$.t("You may use return value of {@fun tickerid} function as input argument for {@fun heikinashi}, {@fun renko}, {@fun linebreak}, {@fun kagi}, {@fun pointfigure} functions.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var tickerid} (variable), {@var ticker}, {@var syminfo.session}, {@var session.extended}, {@var session.regular}, {@fun heikinashi}"],
                        syntax: ["tickerid(prefix, ticker) → string", "tickerid(prefix, ticker, session) → string"]
                    },
                    heikinashi: {
                        kind: "Built-in function",
                        desc: [$.t("Creates a ticker identifier for requesting Heikin Ashi bar values.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "symbol",
                            type: "string",
                            info: $.t("Symbol ticker identifier.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        returns: [$.t("String value of ticker id, that can be supplied to {@fun security} function.", {
                            context: "pine_docs_returns"
                        })],
                        examples: ["heikinashi_close = security(heikinashi(tickerid), period, close)", "", 'heikinashi_aapl_60_close = security(heikinashi("AAPL"), "60", close)'],
                        seeAlso: ["{@var tickerid}, {@var ticker}, {@fun security}, {@fun renko}, {@fun linebreak}, {@fun kagi}, {@fun pointfigure}"],
                        syntax: ["heikinashi(symbol) → string"]
                    },
                    renko: {
                        kind: "Built-in function",
                        desc: [$.t("Creates a ticker identifier for requesting Renko values.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "symbol",
                            type: "string",
                            info: $.t("Symbol ticker identifier.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "source",
                            type: "string",
                            info: $.t("Source for calculating Renko. Possible values are: 'open', 'high', 'low', 'close', 'hl2', 'hlc3', 'ohcl4'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "style",
                            type: "string",
                            info: $.t("Renko style. Possible values are: 'ATR', 'Traditional'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "param",
                            type: "float",
                            info: $.t("ATR Length if `style` is equal to 'ATR', or Box Size if `style` is equal to 'Traditional'.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        returns: [$.t("String value of ticker id, that can be supplied to {@fun security} function.", {
                            context: "pine_docs_returns"
                        })],
                        examples: ['renko_tickerid = renko(tickerid, "open", "ATR", 10)', "renko_close = security(renko_tickerid, period, close)", "plot(renko_close)"],
                        seeAlso: ["{@var tickerid}, {@var ticker}, {@fun security}, {@fun heikinashi}, {@fun linebreak}, {@fun kagi}, {@fun pointfigure}"],
                        syntax: ["renko(symbol, source, style, param) → string"]
                    },
                    linebreak: {
                        kind: "Built-in function",
                        desc: [$.t("Creates a ticker identifier for requesting Line Break values.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "symbol",
                            type: "string",
                            info: $.t("Symbol ticker identifier.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "source",
                            type: "string",
                            info: $.t("Source for calculating Line Break. Possible values are: 'open', 'high', 'low', 'close', 'hl2', 'hlc3', 'ohcl4'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "number_of_lines",
                            type: "integer",
                            info: $.t("Number of line.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        returns: [$.t("String value of ticker id, that can be supplied to {@fun security} function.", {
                            context: "pine_docs_returns"
                        })],
                        examples: ['linebreak_tickerid = linebreak(tickerid, "open", 3)', "linebreak_close = security(linebreak_tickerid, period, close)", "plot(linebreak_close)"],
                        seeAlso: ["{@var tickerid}, {@var ticker}, {@fun security}, {@fun heikinashi}, {@fun renko}, {@fun kagi}, {@fun pointfigure}"],
                        syntax: ["linebreak(symbol, source, number_of_lines) → string"]
                    },
                    kagi: {
                        kind: "Built-in function",
                        desc: [$.t("Creates a ticker identifier for requesting Kagi values.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "symbol",
                            type: "string",
                            info: $.t("Symbol ticker identifier.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "source",
                            type: "string",
                            info: $.t("Source for calculating Kagi. Possible values are: 'open', 'high', 'low', 'close', 'hl2', 'hlc3', 'ohcl4'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "reversal",
                            type: "float",
                            info: $.t("Reversal amount (absolute price value).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        returns: [$.t("String value of ticker id, that can be supplied to {@fun security} function.", {
                            context: "pine_docs_returns"
                        })],
                        examples: ['kagi_tickerid = kagi(tickerid, "open", 3)', "kagi_close = security(kagi_tickerid, period, close)", "plot(kagi_close)"],
                        seeAlso: ["{@var tickerid}, {@var ticker}, {@fun security}, {@fun heikinashi}, {@fun renko}, {@fun linebreak}, {@fun pointfigure}"],
                        syntax: ["kagi(symbol, source, reversal) → string"]
                    },
                    pointfigure: {
                        kind: "Built-in function",
                        desc: [$.t("Creates a ticker identifier for requesting Point & Figure values.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "symbol",
                            type: "string",
                            info: $.t("Symbol ticker identifier.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "source",
                            type: "string",
                            info: $.t("Source for calculating Renko. Possible values are: 'hl', 'open', 'high', 'low', 'close'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "style",
                            type: "string",
                            info: $.t("Kagi style. Possible values are: 'ATR', 'Traditional'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "param",
                            type: "float",
                            info: $.t("ATR Length if `style` is equal to 'ATR', or Box Size if `style` is equal to 'Traditional'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "reversal",
                            type: "integer",
                            info: $.t("Reversal amount.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        returns: [$.t("String value of ticker id, that can be supplied to {@fun security} function.", {
                            context: "pine_docs_returns"
                        })],
                        examples: ['pnf_tickerid = pointfigure(tickerid, "hl", "Traditional", 1, 3)', "pnf_close = security(pnf_tickerid, period, close)", "plot(pnf_close)"],
                        seeAlso: ["{@var tickerid}, {@var ticker}, {@fun security}, {@fun heikinashi}, {@fun renko}, {@fun linebreak}, {@fun kagi}"],
                        syntax: ["pointfigure(symbol, source, style, param, reversal) → string"]
                    },
                    time: {
                        kind: "Built-in function",
                        desc: [$.t("Function time returns UNIX time of current bar for the specified resolution and session or NaN if time point is out-of-session.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("UNIX time.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "resolution",
                            type: "string",
                            info: $.t("Resolution.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "session",
                            type: "string",
                            info: $.t("Session specification. Optional argument, session of the symbol used by default.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("UNIX time is the number of milliseconds that have elapsed since 00:00:00 UTC, 1 January 1970.", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ["// Try this on chart AAPL,1", "timeinrange(res, sess) => not na(time(res, sess))", 'plot(timeinrange("1", "1300-1400"), color=red)', "", "// This plots 1.0 at every start of 10 minute bar on a 1 minute chart:", "newbar(res) => change(time(res)) != 0", 'plot(newbar("10"))'],
                        seeAlso: ["{@var time} (variable)"],
                        syntax: ["time(resolution, session) → series", "time(resolution) → series"]
                    },
                    timestamp: {
                        kind: "Built-in function",
                        desc: [$.t("Function timestamp returns UNIX time of specified date and time.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("UNIX time.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "timezone",
                            type: "string",
                            info: $.t("(Optional argument) Timezone", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "year",
                            type: "integer",
                            info: $.t("Year", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "month",
                            type: "integer",
                            info: $.t("Month", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "day",
                            type: "integer",
                            info: $.t("Day", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "hour",
                            type: "integer",
                            info: $.t("Hour", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "minute",
                            type: "integer",
                            info: $.t("Minute", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t('UNIX time is the number of milliseconds that have elapsed since 00:00:00 UTC, 1 January 1970. By default Timezone is {@var syminfo.timezone}, but it can be specified by GMT-notation (e.g "GMT-5", "GMT+5", "GMT+5:30", etc), or one of following values: <br>"America/New_York"<br>"America/Los_Angeles"<br>"America/Chicago"<br>"America/Phoenix"<br>"America/Toronto"<br>"America/Vancouver"<br>"America/Argentina/Buenos_Aires"<br>"America/El_Salvador"<br>"America/Sao_Paulo"<br>"America/Bogota"<br>"Europe/Moscow"<br>"Europe/Athens"<br>"Europe/Berlin"<br>"Europe/London"<br>"Europe/Madrid"<br>"Europe/Paris"<br>"Europe/Warsaw"<br>"Australia/Sydney"<br>"Australia/Brisbane"<br>"Australia/Adelaide"<br>"Australia/ACT"<br>"Asia/Almaty"<br>"Asia/Ashkhabad"<br>"Asia/Tokyo"<br>"Asia/Taipei"<br>"Asia/Singapore"<br>"Asia/Shanghai"<br>"Asia/Seoul"<br>"Asia/Tehran"<br>"Asia/Dubai"<br>"Asia/Kolkata"<br>"Asia/Hong_Kong"<br>"Asia/Bangkok"<br>"Pacific/Auckland"<br>"Pacific/Chatham"<br>"Pacific/Fakaofo"<br>"Pacific/Honolulu"', {
                            context: "pine_docs_remarks"
                        })],
                        examples: ["//@version=2", 'study("My Script")', "plot(timestamp(2016, 01, 19, 09, 30),linewidth=3,color=green)", "plot(timestamp(syminfo.timezone,2016, 01, 19, 09, 30),color=blue)", "plot(timestamp(2016, 01, 19, 09, 30),color=yellow)", 'plot(timestamp("GMT+6", 2016, 01, 19, 09, 30))'],
                        seeAlso: ["{@fun time} (function) {@var time} (variable) {@var timenow} (variable) {@var syminfo.timezone} (variable)"],
                        syntax: ["timestamp(year, month, day, hour, minute) → integer", "timestamp(timezone, year, month, day, hour, minute) → integer"]
                    },
                    year: {
                        kind: "Built-in function",
                        returns: [$.t("Year (in exchange timezone) for provided UNIX time.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "time",
                            type: "series",
                            info: $.t("UNIX time in milliseconds.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("UNIX time is the number of milliseconds that have elapsed since 00:00:00 UTC, 1 January 1970.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var year} (variable), {@fun time}, {@fun month}, {@fun dayofmonth}, {@fun dayofweek}, {@fun hour}, {@fun minute}, {@fun second}"],
                        syntax: ["year(time) → series"]
                    },
                    month: {
                        kind: "Built-in function",
                        returns: [$.t("Month (in exchange timezone) for provided UNIX time.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "time",
                            type: "series",
                            info: $.t("UNIX time in milliseconds.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("UNIX time is the number of milliseconds that have elapsed since 00:00:00 UTC, 1 January 1970.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var month} (variable), {@fun time}, {@fun year}, {@fun dayofmonth}, {@fun dayofweek}, {@fun hour}, {@fun minute}, {@fun second}"],
                        syntax: ["month(time) → series"]
                    },
                    weekofyear: {
                        kind: "Built-in function",
                        returns: [$.t("Week of year (in exchange timezone) for provided UNIX time.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "time",
                            type: "series",
                            info: $.t("UNIX time in milliseconds.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("UNIX time is the number of milliseconds that have elapsed since 00:00:00 UTC, 1 January 1970.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var weekofyear} (variable), {@fun time}, {@fun year}, {@fun month}, {@fun dayofmonth}, {@fun dayofweek}, {@fun hour}, {@fun minute}, {@fun second}"],
                        syntax: ["weekofyear(time) → series"]
                    },
                    dayofmonth: {
                        kind: "Built-in function",
                        returns: [$.t("Day of month (in exchange timezone) for provided UNIX time.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "time",
                            type: "series",
                            info: $.t("UNIX time in milliseconds.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("UNIX time is the number of milliseconds that have elapsed since 00:00:00 UTC, 1 January 1970.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var dayofmonth} (variable), {@fun time}, {@fun year}, {@fun month}, {@fun dayofweek}, {@fun hour}, {@fun minute}, {@fun second}"],
                        syntax: ["dayofmonth(time) → series"]
                    },
                    dayofweek: {
                        kind: "Built-in function",
                        returns: [$.t("Day of week (in exchange timezone) for provided UNIX time.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "time",
                            type: "series",
                            info: $.t("UNIX time in milliseconds.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("UNIX time is the number of milliseconds that have elapsed since 00:00:00 UTC, 1 January 1970.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var dayofweek} (variable), {@fun time}, {@fun year}, {@fun month}, {@fun dayofmonth}, {@fun hour}, {@fun minute}, {@fun second}"],
                        syntax: ["dayofweek(time) → series"]
                    },
                    hour: {
                        kind: "Built-in function",
                        returns: [$.t("Hour (in exchange timezone) for provided UNIX time.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "time",
                            type: "series",
                            info: $.t("UNIX time in milliseconds.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("UNIX time is the number of milliseconds that have elapsed since 00:00:00 UTC, 1 January 1970.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var hour} (variable), {@fun time}, {@fun year}, {@fun month}, {@fun dayofmonth}, {@fun dayofweek}, {@fun minute}, {@fun second}"],
                        syntax: ["hour(time) → series"]
                    },
                    minute: {
                        kind: "Built-in function",
                        returns: [$.t("Minute (in exchange timezone) for provided UNIX time.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "time",
                            type: "series",
                            info: $.t("UNIX time in milliseconds.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("UNIX time is the number of milliseconds that have elapsed since 00:00:00 UTC, 1 January 1970.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var minute} (variable), {@fun time}, {@fun year}, {@fun month}, {@fun dayofmonth}, {@fun dayofweek}, {@fun hour}, {@fun second}"],
                        syntax: ["minute(time) → series"]
                    },
                    second: {
                        kind: "Built-in function",
                        returns: [$.t("Second (in exchange timezone) for provided UNIX time.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "time",
                            type: "series",
                            info: $.t("UNIX time in milliseconds.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("UNIX time is the number of milliseconds that have elapsed since 00:00:00 UTC, 1 January 1970.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@var second} (variable), {@fun time}, {@fun year}, {@fun month}, {@fun dayofmonth}, {@fun dayofweek}, {@fun hour}, {@fun minute}"],
                        syntax: ["second(time) → series"]
                    },
                    cross: {
                        kind: "Built-in function",
                        returns: [$.t("1 if two series has crossed each other, otherwise 0.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "x",
                            type: "series"
                        }, {
                            name: "y",
                            type: "series"
                        }],
                        seeAlso: ["{@fun change}"],
                        syntax: ["cross(x, y) → series[bool]"]
                    },
                    iff: {
                        kind: "Built-in function",
                        desc: [$.t("If ... then ... else ...", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("y or z series.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "condition",
                            type: "series",
                            info: $.t("Series with condition values. Zero value (0 and also NaN, +Infinity, -Infinity) is considered to be false, any other value is true.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "then",
                            type: "series",
                            info: $.t("Series with values to return if condition is true.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "_else",
                            type: "series",
                            info: $.t("Series with values to return if condition is false. Use {@var na} for `_else` argument if you do not need 'else' branch.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("{@fun iff} does exactly the same thing as ternary conditional operator {@op ?:} but in a functional style. Also {@fun iff} is slightly less efficient than operator {@op ?:}", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ["// Draw circles at the bars where open crosses close", "s1 = iff(cross(open, close), avg(open,close), na)", "plot(s1, style=circles, linewidth=4, color=green)"],
                        seeAlso: ["Ternary conditional operator {@op ?:}, {@var na}"],
                        syntax: ["iff(condition, then, _else) → bool", "iff(condition, then, _else) → integer", "iff(condition, then, _else) → float", "iff(condition, then, _else) → color", "iff(condition, then, _else) → series", "iff(condition, then, _else) → series[integer]", "iff(condition, then, _else) → series[color]", "iff(condition, then, _else) → string", "iff(condition, then, _else) → const bool", "iff(condition, then, _else) → const integer", "iff(condition, then, _else) → const float", "iff(condition, then, _else) → const string", "iff(condition, then, _else) → const color", "iff(condition, then, _else) → series[bool]"]
                    },
                    cog: {
                        kind: "Built-in function",
                        desc: [$.t("The cog (center of gravity) is an indicator based on statistics and the Fibonacci golden ratio.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Center of Gravity.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        seeAlso: ["{@fun stoch}"],
                        syntax: ["cog(source, length) → series"]
                    },
                    alma: {
                        desc: [$.t("Arnaud Legoux Moving Average. It uses Gaussian distribution as weights for moving average.", {
                            context: "pine_docs_desc"
                        })],
                        kind: "Built-in function",
                        returns: [$.t("Arnaud Legoux Moving Average.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "series",
                            type: "series",
                            info: $.t("Series of values to process.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars (length).", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "offset",
                            type: "float",
                            info: $.t("Controls tradeoff between smoothness (closer to 1) and responsiveness (closer to 0).", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "sigma",
                            type: "float",
                            info: $.t("Changes the smoothness of ALMA. The larger sigma the smoother ALMA.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ["plot(alma(close, 9, 0.85, 6))", "", "// same on pine, but much less efficient", "pine_alma(series, windowsize, offset, sigma) =>", "    m = floor(offset * (windowsize - 1))", "    s = windowsize / sigma", "    norm = 0.0", "    sum = 0.0", "    for i = 0 to windowsize - 1", "        weight = exp(-1 * pow(i - m, 2) / (2 * pow(s, 2)))", "        norm := norm + weight", "        sum := sum + series[windowsize - i - 1] * weight", "    sum / norm", "plot(pine_alma(close, 9, 0.85, 6))"],
                        seeAlso: ["{@fun sma}, {@fun ema}, {@fun rma}, {@fun wma}, {@fun vwma}, {@fun swma}"],
                        syntax: ["alma(series, length, offset, sigma) → series"]
                    },
                    tostring: {
                        kind: "Built-in function",
                        returns: [$.t("String representation of x argument.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "x",
                            type: "float",
                            info: $.t("Number that should be converted to string.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "y",
                            type: "string",
                            info: $.t("Format string. Optional argument, default value is '#.##########'", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        syntax: ["tostring(x) → string", "tostring(x, y) → string"]
                    },
                    percentile_nearest_rank: {
                        kind: "Built-in function",
                        desc: [$.t("Calculates percentile using method of Nearest Rank.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("z-th percentile of x series for y bars back.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process (source).", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars back (length).", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "percentage",
                            type: "float",
                            info: $.t("Percentage, a number from range 0..100.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("Using the Nearest Rank method on lengths less than 100 bars back can result in the same number being used for more than one percentile.", {
                            context: "pine_docs_remarks"
                        }), $.t("A percentile calculated using the Nearest Rank method will always be a member of the input data set.", {
                            context: "pine_docs_remarks"
                        }), $.t("The 100th percentile is defined to be the largest value in the input data set.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@fun percentile_linear_interpolation}", "http://en.wikipedia.org/wiki/Percentile#The_Nearest_Rank_method"],
                        syntax: ["percentile_nearest_rank(source, length, percentage) → series"]
                    },
                    percentile_linear_interpolation: {
                        kind: "Built-in function",
                        desc: [$.t("Calculates percentile using method of linear interpolation between the two nearest ranks.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("z-th percentile of x series for y bars back.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("Series of values to process (source).", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "length",
                            type: "integer",
                            info: $.t("Number of bars back (length).", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "percentage",
                            type: "float",
                            info: $.t("Percentage, a number from range 0..100.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("Note that a percentile calculated using this method will NOT always be a member of the input data set.", {
                            context: "pine_docs_remarks"
                        })],
                        seeAlso: ["{@fun percentile_nearest_rank}"],
                        syntax: ["percentile_linear_interpolation(source, length, percentage) → series"]
                    },
                    crossover: {
                        kind: "Built-in function",
                        returns: [$.t("true if `x` crossed over `y` otherwise false", {
                            context: "pine_docs_returns"
                        })],
                        desc: [$.t("The `x`-series is defined as having crossed over `y`-series if the value of `x` is greater than the value of `y` and the value of `x` was less than the value of `y` on the bar immediately preceding the current bar.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "x",
                            type: "float",
                            info: $.t("Data series `x`.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "y",
                            type: "float",
                            info: $.t("Data series `y`.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        syntax: ["crossover(x, y) → series[bool]"]
                    },
                    crossunder: {
                        kind: "Built-in function",
                        returns: [$.t("true if `x` crossed under `y` otherwise false", {
                            context: "pine_docs_returns"
                        })],
                        desc: [$.t("The `x`-series is defined as having crossed under `y`-series if the value of `x` is less than the value of `y` and the value of `x` was greater than the value of `y` on the bar immediately preceding the current bar.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "x",
                            type: "float",
                            info: $.t("Data series `x`.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "y",
                            type: "float",
                            info: $.t("Data series `y`.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        syntax: ["crossunder(x, y) → series[bool]"]
                    },
                    strategy: {
                        kind: "Built-in annotation function",
                        desc: [$.t("The function sets a number of strategy properties.", {
                            context: "pine_docs_desc"
                        })],
                        syntax: ["strategy(title, shorttitle, overlay, precision, scale, pyramiding, calc_on_order_fills, calc_on_every_tick, max_bars_back, backtest_fill_limits_assumption, default_qty_type, default_qty_value, initial_capital, currency, slippage, commission_type, commission_value) → void"],
                        args: [{
                            name: "title",
                            type: "string",
                            info: $.t("study title that would be seen in Indicators/Strategies widget. Argument IS REQUIRED.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "shorttitle",
                            type: "string",
                            info: $.t("study short title that would be seen in the chart legend. Argument is optional.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "overlay",
                            type: "bool",
                            info: $.t("if true the study will be added as an overlay for the main series. If false - it would be added on a separate chart pane. Default is false.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "precision",
                            type: "integer",
                            info: $.t("number of digits after the floating point for study values on the price axis. Must be a non negative integer. Precision 0 has special rules for formatting very large numbers (like volume, e.g. '5183' will be formatted as '5K'). Default value is 4.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "scale",
                            type: "integer",
                            info: $.t("price scale that the indicator should be attached to. Possible values are: {@var scale.right} (default), {@var scale.left}, {@var scale.none}. Value {@var scale.none} can be appiled only in combination with 'overlay=true' setting.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "pyramiding",
                            type: "integer",
                            info: $.t("Maximum number of entries allowed in the same direction. If the value is 0, only one entry order in the same direction can be opened, any additional entry order is rejected. The defualt value is 0.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "calc_on_order_fills",
                            type: "bool",
                            info: $.t("Additional one time intrabar order calculation. If the parameter is set to 'true', then the strategy is recalculated once intrabar after an order is filled (not only at close of the bar). The default value is 'false'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "calc_on_every_tick",
                            type: "bool",
                            info: $.t("Additional intrabar strategy calculations. If the parameter is 'true', then the strategy will calculate on every tick in real-time, rather than on bars' closes. The parameter does not affect strategy calculation on historical data. The default value is 'false'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "max_bars_back",
                            type: "integer",
                            info: $.t("Maximum number of bars that is available for the strategy for historical reference. The default value is calculated automatically and can be changed manually. If the strategy requires a value greater than the manually specified one, last one will be ignored and the strategy will calculate the value automatically.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "backtest_fill_limits_assumption",
                            type: "integer",
                            info: $.t("Limit order execution assumption. Limit orders are filled intrabar only if market price exceeds the limit order level by the specified number of in ticks.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "default_qty_type",
                            type: "string",
                            info: $.t("Parameter to determine the number of contracts/shares/lots/units to trade, if the 'qty' = 'NaN'. The allowed values are: {@var strategy.fixed} (fixed quantity by default), {@var strategy.cash} (specified in currency of the symbol and the amount is converted into quantity), {@var strategy.percent_of_equity} (% of currently available equity).", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "default_qty_value",
                            type: "float",
                            info: $.t("Number of contracts/shares/lots/units if 'default_qty_type'={@var strategy.fixed} is used; or amount of cash in currency of the symbol if 'default_qty_type'={@var strategy.cash} is used; or number of percents of currently available equity if 'default_qty_type'={@var strategy.percent_of_equity} is used.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "currency",
                            type: "string",
                            info: $.t("Account currency for this strategy. Possible values are: {@var NONE}, {@var USD}, {@var EUR}, {@var AUD}, {@var GBP}, {@var NZD}, {@var CAD}, {@var CHF}, {@var HKD}, {@var JPY}, {@var NOK}, {@var SEK}, {@var SGD}, {@var TRY}, {@var ZAR}", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "linktoseries",
                            type: "bool",
                            info: $.t("if true then the study will be always on the same pane and same price scale as the main series. Should be used only in combination with 'overlay=true'. Default is false.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "slippage",
                            type: "integer",
                            info: $.t("Slippage for market and stop orders in points impairs the filling price of market and stop-market orders for a specified number of points.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "commission_type",
                            type: "string",
                            info: $.t("Commission type for an order. The allowed values are: {@var strategy.commission.percent} (a percentage of the cash volume of order), {@var strategy.commission.cash_per_contract} (money displayed in the account currency per contract), {@var strategy.commission.cash_per_order} (money displayed in the account currency per order).", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "commission_value",
                            type: "float",
                            info: $.t("Commission value for an order. Depending on the type selected  (commission_type) includes percentage or money.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("Every strategy script must have one {@fun strategy} call.", {
                            context: "pine_docs_remarks"
                        }), $.t("PineScript code that uses argument calc_on_every_tick=true could calculate differently on history and realtime data.", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ["strategy(title='MyStrategy')", 'strategy(title="MyStrategy", shorttitle="MS", pyramiding = 10)']
                    },
                    "strategy.entry": {
                        kind: "Built-in function",
                        desc: [$.t("It is a command to enter market position. If an order with the same ID is already pending, it is possible to modify the order. If there is no order with the specified ID, a new order is placed. To deactivate an entry order, the command {@fun strategy.cancel} or {@fun strategy.cancel_all} should be used. In comparison to the function {@fun strategy.order}, the function {@fun strategy.entry} is affected by pyramiding and it can reverse market position correctly. If both 'limit' and 'stop' parameters are 'NaN', the order type is market order.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "id",
                            type: "string",
                            info: $.t("A required parameter. The order identifier. It is possible to cancel or modify an order by referencing its identifier.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "long",
                            type: "bool",
                            info: $.t("A required parameter. Market position direction: 'true' or 'strategy.long' is for long, 'false' or 'strategy.short' is for short.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "qty",
                            type: "float",
                            info: $.t("A required parameter. Number of contracts/shares/lots/units to trade. The default value is 'NaN'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "limit",
                            type: "float",
                            info: $.t("An optional parameter. Limit price of the order. If it is specified, the order type is either 'limit', or 'stop-limit'. 'NaN' should be specified for any other order type.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "stop",
                            type: "float",
                            info: $.t("An optional parameter. Stop price of the order. If it is specified, the order type is either 'stop', or 'stop-limit'. 'NaN' should be specified for any other order type.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "oca_name",
                            type: "string",
                            info: $.t("An optional parameter. Name of the OCA group the order belongs to. If the order should not belong to any particular OCA group, there should be an empty string.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "oca_type",
                            type: "string",
                            info: $.t("An optional parameter. Type of the OCA group. The allowed values are: {@var strategy.oca.none} - the order should not belong to any particular OCA group; {@var strategy.oca.cancel} - the order should belong to an OCA group, where as soon as an order is filled, all other orders of the same group are cancelled; {@var strategy.oca.reduce} - the order should belong to an OCA group, where if X number of contracts of an order is filled, number of contracts for each other order of the same OCA group is decreased by X.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "comment",
                            type: "string",
                            info: $.t("An optional parameter. Commentary to the order. Optional string.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "when",
                            type: "bool",
                            info: $.t("An optional parameter. Condition of the order. The order is placed if condition is 'true'. If condition is 'false', nothing happens (the previously placed order with the same ID is not cancelled). Default value is 'true'.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ['strategy(title = "simple gap strategy example")', 'strategy.entry("enter long", true, 1, when = open > high[1]) // enter long by market if current open great then previous high', 'strategy.entry("enter short", false, 1, when = open < low[1]) // enter short by market if current open less then previous low'],
                        syntax: ["strategy.entry(id, long, qty, limit, stop, oca_name, oca_type, comment, when) → void"]
                    },
                    "strategy.order": {
                        kind: "Built-in function",
                        desc: [$.t("It is a command to place order. If an order with the same ID is already pending, it is possible to modify the order. If there is no order with the specified ID, a new order is placed. To deactivate order, the command {@fun strategy.cancel} or {@fun strategy.cancel_all} should be used. In comparison to the function {@fun strategy.entry}, the function {@fun strategy.order} is not affected by pyramiding. If both 'limit' and 'stop' parameters are 'NaN', the order type is market order.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "id",
                            type: "string",
                            info: $.t("A required parameter. The order identifier. It is possible to cancel or modify an order by referencing its identifier.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "long",
                            type: "bool",
                            info: $.t("A required parameter. Order direction: 'true' or 'strategy.long' is for buy, 'false' or 'strategy.short' is for sell.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "qty",
                            type: "float",
                            info: $.t("A required parameter. Number of contracts/shares/lots/units to trade. The default value is 'NaN'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "limit",
                            type: "float",
                            info: $.t("An optional parameter. Limit price of the order. If it is specified, the order type is either 'limit', or 'stop-limit'. 'NaN' should be specified for any other order type.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "stop",
                            type: "float",
                            info: $.t("An optional parameter. Stop price of the order. If it is specified, the order type is either 'stop', or 'stop-limit'. 'NaN' should be specified for any other order type.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "oca_name",
                            type: "string",
                            info: $.t("An optional parameter. Name of the OCA group the order belongs to. If the order should not belong to any particular OCA group, there should be an empty string.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "oca_type",
                            type: "string",
                            info: $.t("An optional parameter. Type of the OCA group. The allowed values are: {@var strategy.oca.none} - the order should not belong to any particular OCA group; {@var strategy.oca.cancel} - the order should belong to an OCA group, where as soon as an order is filled, all other orders of the same group are cancelled; {@var strategy.oca.reduce} - the order should belong to an OCA group, where if X number of contracts of an order is filled, number of contracts for each other order of the same OCA group is decreased by X.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "comment",
                            type: "string",
                            info: $.t("An optional parameter. Commentary to the order. Optional string.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "when",
                            type: "bool",
                            info: $.t("An optional parameter. Condition of the order. The order is placed if condition is 'true'. If condition is 'false', nothing happens (the previously placed order with the same ID is not cancelled). Default value is 'true'.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ['strategy(title = "simple gap strategy example")', 'strategy.order("buy", true, 1, when = open > high[1]) // buy by market if current open great then previous high', 'strategy.order("sell", false, 1, when = open < low[1]) // sell by market if current open less then previous low'],
                        syntax: ["strategy.order(id, long, qty, limit, stop, oca_name, oca_type, comment, when) → void"]
                    },
                    "strategy.exit": {
                        kind: "Built-in function",
                        desc: [$.t("It is a command to exit either a specific entry, or whole market position. If an order with the same ID is already pending, it is possible to modify the order. If an entry order was not filled, but an exit order is generated, the exit order will wait till entry order is filled and then the exit order is placed. To deactivate an exit order, the command {@fun strategy.cancel} or {@fun strategy.cancel_all} should be used. If the function {@fun strategy.exit} is called once, it exits a position only once. If you want to exit multiple times, the command {@fun strategy.exit} should be called multiple times. If you use a stop loss and a trailing stop, their order type is 'stop', so only one of them is placed (the one that is supposed to be filled first). If all the following paramters 'profit', 'limit', 'loss', 'stop', 'trail_points', 'trail_offset' are 'NaN', the command will fail. To use market order to exit, the command {@fun strategy.close} or {@fun strategy.close_all} should be used.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "id",
                            type: "string",
                            info: $.t("A required parameter. The order identifier. It is possible to cancel or modify an order by referencing its identifier.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "from_entry",
                            type: "string",
                            info: $.t("An optional parameter. The identifier of a specific entry order to exit from it. To exit all entries an empty string should be used. The default values is empty string.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "qty",
                            type: "float",
                            info: $.t("An optional parameter. Number of contracts/shares/lots/units to exit. The default value is 'NaN'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "qty_percent",
                            type: "float",
                            info: $.t("An optional parameter. Number of contracts/shares/lots/units to exit (in % from entry quantity). Priority of the parameter 'qty_percent' is higher than priority of the parameter 'qty' ('qty_percent' is used instead of 'qty', if its value is not 'NaN'). The allowed range of values: from 0% to 100%. The default value is 100%.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "profit",
                            type: "float",
                            info: $.t("An optional parameter. Profit target (specified in ticks). If it is specified, a limit order is placed to exit market position when the specified amount of profit (in ticks) is reached. The default value is 'NaN'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "limit",
                            type: "float",
                            info: $.t("An optional parameter. Profit target (requires a specific price). If it is specified, a limit order is placed to exit market position at the specified price (or better). Priority of the parameter 'limit' is higher than priority of the parameter 'profit' ('limit' is used instead of 'profit', if its value is not 'NaN'). The default value is 'NaN'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "loss",
                            type: "float",
                            info: $.t("An optional parameter. Stop loss (specified in ticks). If it is specified, a stop order is placed to exit market position when the specified amount of loss (in ticks) is reached. The default value is 'NaN'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "stop",
                            type: "float",
                            info: $.t("An optional parameter. Stop loss (requires a specific price). If it is specified, a stop order is placed to exit market position at the specified price (or worse). Priority of the parameter 'stop' is higher than priority of the parameter 'loss' ('stop' is used instead of 'loss', if its value is not 'NaN'). The default value is 'NaN'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "trail_price",
                            type: "float",
                            info: $.t("An optional parameter. Trailing stop activation level (requires a specific price). If it is specified, a trailing stop order will be placed when the specified price level is reached. The offset (in ticks) to determine initial price of the trailing stop order is specified in the 'trail_offset' parameter: X ticks lower than activation level to exit long position; X ticks higher than activation level to exit short position. The default value is 'NaN'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "trail_points",
                            type: "float",
                            info: $.t("An optional parameter. Trailing stop activation level (profit specified in ticks). If it is specified, a trailing stop order will be placed when the calculated price level (specified amount of profit) is reached. The offset (in ticks) to determine initial price of the trailing stop order is specified in the 'trail_offset' parameter: X ticks lower than activation level to exit long position; X ticks higher than activation level to exit short position. The default value is 'NaN'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "trail_offset",
                            type: "float",
                            info: $.t("An optional parameter. Trailing stop price (specified in ticks). The offset in ticks to determine initial price of the trailing stop order: X ticks lower than 'trail_price' or 'trail_points' to exit long position; X ticks higher than 'trail_price' or 'trail_points' to exit short position. The default value is 'NaN'.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "oca_name",
                            type: "string",
                            info: $.t("An optional parameter. Name of the OCA group (oca_type = {@var strategy.oca.reduce}) the profit target, the stop loss / the trailing stop orders belong to. If the name os not specified, it will be generated automatically.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "comment",
                            type: "string",
                            info: $.t("An optional parameter. Commentary to the order. Optional string.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "when",
                            type: "bool",
                            info: $.t("An optional parameter. Condition of the order. The order is placed if condition is 'true'. If condition is 'false', nothing happens (the previously placed order with the same ID is not cancelled). Default value is 'true'.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ['strategy(title = "simple strategy exit example")', 'strategy.entry("long", true, 1, when = open > high[1]) // enter long by market if current open great then previous high', 'strategy.exit("exit", "long", profit = 10, loss = 5) // generate full exit bracket (profit 10 points, loss 5 points per contract) from entry with name "long"'],
                        syntax: ["strategy.exit(id, from_entry, qty, qty_percent, profit, limit, loss, stop, trail_price, trail_points, trail_offset, oca_name, comment, when) → void"]
                    },
                    "strategy.cancel": {
                        kind: "Built-in function",
                        desc: [$.t("It is a command to cancel/deactivate pending orders by referencing their names, which were generated by the functions: {@fun strategy.order}, {@fun strategy.entry} and {@fun strategy.exit}.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "id",
                            type: "string",
                            info: $.t("A required parameter. The order identifier. It is possible to cancel an order by referencing its identifier.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "when",
                            type: "bool",
                            info: $.t("An optional parameter. Condition to cancel an order with specified ID. If condition is true, then the order with specified ID will be cancelled. Default value is 'true'.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ['strategy(title = "simple order cancellation example")', "conditionForBuy = open > high[1]", 'strategy.entry("long", true, 1, limit = low, when = conditionForBuy) // enter long using limit order at low price of current bar if conditionForBuy is true', 'strategy.cancel("long", when = not conditionForBuy) // cancel the entry order with name "long" if conditionForBuy is false'],
                        syntax: ["strategy.cancel(id, when) → void"]
                    },
                    "strategy.cancel_all": {
                        kind: "Built-in function",
                        desc: [$.t("It is a command to cancel/deactivate all pending orders, which were generated by the functions: {@fun strategy.order}, {@fun strategy.entry} and {@fun strategy.exit}.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "when",
                            type: "bool",
                            info: $.t(" An optional parameter. Condition to cancel all orders. If condition is true, then all active orders will be cancelled. Default value is 'true'.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ['strategy(title = "simple all orders cancellation example")', "conditionForBuy1 = open > high[1]", 'strategy.entry("long entry 1", true, 1, limit = low, when = conditionForBuy1) // enter long by limit if conditionForBuy1 is true', "conditionForBuy2 = conditionForBuy1 and open[1] > high[2]", 'strategy.entry("long entry 2", true, 1, limit = lowest(low, 2), when = conditionForBuy2) // enter long by limit if conditionForBuy2 is true', "conditionForStopTrading = open < lowest(low, 2)", "strategy.cancel_all(conditionForStopTrading) // cancel both limit orders if the conditon conditionForStopTrading is true"],
                        syntax: ["strategy.cancel_all(when) → void"]
                    },
                    pivothigh: {
                        kind: "Built-in function",
                        desc: [$.t("This function returns price of the pivot high point. It returns 'NaN', if there was no pivot high point.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Price of the point or 'NaN'.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("An optional parameter. Data series to calculate the value. 'High' by defualt.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "leftbars",
                            type: "series",
                            info: $.t("Left strength.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "rightbars",
                            type: "series",
                            info: $.t("Right strength.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("In case of series <code>leftbars</code> or <code>rightbars</code> you should set <code>max_bars_back</code> argument in {@fun study} or {@fun strategy} accordingly.", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ['study("PivotHigh", overlay=true)', "leftBars = input(2)", "rightBars=input(2)", "ph = pivothigh(leftBars, rightBars)", "plot(ph, style=cross, linewidth=3, color= red, offset=-rightBars)"],
                        syntax: ["pivothigh(source, leftbars, rightbars) → series", "pivothigh(leftbars, rightbars) → series"]
                    },
                    pivotlow: {
                        kind: "Built-in function",
                        desc: [$.t("This function returns price of the pivot low point. It returns 'NaN', if there was no pivot low point.", {
                            context: "pine_docs_desc"
                        })],
                        returns: [$.t("Price of the point or 'NaN'.", {
                            context: "pine_docs_returns"
                        })],
                        args: [{
                            name: "source",
                            type: "series",
                            info: $.t("An optional parameter. Data series to calculate the value. 'Low' by default.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "leftbars",
                            type: "series",
                            info: $.t("Left strength.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "rightbars",
                            type: "series",
                            info: $.t("Right strength.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        remarks: [$.t("In case of series <code>leftbars</code> or <code>rightbars</code> you should set <code>max_bars_back</code> argument in {@fun study} or {@fun strategy} accordingly.", {
                            context: "pine_docs_remarks"
                        })],
                        examples: ['study("PivotLow", overlay=true)', "leftBars = input(2)", "rightBars=input(2)", "pl = pivotlow(close, leftBars, rightBars)", "plot(pl, style=cross, linewidth=3, color= blue, offset=-rightBars)"],
                        syntax: ["pivotlow(source, leftbars, rightbars) → series", "pivotlow(leftbars, rightbars) → series"]
                    },
                    "strategy.close_all": {
                        kind: "Built-in function",
                        desc: [$.t("It is a command to exit from current market position making it flat. If there is no open market position by the moment the command is triggered, the command will not come into effect.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "when",
                            type: "bool",
                            info: $.t("A required parameter. Condition of the command.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ['strategy("closeAll Demo", overlay=false)', 'strategy.entry("buy", true, when = open > close)', "strategy.close_all(when = open < close)", "plot(strategy.position_size)"],
                        syntax: ["strategy.close_all(when) → void"]
                    },
                    "strategy.close": {
                        kind: "Built-in function",
                        desc: [$.t("It is a command to exit from the entry with the specified ID. If there were multiple entry orders with the same ID, all of them are exited at once. If there are no open entries with the specified ID by the moment the command is triggered, the command will not come into effect. The command uses market order. Every entry is closed by a separate market order.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "id",
                            type: "string",
                            info: $.t("A required parameter. The order identifier. It is possible to close an order by referencing its identifier.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "when",
                            type: "bool",
                            info: $.t("A required parameter. Condition of the command.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ['strategy("closeEntry Demo", overlay=false)', 'strategy.entry("buy", true, when = open > close)', 'strategy.close("buy", when = open < close)', "plot(strategy.position_size)"],
                        syntax: ["strategy.close(id, when) → void"]
                    },
                    "strategy.risk.max_position_size": {
                        kind: "Built-in function",
                        desc: [$.t("The purpose of this rule is to determine maximum size of a market position. The rule affects the following function: {@fun strategy.entry}. The 'entry' quantity can be reduced (if needed) to such number of contracts/shares/lots/units, so the total position size doesn't exceed the value specified in 'strategy.risk.max_position_size'. If minimum possible quantity still violates the rule, the order will not be placed.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "contracts",
                            type: "float",
                            info: $.t("A required parameter. Maximum number of contracts/shares/lots/units in a position", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ['strategy("risk.max_position_size Demo", default_qty_value = 100)', "strategy.risk.max_position_size(10)", 'strategy.entry("buy", true, when = open > close)', "plot(strategy.position_size)  // max plot value will be 10"],
                        syntax: ["strategy.risk.max_position_size(contracts) → void"]
                    },
                    "strategy.risk.max_intraday_loss": {
                        kind: "Built-in function",
                        desc: [$.t("The purpose of this rule is to determine maximum loss per 1 day (per 1 bar, if chart resolution is higher than 1 day). The rule affects the whole strategy. Once the maximum loss value is reached, all pending orders are cancelled, all open positions are closed and no new orders can be placed till the end of the current trading session.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "value",
                            type: "float",
                            info: $.t("A required parameter. The maximum loss value. It is specified either in money (base currency), or in percentage of maximum intraday equity. For % of equity the range of allowed values is from 0 to 1 (where 1 = 100%).", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "type",
                            type: "string",
                            info: $.t("A required parameter. The type of the value. Please specify one of the following values: {@var strategy.percent_of_equity} or {@var strategy.cash}. Note: if equity drops down to zero or to a negative and the {@var strategy.percent_of_equity} is specified, all pending orders are cancelled, all open positions are closed and no new orders can be placed for good.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ['strategy("risk.max_intraday_loss Demo 1")', "strategy.risk.max_intraday_loss(10, strategy.percent_of_equity) // set maximum intraday loss to 10% of maximum intraday equity", "// ... ", 'strategy("risk.max_intraday_loss Demo 2", currency = EUR)', "strategy.risk.max_intraday_loss(100, strategy.cash) // set maximum intraday loss to 100 EUR from maximum intraday equity", "// ... "],
                        syntax: ["strategy.risk.max_intraday_loss(value, type) → void"]
                    },
                    "strategy.risk.max_intraday_filled_orders": {
                        kind: "Built-in function",
                        desc: [$.t("The purpose of this rule is to determine maximum number of filled orders per 1 day (per 1 bar, if chart resolution is higher than 1 day). The rule affects the whole strategy. Once the maximum number of filled orders is reached, all pending orders are cancelled, all open positions are closed and no new orders can be placed till the end of the current trading session.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "count",
                            type: "float",
                            info: $.t("A required parameter. The maximum number of filled orders per 1 day", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ['strategy("risk.max_intraday_filled_orders Demo")', "strategy.risk.max_intraday_filled_orders(10) // After 10 orders are filled, no more strategy orders will be placed (except for a market order to exit current open market position, if there is any).", 'strategy.entry("buy", true, when = open > close)', 'strategy.entry("sell", false, when = open < close)'],
                        syntax: ["strategy.risk.max_intraday_filled_orders(count) → void"]
                    },
                    "strategy.risk.allow_entry_in": {
                        kind: "Built-in function",
                        desc: [$.t("The purpose of this rule is to forbid short entries, only long etries will be placed. The rule affects the following function: 'entry'.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "value",
                            type: "string",
                            info: $.t("To determine allowed market position direction, please specify one of the following values: {@var strategy.direction.all} (by default), {@var strategy.direction.long}, {@var strategy.direction.short}", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ['strategy("risk.long_only Demo")', "strategy.risk.allow_entry_in(strategy.direction.long) // There will be no short entries, only exits from long.", 'strategy.entry("buy", true, when = open > close)', 'strategy.entry("sell", false, when = open < close)'],
                        syntax: ["strategy.risk.allow_entry_in(value) → void"]
                    },
                    "strategy.risk.max_cons_loss_days": {
                        kind: "Built-in function",
                        desc: [$.t("The purpose of this rule is to cancel all pending orders, close all open positions and stop placing orders after a specified number of consecutive days with losses. The rule affects the whole strategy.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "count",
                            type: "float",
                            info: $.t("A required parameter. The allowed number of consecutive days with losses.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ['strategy("risk.max_cons_loss_days Demo 1")', "strategy.risk.max_cons_loss_days(3) // No orders will be placed after 3 days, if each day is with loss.", "// ..."],
                        syntax: ["strategy.risk.max_cons_loss_days(count) → void"]
                    },
                    "strategy.risk.max_drawdown": {
                        kind: "Built-in function",
                        desc: [$.t("The purpose of this rule is to determine maximum drawdown. The rule affects the whole strategy. Once the maximum drawdown value is reached, all pending orders are cancelled, all open positions are closed and no new orders can be placed.", {
                            context: "pine_docs_desc"
                        })],
                        args: [{
                            name: "value",
                            type: "float",
                            info: $.t("A required parameter. The maximum drawdown value. It is specified either in money (base currency), or in percentage of maximum equity. For % of equity the range of allowed values is from 0 to 100.", {
                                context: "pine_docs_args_info"
                            })
                        }, {
                            name: "type",
                            type: "string",
                            info: $.t("A required parameter. The type of the value. Please specify one of the following values: {@var strategy.percent_of_equity} or {@var strategy.cash}. Note: if equity drops down to zero or to a negative and the 'strategy.percent_of_equity' is specified, all pending orders are cancelled, all open positions are closed and no new orders can be placed for good.", {
                                context: "pine_docs_args_info"
                            })
                        }],
                        examples: ['strategy("risk.max_drawdown Demo 1")', "strategy.risk.max_drawdown(50, strategy.percent_of_equity) // set maximum drawdown to 50% of maximum equity", "// ... ", 'strategy("risk.max_drawdown Demo 2", currency = EUR)', "strategy.risk.max_drawdown(2000, strategy.cash)  // set maximum drawdown to 2000 EUR from maximum equity", "// ... "],
                        syntax: ["strategy.risk.max_drawdown(value, type) → void"]
                    }
                }
            }
        }
    },
    1642: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 12" width="14" height="12"><g fill="none" fill-rule="evenodd" stroke="#9DB2BD"><path d="M1 0l12 12M13 0L1 12"/></g></svg>'
    },
    1644: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 21" width="20" height="21"><path d="M12.29.93l-1.024 1.215 3.654 3.068 1.023-1.217L12.29.93zM3.71.932L.058 3.99 1.08 5.205l3.647-3.06L3.71.933zM8 2.632A7.15 7.15 0 0 0 8 16.93c.32 0 .634-.028.943-.07v-1.604a5.58 5.58 0 0 1-.943.086A5.558 5.558 0 0 1 2.44 9.78 5.557 5.557 0 0 1 8 4.22a5.557 5.557 0 0 1 5.56 5.56c0 .05-.006.1-.007.15h1.59c0-.05.007-.1.007-.15A7.15 7.15 0 0 0 8 2.63zm-.795 3.177v4.764l3.774 2.266.594-.98-3.178-1.88V5.81h-1.19zM13.944 11.93v7h1v-7h-1zm4 3h-7v1h7v-1z"/></svg>'
    },
    1650: function(e, t) {},
    1651: function(e, t) {},
    1652: function(e, t) {},
    1653: function(e, t) {},
    1725: function(e, t, i) {
        "use strict";
        function n(e) {
            function t(e, t) {
                s("Pine Editor", "BP Pine Editor " + e, t)
            }
            if (a)
                return a;
            a = this,
            r = e.activate,
            e.$body.css("overflow", "hidden"),
            n.tabShown.promise().done(function() {
                this._scriptEditor = new o(e.chartWidgetCollection,{
                    $body: e.$body,
                    height: e.height,
                    width: e.width,
                    visible: e.visible,
                    $button: c,
                    trackEvent: t
                }),
                l = this._scriptEditor,
                this._scriptEditor.show()
            }
            .bind(this))
        }
        var o = i(2790)
          , s = i(9).trackEvent
          , r = null
          , a = null
          , l = null
          , c = null;
        n.onRegister = function(e) {
            e.activate && (r = e.activate)
        }
        ,
        n.tabShown = $.Deferred(),
        n.onTabShow = function(e) {
            e.$button && (c = e.$button.find(".title")),
            n.tabShown.resolve()
        }
        ,
        n.open = function(e) {
            r && r(),
            l && l.show(e)
        }
        ,
        n.loadedScriptIdPart = function() {
            return !!l && l.loadedScriptIdPart()
        }
        ,
        n.onScriptModified = function(e, t) {
            l && l.onScriptModified(e, t)
        }
        ,
        n.onScriptDeleted = function(e, t) {
            l && l.onScriptDeleted(e, t)
        }
        ,
        n.onScriptRenamed = function(e, t) {
            l && l.onScriptRenamed(e, t)
        }
        ,
        n.onScriptLegacyPineProcessed = function(e, t) {
            l && l.onScriptLegacyPineProcessed(e, t)
        }
        ,
        e.exports = n
    },
    1829: function(e, t, i) {
        (function(e) {
            "use strict";
            var n, o, s, r, a, l, c, d, h, u, p, f, g;
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
            n = i(8),
            i(1853),
            i(1854),
            i(1852),
            i(1857),
            i(3),
            o = i(1548),
            s = "{{#sections}}{{> contentSectionTemplate}}{{/sections}}",
            r = '<div id="{{id}}" class="tv-pine-reference-item tv-pine-reference-item--scroll-aligner"><div class="tv-pine-reference-item__content"><h3 class="tv-pine-reference-item__header">{{title}}</h3>{{#description}}<div class="tv-pine-reference-item__text tv-text">{{{.}}}</div>{{/description}}{{#type}}<div class="tv-pine-reference-item__sub-header">' + $.t("Type") + '</div><div class="tv-pine-reference-item__text tv-text">{{.}}</div>{{/type}}{{#syntax}}<div class="tv-pine-reference-item__syntax">{{{.}}}</div>{{/syntax}}{{#hasExamples}}<div class="tv-pine-reference-item__sub-header">' + $.t("Example") + '</div><pre class="tv-pine-reference-item__example"><code class="language-js">{{{example}}}</code></pre>{{/hasExamples}}{{#detailedDescription}}{{#detailed_desc}}<div class="tv-pine-reference-item__text tv-text">{{{.}}}</div>{{/detailed_desc}}{{#detailed_example}}<div class="tv-pine-reference-item__sub-header">' + $.t("Example") + '</div><pre class="tv-pine-reference-item__example"><code class="language-js">{{{detailed_example}}}</code></pre>{{/detailed_example}}{{/detailedDescription}}{{#hasReturns}}<div class="tv-pine-reference-item__sub-header">' + $.t("Returns") + '</div>{{/hasReturns}}{{#returns}}<div class="tv-pine-reference-item__text tv-text">{{{.}}}</div>{{/returns}}{{#hasArguments}}<div class="tv-pine-reference-item__sub-header">' + $.t("Arguments") + '</div>{{/hasArguments}}{{#arguments}}<div class="tv-pine-reference-item__text tv-text"><span class="tv-pine-reference-item__arg-type">{{name}} {{#type}}({{type}}) {{/type}}</span>{{{info}}}</div>{{/arguments}}{{#hasRemarks}}<div class="tv-pine-reference-item__sub-header">' + $.t("Remarks") + '</div>{{/hasRemarks}}{{#remarks}}<div class="tv-pine-reference-item__text tv-text">{{{.}}}</div>{{/remarks}}{{#hasSeeAlso}}<div class="tv-pine-reference-item__sub-header">' + $.t("See also") + '</div><div class="tv-pine-reference-item__see-also">{{#seeAlso}}{{> tagItemTemplate}}{{/seeAlso}}</div>{{/hasSeeAlso}}</div></div>',
            a = '<h2 class="tv-pine-reference-header">{{header}}</h2><div>{{#items}}{{> contentItemTemplate}}{{/items}}</div>',
            l = "{{#sections}}{{> tocSectionTemplate}}{{/sections}}",
            c = '<div class="tv-accordion__section-header">{{header}}</div><div class="tv-accordion__section-body">{{#items}}{{> tocItemTemplate}}{{/items}}</div>',
            d = '<a href="/study-script-reference/#{{#encode}}{{kind}}_{{{name}}}{{/encode}}" class="tv-pine-reference-toc-item js-reference" data-name="{{#lower}}{{name}}{{/lower}}" data-href="{{#encode}}{{kind}}_{{{name}}}{{/encode}}">{{name}}</a>',
            h = '<a href="/study-script-reference/#{{#encode}}{{kind}}_{{{name}}}{{/encode}}" class="tv-tag-label js-reference" data-href="{{#encode}}{{kind}}_{{{name}}}{{/encode}}">{{name}}</a>',
            u = '<a href="/study-script-reference/#{{type}}_{{name}}" class="js-reference" data-href="{{type}}_{{name}}">{{text}}</a>',
            t.encodeURI = function(e) {
                var t = e
                  , i = "{"
                  , n = "}";
                return t = t.replace(/\?/g, i + "question" + n),
                t = t.replace(/:/g, i + "colon" + n),
                t = t.replace(/\+/g, i + "plus" + n),
                t = t.replace(/\-/g, i + "minus" + n),
                t = t.replace(/\*/g, i + "star" + n),
                t = t.replace(/\%/g, i + "percent" + n),
                t = t.replace(/\//g, i + "slash" + n),
                t = t.replace(/\./g, i + "dot" + n)
            }
            ,
            p = function() {
                return function(e, i) {
                    return t.encodeURI(i(e))
                }
            }
            ,
            f = function() {
                return function(e, t) {
                    return t(e).toLowerCase()
                }
            }
            ,
            g = function() {
                function i(e) {
                    this.tagRegExp = RegExp("{@(\\w+)\\s+([\\w.]+)}", "g"),
                    this._templates = n.__assign({}, i.defaultPartials, e),
                    this._documentationCollectionsInfo = [{
                        collection: o.operators.docs,
                        prefix: "op",
                        render: this.getOperatorMetainfo.bind(this),
                        title: $.t("Language operators")
                    }, {
                        collection: o.variables.docs,
                        prefix: "var",
                        render: this.getVariableMetainfo.bind(this),
                        title: $.t("Built-in variables")
                    }, {
                        collection: o.functions.docs,
                        prefix: "fun",
                        render: this.getFunctionMetainfo.bind(this),
                        title: $.t("Built-in functions")
                    }]
                }
                return i.prototype.getScriptReferenceContentHtml = function() {
                    var t = this
                      , i = this._templates;
                    return e.render(i.contentTemplate, {
                        encode: p,
                        lower: f,
                        sections: this._documentationCollectionsInfo.map(function(e) {
                            return {
                                header: e.title,
                                items: t._renderContentCollection(e)
                            }
                        })
                    }, i)
                }
                ,
                i.prototype.getScriptReferenceTocContent = function() {
                    var t = this
                      , i = this._templates;
                    return e.render(i.tocTemplate, {
                        encode: p,
                        lower: f,
                        sections: this._documentationCollectionsInfo.map(function(e) {
                            return {
                                header: e.title,
                                items: t._prepareTocCollection(e)
                            }
                        })
                    }, i)
                }
                ,
                i.prototype.getFunctionMetainfo = function(e, t) {
                    var i = o.functions.docs[e];
                    return this._renderContentItem(e, t, i)
                }
                ,
                i.prototype.getVariableMetainfo = function(e, t) {
                    var i = o.variables.docs[e];
                    return this._renderContentItem(e, t, i)
                }
                ,
                i.prototype.getOperatorMetainfo = function(e, t) {
                    var i = o.operators.docs[e];
                    return this._renderContentItem(e, t, i)
                }
                ,
                i.replaceTags = function(e, t) {
                    return e.replace(/{@\w+\s+([\w\.]+)}/g, "<code" + (!0 === t || /[\r\n]/.test(e) ? ' class="block"' : "") + ">$1</code>")
                }
                ,
                i.prototype._prepareTocCollection = function(e) {
                    var t = Object.keys(e.collection);
                    return t.sort(),
                    t.filter(function(t) {
                        return !e.collection[t].skipForReference
                    }).map(function(t) {
                        return {
                            kind: e.prefix,
                            name: t
                        }
                    })
                }
                ,
                i.prototype._renderContentCollection = function(e) {
                    var t = Object.keys(e.collection);
                    return t.sort(),
                    t.filter(function(t) {
                        return !e.collection[t].skipForReference
                    }).map(function(t) {
                        return e.render(t, e.prefix)
                    })
                }
                ,
                i.prototype._renderContentItem = function(e, i, n) {
                    return {
                        arguments: this._formatArgs(n.args),
                        description: this._replaceDocTags(n.desc),
                        detailedDescription: this._formatDetailedDescription(n.detailedDesc),
                        example: this._formatExamples(n.examples),
                        hasArguments: !!n.args && n.args.length > 0,
                        hasDetailedDescription: !!n.detailedDesc && n.detailedDesc.length > 0,
                        hasExamples: !!n.examples && n.examples.length > 0,
                        hasRemarks: !!n.remarks && n.remarks.length > 0,
                        hasReturns: !!n.returns && n.returns.length > 0,
                        hasSeeAlso: !!n.seeAlso && n.seeAlso.length > 0,
                        id: i + "_" + t.encodeURI(e),
                        remarks: this._replaceDocTags(n.remarks),
                        returns: this._replaceDocTags(n.returns),
                        seeAlso: this._extractDocumentationTags(n.seeAlso),
                        syntax: n.syntax,
                        title: e,
                        type: n.type
                    }
                }
                ,
                i.prototype._formatExamples = function(e) {
                    if (e && e.length > 0)
                        return e.join("\n")
                }
                ,
                i.prototype._formatDetailedDescription = function(e) {
                    var t, i, n;
                    if (e && e.length > 0) {
                        for (t = 0,
                        i = e; t < i.length; t++)
                            n = i[t],
                            n.detailed_desc = this._replaceDocTags(n.desc),
                            n.detailed_example = this._formatExamples(n.examples);
                        return e
                    }
                }
                ,
                i.prototype._formatArgs = function(e) {
                    var t, i;
                    if (e) {
                        for (t = 0; t < e.length; ++t)
                            void 0 !== (i = e[t].info) && null !== i && (e[t].info = this._replaceDocTags(i));
                        return e
                    }
                }
                ,
                i.prototype._replaceDocTags = function(e) {
                    var t, i, n;
                    if (e) {
                        if (e instanceof Array) {
                            for (t = [],
                            i = 0; i < e.length; ++i)
                                n = e[i],
                                n = this._replaceDocTagsInStr(n),
                                t.push(n);
                            return t
                        }
                        return e = this._replaceDocTagsInStr(e),
                        Array.isArray(e) && e || [e]
                    }
                }
                ,
                i.prototype._extractDocumentationTags = function(e) {
                    var t, i, n;
                    if (e) {
                        if (e instanceof Array) {
                            for (t = [],
                            i = 0; i < e.length; ++i)
                                n = e[i],
                                t = t.concat(this._extractDocumentationTagsFromString(n));
                            return t
                        }
                        return t = this._extractDocumentationTagsFromString(e),
                        Array.isArray(t) && t || [t]
                    }
                }
                ,
                i.prototype._extractDocumentationTagsFromString = function(e) {
                    for (var t = [], n = e.match(i._documentationTagRegExp); n; )
                        t.push({
                            kind: n[1],
                            name: n[2]
                        }),
                        e = e.replace(i._documentationTagRegExp, ""),
                        n = e.match(i._documentationTagRegExp);
                    return t
                }
                ,
                i.prototype._replaceDocTagsInStr = function(n) {
                    for (var o, s = n.match(i._documentationTagRegExp); s; )
                        o = t.encodeURI(s[2]),
                        n = n.replace(i._documentationTagRegExp, e.render(this._templates.hrefItemTemplate, {
                            name: o,
                            text: s[2],
                            type: s[1]
                        })),
                        s = n.match(i._documentationTagRegExp);
                    return n
                }
                ,
                i.defaultPartials = {
                    contentItemTemplate: r,
                    contentSectionTemplate: a,
                    contentTemplate: s,
                    hrefItemTemplate: u,
                    tagItemTemplate: h,
                    tocItemTemplate: d,
                    tocSectionTemplate: c,
                    tocTemplate: l
                },
                i._documentationTagRegExp = /{@(fun|var|op)\s([\w\.\?:\+\-\*\/%]+)}/,
                i
            }(),
            t.ReferenceRenderer = g
        }
        ).call(t, i(5))
    },
    1831: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 15" width="22" height="15"><g fill="none" fill-rule="evenodd" stroke-width="2"><path stroke="#757575" d="M6.25 5.812L11 10.087l4.75-4.275M11 9.868V.315"/><path stroke="#ADAEB0" d="M21 10v4H1v-4"/></g></svg>'
    },
    1832: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="299 131 12 7" width="12" height="7"><path fill="none" d="M300 132l5 5 5-5"/></svg>'
    },
    1833: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 15" width="13" height="15"><path fill-rule="evenodd" d="M.554.831C.248.372.447 0 1 0H12c.552 0 .751.372.445.831L8 7.5V13l-3 2V7.5L.554.831z"/></svg>'
    },
    1836: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 6 21 21" width="16px" height="15px"><path d="M15.5 27c1.2 0 2.2-.9 2.4-2H13c.3 1.1 1.3 2 2.5 2zm6.5-7v-6c-.2-2.9-2.3-5.3-5.1-5.9 0-.2.1-.4.1-.6 0-.8-.7-1.5-1.5-1.5S14 6.7 14 7.5c0 .2.1.4.2.6-2.8.6-4.9 3-5.1 5.9v5.9C9 22.7 7 23 7 23v1h17v-1s-2-.3-2-3z"/></svg>'
    },
    1837: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path d="M3.06 6.295C2.37 7.397 2 8.67 2 10c0 3.866 3.134 7 7 7s7-3.134 7-7-3.134-7-7-7V2c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8c0-1.556.444-3.007 1.212-4.236l.848.53zm0 0C2.37 7.397 2 8.67 2 10c0 3.866 3.134 7 7 7s7-3.134 7-7-3.134-7-7-7V2c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8c0-1.556.444-3.007 1.212-4.236l.848.53zM6 2.5L9 0v5L6 2.5z"/></svg>'
    },
    1847: function(e, t) {},
    1849: function(e, t) {},
    1852: function(e, t) {},
    1853: function(e, t) {},
    1854: function(e, t) {},
    1857: function(e, t) {},
    1870: function(e, t) {
        e.exports = {
            switch: "switch-2AFrWp-z-",
            label: "label-kDrr9htQ-",
            active: "active-3pNssSqD-",
            toggle: "toggle-3YoBSWUv-",
            on: "on-2PYtCHxk-"
        }
    },
    1873: function(e, t) {
        "use strict";
        var i, n;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        i = t.SIGNAL = {
            STRONG_BUY: $.t("Strong Buy"),
            BUY: $.t("Buy"),
            STRONG_SELL: $.t("Strong Sell"),
            SELL: $.t("Sell"),
            NEUTRAL: $.t("Neutral")
        },
        n = function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
              , n = t ? "" : " i-hidden"
              , o = void 0;
            switch (e) {
            case i.STRONG_BUY:
                o = "tv-screener-table__signal--strong-buy";
                break;
            case i.BUY:
                o = "tv-screener-table__signal--buy";
                break;
            case i.SELL:
                o = "tv-screener-table__signal--sell";
                break;
            case i.STRONG_SELL:
                o = "tv-screener-table__signal--strong-sell";
                break;
            default:
                o = "tv-screener-table__signal--neutral"
            }
            return '<span class="tv-screener-table__signal ' + o + n + '">' + e + "</span>"
        }
        ,
        t.signalDisplayFunctions = {
            processMASignal: function(e, t, o, s) {
                if (null === t || null === o)
                    return e;
                var r = i.NEUTRAL;
                return t < o && (r = i.BUY),
                t > o && (r = i.SELL),
                e + " " + n(r, s.displaySignal)
            },
            processRSISignal: function(e, t, o, s) {
                if (null === t)
                    return e;
                var r = i.NEUTRAL;
                return t < 30 && o > t && (r = i.BUY),
                t > 70 && o < t && (r = i.SELL),
                e + " " + n(r, s.displaySignal)
            },
            processStochSignal: function(e, t, o, s, r, a) {
                if (null === t || null === o)
                    return e;
                var l = i.NEUTRAL;
                return t < 20 && o < 20 && t > o && s < r && (l = i.BUY),
                t > 80 && o > 80 && t < o && s > r && (l = i.SELL),
                e + " " + n(l, a.displaySignal)
            },
            processCCI20Signal: function(e, t, o, s) {
                if (null === t || null === o)
                    return e;
                var r = i.NEUTRAL;
                return t < -100 && t > o && (r = i.BUY),
                t > 100 && t < o && (r = i.SELL),
                e + " " + n(r, s.displaySignal)
            },
            processADXSignal: function(e, t, o, s, r, a, l) {
                if (null === t || null === o || null === s)
                    return e;
                var c = i.NEUTRAL;
                return t > 20 && r < a && o > s && (c = i.BUY),
                t > 20 && r > a && o < s && (c = i.SELL),
                e + " " + n(c, l.displaySignal)
            },
            processAOSignal: function(e, t, o, s) {
                if (null === t || null === o)
                    return e;
                var r = i.NEUTRAL;
                return (t > 0 && o < 0 || t > 0 && o > 0 && t > o) && (r = i.BUY),
                (t < 0 && o > 0 || t < 0 && o < 0 && t < o) && (r = i.SELL),
                e + " " + n(r, s.displaySignal)
            },
            processMomSignal: function(e, t, o, s) {
                if (null === t || null === o)
                    return e;
                var r = i.NEUTRAL;
                return t < o && (r = i.BUY),
                t > o && (r = i.SELL),
                e + " " + n(r, s.displaySignal)
            },
            processMACDSignal: function(e, t, o, s) {
                if (null === t || null === o)
                    return e;
                var r = i.NEUTRAL;
                return t > o && (r = i.BUY),
                t < o && (r = i.SELL),
                e + " " + n(r, s.displaySignal)
            },
            processBBBuySignal: function(e, t, o, s) {
                if (null === t || null === o)
                    return e;
                var r = i.NEUTRAL;
                return t < o && (r = i.BUY),
                e + " " + n(r, s.displaySignal)
            },
            processBBSellSignal: function(e, t, o, s) {
                if (null === t || null === o)
                    return e;
                var r = i.NEUTRAL;
                return t > o && (r = i.SELL),
                e + " " + n(r, s.displaySignal)
            },
            processPSARSignal: function(e, t, o, s) {
                if (null === t || null === o)
                    return e;
                var r = i.NEUTRAL;
                return t < o && (r = i.BUY),
                t > o && (r = i.SELL),
                e + " " + n(r, s.displaySignal)
            },
            processRecommendSignal: function(e) {
                if (null === e)
                    return e;
                var t = void 0;
                return e >= -1 && e < -.5 && (t = i.STRONG_SELL),
                e >= -.5 && e < 0 && (t = i.SELL),
                0 === e && (t = i.NEUTRAL),
                e > 0 && e <= .5 && (t = i.BUY),
                e > .5 && e <= 1 && (t = i.STRONG_BUY),
                "" + n(t, !0)
            }
        },
        t.recommendsRange = [i.STRONG_BUY, i.BUY, i.NEUTRAL, i.SELL, i.STRONG_SELL],
        t.generateRecommendsRequest = function(e, t) {
            var n = void 0
              , o = void 0;
            return e === i.STRONG_SELL && (n = [-1, -.5],
            o = -.5),
            e === i.SELL && (n = [-.5, 0],
            o = 0),
            e === i.NEUTRAL ? {
                left: t,
                operation: "equal",
                right: 0
            } : (e === i.BUY && (n = [0, .5],
            o = 0),
            e === i.STRONG_BUY && (n = [.5, 1],
            o = .5),
            [{
                left: t,
                operation: "nequal",
                right: o
            }, {
                left: t,
                operation: "in_range",
                right: n
            }])
        }
    },
    1931: function(e, t, i) {
        "use strict";
        function n(e) {
            return r + "/" + e + "/"
        }
        var o, s, r;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        o = i(76),
        s = o.getUrlParams(),
        r = s.scanner_url || window.SCREENER_HOST || "https://scanner.tradingview.com",
        t.getBackendUrl = n
    },
    1941: function(e, t, i) {
        "use strict";
        var n, o;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        i(3),
        n = i(35),
        o = function() {
            function e(e) {
                this._formatStr = e || "%y-%m-%d"
            }
            return e.prototype.format = function(e) {
                var t = new Date(1e3 * e);
                return this._formatStr.replace("%y", n.numberToStringWithLeadingZero(t.getUTCFullYear(), 4)).replace("%m", n.numberToStringWithLeadingZero(t.getUTCMonth() + 1, 2)).replace("%d", n.numberToStringWithLeadingZero(t.getUTCDate(), 2))
            }
            ,
            e
        }(),
        t.TimeSpanDateFormatter = o
    },
    1942: function(e, t, i) {
        "use strict";
        var n, o, s;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        n = i(8),
        i(3),
        o = i(35),
        s = function(e) {
            function t(t, i, n, o) {
                return e.call(this, t, i, n, o) || this
            }
            return n.__extends(t, e),
            t.prototype.format = function(t, i, n) {
                var o, s, r, a = +e.prototype.format.call(this, t, i, n), l = "" + a, c = "" + t;
                return l.indexOf(".") >= 0 && l.split(".")[1].length >= 2 ? l : c.indexOf("e-") >= 0 ? (o = c.split("e-"),
                s = +o[0],
                r = +o[1],
                (s < 0 ? "-" : "") + "0." + "0".repeat(r - 1) + Math.abs(Math.round(s))) : a.toFixed(2)
            }
            ,
            t
        }(o.PriceFormatter),
        t.TrailingZerosPriceFormatter = s
    },
    1951: function(e, t, i) {
        "use strict";
        var n, o, s, r, a;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        n = i(8),
        o = i(22),
        s = i(1870),
        r = i(62),
        a = function(e) {
            function t(t) {
                var i = e.call(this, t) || this;
                return i._handleLeftClick = function() {
                    i.setState({
                        selectedId: 0
                    })
                }
                ,
                i._handleSwitch = function() {
                    i.setState({
                        selectedId: 1 - i.state.selectedId
                    })
                }
                ,
                i._handleRightClick = function() {
                    i.setState({
                        selectedId: 1
                    })
                }
                ,
                i.state = {
                    selectedId: t.selectedId || 0
                },
                i
            }
            return n.__extends(t, e),
            t.prototype.render = function() {
                var e, t, i, n, a = this.props, l = a.options, c = a.className, d = void 0 === c ? "" : c, h = r(s.switch, (e = {},
                e[d] = !!d,
                e)), u = r(s.toggle, (t = {},
                t[s.on] = 1 === this.state.selectedId,
                t)), p = r(s.label, (i = {},
                i[s.active] = 0 === this.state.selectedId,
                i)), f = r(s.label, (n = {},
                n[s.active] = 1 === this.state.selectedId,
                n));
                return o.createElement("span", {
                    className: h
                }, o.createElement("a", {
                    className: p,
                    onClick: this._handleLeftClick
                }, l ? l[0] : "&nbsp;"), o.createElement("a", {
                    className: u,
                    onClick: this._handleSwitch
                }), o.createElement("a", {
                    className: f,
                    onClick: this._handleRightClick
                }, l ? l[1] : "&nbsp;"))
            }
            ,
            t.prototype.componentDidUpdate = function(e, t) {
                this.props.onSelect && t.selectedId !== this.state.selectedId && this.props.onSelect(this.state.selectedId)
            }
            ,
            t
        }(o.Component),
        t.Switch = a
    },
    1980: function(e, t, i) {
        "use strict";
        function n(e) {
            if (Array.isArray(e)) {
                for (var t = 0, i = Array(e.length); t < e.length; t++)
                    i[t] = e[t];
                return i
            }
            return Array.from(e)
        }
        function o(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        var s, r, a, l, c, d, h, u, p, f, g, m, _, v, y, b, w, C, A, x, S, k, F, E, T;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        ,
        r = Object.assign || function(e) {
            var t, i, n;
            for (t = 1; t < arguments.length; t++) {
                i = arguments[t];
                for (n in i)
                    Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n])
            }
            return e
        }
        ,
        a = function() {
            function e(e, t) {
                var i, n;
                for (i = 0; i < t.length; i++)
                    n = t[i],
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n)
            }
            return function(t, i, n) {
                return i && e(t.prototype, i),
                n && e(t, n),
                t
            }
        }(),
        l = i(2040),
        c = i(2034),
        d = i(2033),
        h = i(802),
        u = i(745),
        p = i(9),
        f = i(31),
        g = i(26),
        m = i(1931),
        _ = i(13),
        v = i(885),
        y = i(38),
        b = i(2035),
        w = i(4),
        C = i(10),
        A = i(50),
        x = i(64),
        S = i(1).getLogger("Screener.Widget"),
        k = window.locale || "en",
        F = 50,
        E = function(e) {
            return h.fields[e] && !0 !== h.fields[e].disabled && !0 !== h.fields[e].hiddenColumn
        }
        ,
        T = function() {
            function e(t) {
                var n, s, r, a = this;
                if (o(this, e),
                this._bridge = t,
                this._bridge.standalone ? this.screener_type = t.screener_type || "stock" : this.screener_type = TVSettings.getValue("screener.selected_type_on_chart", "stock"),
                this.settingKey = "forex" === this.screener_type ? "screener-forex" : "screener",
                this.defaultFieldSets = (0,
                d.getDefaultFieldSetsByScreenerType)(this.screener_type, this.market, this.isServerRender()),
                (0,
                h.applyScreenerTypeToFields)(this.screener_type),
                "forex" === this.screener_type && (0,
                c.applyMarketValuesToDefaultFilterSets)("forex"),
                this._bridge.getCurrentFilterSetId = function() {
                    return a.currentFilterSetId()
                }
                ,
                this._bridge.applySymbol = function(e) {
                    !0 === (arguments.length > 1 && void 0 !== arguments[1] && arguments[1]) || a._bridge.standalone ? window.open("/chart/?symbol=" + encodeURI(e)) : y.symbol.setValue(e)
                }
                ,
                this._bridge.applyFilterSet = function(e, t) {
                    var i = t && a.market !== t
                      , n = i || e !== a.currentFilterSetId()
                      , o = i ? a.setMarket(t).then(function() {
                        return a._view.updateMarketButton()
                    }) : Promise.resolve();
                    return n && (o = o.then(function() {
                        return a.applyFilterSet(e)
                    })),
                    o
                }
                ,
                this.fieldsOrder = new C,
                this._sortField = new C,
                this._sortDirection = new C,
                this._initialSortField = t.sort_field || TVSettings.getValue(this.settingKey + ".sort_field", "market_cap_basic"),
                this._initialSortDirection = t.sort_direction || TVSettings.getValue(this.settingKey + ".sort_direction", "desc"),
                this.update = x(this.updateImpl.bind(this), 100),
                this._sortField.subscribe(function(e) {
                    a._view._updateTableSortField(),
                    a.saveFiltersSettings(),
                    delete a._initialSortField
                }),
                this._sortDirection.subscribe(function(e) {
                    a._view._updateTableSortField(),
                    a.saveFiltersSettings(),
                    delete a._initialSortDirection
                }),
                this.scanRequest = null,
                this.loadingStart = new w,
                this.loadingComplete = new w,
                this.fieldSetChanged = new w,
                this.fieldSetSaved = new w,
                this.filterSetChanged = new w,
                this.filterSetSaved = new w,
                this.filterSetDeleted = new w,
                this.maxSafeInteger = Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1,
                this.minSafeInteger = Number.MIN_SAFE_INTEGER || -(Math.pow(2, 53) - 1),
                this._initAlerts(),
                this._bridge.hide_controls || this._initXWindowHandlers(),
                this._view = new l.ScreenerView(t,this),
                (0,
                g.isFeatureEnabled)("screener-maintenance"))
                    return void this._view.showMaintenance();
                this._view.prepareLayout(),
                this._initAlertsReset(),
                this._initAlertToggle(),
                n = function() {
                    a._checkCurrentSets(),
                    a._view._selectedPeriodId && "today" === a._view._selectedPeriodId ? (a.applyFieldSetContent(h.earningsCalendarHeaderFields),
                    a._sortField.setValue("name"),
                    a._sortDirection.setValue("asc")) : a.applyFieldSet(a.currentFieldSetId(), !0),
                    a.applyFilterSet(a.currentFilterSetId(), !0),
                    a.updateImpl(a._view._setupStickyHeader.bind(a._view))
                }
                ,
                this.isServerRender() ? (this.getMetaInfo(),
                this.getUserSettings(),
                n()) : (s = this.getMetaInfo(),
                r = this.getUserSettings(),
                Promise.all([s, r]).then(n),
                window.loginStateChange.subscribe(null, function(e) {
                    return a.onLoginStateChange(e)
                })),
                t.standalone || i.e(43, function(e) {
                    i(1395).setScreener(a)
                }),
                A.isProd() || (window._exposed_screenerWidget = this),
                this.isServerRender() && delete this._bridge.server_data
            }
            return a(e, [{
                key: "_initAlerts",
                value: function() {
                    var e = this;
                    this._alerts = new b(this._bridge,this),
                    this._alerts.currentAlertStateChange.subscribe(null, function(t) {
                        return e._view.setAlertButtonState(t)
                    }),
                    this._alerts.alertsUpdated.subscribe(null, function() {
                        return e._view.popups.updateFilterSetsPopupAlerts(e._alerts.getFilterSetIdsWithRunningAlerts())
                    }),
                    this._alerts.currentAlertLoading.subscribe(null, function() {
                        return e._view.setCreateAlertButtonLoading()
                    })
                }
            }, {
                key: "_initAlertsReset",
                value: function() {
                    var e = this
                      , t = function() {
                        window.is_authenticated && (e._view.setAlertButtonsDisabledState(!0),
                        e._alerts.ready.then(function() {
                            return e._view.setAlertButtonsDisabledState(!1)
                        }).catch(function(e) {
                            return S.logError(e + "")
                        }))
                    };
                    window.loginStateChange.subscribe(null, t),
                    t()
                }
            }, {
                key: "_initAlertToggle",
                value: function() {
                    var e = this;
                    this._view.toggleAlert.subscribe(null, function(t) {
                        return runOrSignIn(function() {
                            e._alerts.ready.then(function() {
                                return e._alerts.toggleAlert(t || e.currentFilterSetId())
                            })
                        })
                    })
                }
            }, {
                key: "_initXWindowHandlers",
                value: function() {
                    var e = this;
                    this._registerXWindowHandler("screener.market-changed", function() {
                        var t, i, n;
                        (0,
                        c.applyMarketValuesToDefaultFilterSets)(e.market),
                        t = e.currentFilterSetId(),
                        i = e.defaultFilterSets.find(function(e) {
                            return e.id === t
                        }),
                        i && i.disabled && (n = e.defaultFilterSets.find(function(e) {
                            return !e.disabled
                        }),
                        t = n ? n.id : ""),
                        e.getUserSettings().then(function() {
                            e.applyFilterSet(t, !0),
                            e._view.updateMarketButton(),
                            e.invalidateRequest(),
                            e.updateImpl()
                        })
                    }),
                    this._registerXWindowHandler("screener.save-field-set", function(t) {
                        var i = t.setId;
                        e.getUserSettings().then(function() {
                            i && i === e.currentFieldSetId() && e._view.$fieldSetsButton.text(e.getFieldSetById(i).title)
                        })
                    }),
                    this._registerXWindowHandler("screener.save-filter-set", function(t) {
                        var i = t.setId;
                        e.getUserSettings().then(function() {
                            i && i === e.currentFilterSetId() && e._view.$filterSetsButtonTitle.text(e.getFilterSetById(i).title)
                        })
                    }),
                    this._registerXWindowHandler("screener.add-field-set-to-favorites", function() {
                        e.getUserSettings()
                    }),
                    this._registerXWindowHandler("screener.remove-field-set-from-favorites", function() {
                        e.getUserSettings()
                    }),
                    this._registerXWindowHandler("screener.apply-field-set", function(t) {
                        e.applyFieldSetImpl(t.setId, t.initial, !1),
                        e._view.lastSetId = t.setId
                    }),
                    this._registerXWindowHandler("screener.apply-filter-set", function(t) {
                        e.applyFilterSet(t.setId, t.doNotUpdate, !1)
                    }),
                    this._registerXWindowHandler("screener.change-selected-interval-id", function(t) {
                        e._view.updateIntervalButton(null, t.id),
                        e.invalidateRequest(),
                        e.updateImpl()
                    })
                }
            }, {
                key: "_registerXWindowHandler",
                value: function(e, t) {
                    var i = this;
                    f.TVXWindowEvents.on(e, function(e) {
                        var n = JSON.parse(e);
                        i.settingKey === n.settingKey && t(n)
                    })
                }
            }, {
                key: "_checkCurrentSets",
                value: function() {
                    var e, t = this.currentFieldSetId();
                    t && !this.getFieldSetById(t) && TVSettings.remove(this.settingKey + ".fieldSetId"),
                    (e = this.currentFilterSetId()) && !this.getFilterSetById(e) && TVSettings.remove(this.settingKey + ".filterSetId")
                }
            }, {
                key: "isServerRender",
                value: function() {
                    return window.initData.screener_metainfo && window.initData.screener_data && this._bridge.server_data
                }
            }, {
                key: "updateMetaInfo",
                value: function(e) {
                    var t, i, n = this;
                    h.fields.index.disabled = !0,
                    t = (0,
                    u.getMarketFieldValuesByScreenerType)(this.screener_type),
                    i = (0,
                    u.getMarketFieldValuesByScreenerType)("stock").america,
                    e.fields.forEach(function(e) {
                        var o, s;
                        if (e.n in h.fields) {
                            if ("text" === e.t && e.r && e.r instanceof Array && (e.r = e.r.map(function(e) {
                                return Object.keys(h.translatedMetaFieldNames).includes(e) ? h.translatedMetaFieldNames[e] : e
                            })),
                            "index" === e.n)
                                return h.fields.index.disabled = !1,
                                h.fields.index.sourceRange = e.r,
                                void (h.fields.index.range = h.fields.index.sourceRange.map(function(e) {
                                    return e.name
                                }));
                            if (!h.fields[e.n].range && h.fields[e.n].useDefaultRange ? h.fields[e.n].range = h.fields[e.n].defaultRange : h.fields[e.n].useDefaultRange || (h.fields[e.n].range = e.r),
                            h.fields[e.n].type = e.t,
                            t[n.market] && (o = t[n.market][e.n] || i[e.n],
                            h.fields[e.n].values = o),
                            !1 === h.fields[e.n].sortable)
                                return;
                            "text" === e.t && (h.fields[e.n].range = h.fields[e.n].range.sort()),
                            "number" === e.t && h.fields[e.n].range && !h.fields[e.n].useDefaultRange && (h.fields[e.n].range = h.fields[e.n].range.map(function(e) {
                                return Math.min(Math.max(e, n.minSafeInteger), n.maxSafeInteger)
                            }).sort(n.numericSorter)),
                            h.fields[e.n].values && !h.fields[e.n].range && (h.fields[e.n].range = [n.minSafeInteger, n.maxSafeInteger]),
                            h.fields[e.n].values && h.fields[e.n].range && (h.fields[e.n].range[0] > h.fields[e.n].values[0] && (h.fields[e.n].range[0] = h.fields[e.n].values[0]),
                            h.fields[e.n].range[1] < h.fields[e.n].values[h.fields[e.n].values.length - 1] && (h.fields[e.n].range[1] = h.fields[e.n].values[h.fields[e.n].values.length - 1])),
                            "range" !== h.fields[e.n].control || h.fields[e.n].values || h.fields[e.n].range || (h.fields[e.n].range = [n.minSafeInteger, n.maxSafeInteger],
                            h.fields[e.n].values = [n.minSafeInteger, 0, n.maxSafeInteger])
                        } else
                            -1 !== e.n.indexOf("|") && (s = e.n.split("|"),
                            h.fields[s[0]] || (h.fields[s[0]] = {}),
                            h.fields[s[0]].customResolutions || (h.fields[s[0]].customResolutions = []),
                            h.fields[s[0]].customResolutions.push(s[1]))
                    }),
                    (0,
                    c.applyMarketValuesToDefaultFilterSets)(this.market),
                    this.defaultFilterSets = c.defaultFilterSets
                }
            }, {
                key: "getMetaInfo",
                value: function() {
                    var e = this;
                    return this.isServerRender() ? (this.updateMetaInfo(JSON.parse(window.initData.screener_metainfo)),
                    Promise.resolve()) : new Promise(function(t) {
                        e.loadingStart.fire(),
                        $.get(e.backendUrl() + "metainfo", function(i) {
                            e.updateMetaInfo(i),
                            t()
                        }, "json").fail(function() {
                            S.logError("Failed to load screener metainfo")
                        }).always(function() {
                            e.loadingComplete.fire()
                        })
                    }
                    )
                }
            }, {
                key: "fieldActive",
                value: function(e) {
                    return !(!h.fields[e] || !h.fields[e].value || "condition" !== h.fields[e].control || "in_range" !== h.fields[e].value.operator || 2 !== h.fields[e].value.value.length) || !(!h.fields[e] || !h.fields[e].value || "condition" === h.fields[e].control && (!h.fields[e].value.operator || "number" != typeof h.fields[e].value.value && !h.fields[e].value.value) || "range" === h.fields[e].control && h.fields[e].value[0] === h.fields[e].range[0] && h.fields[e].value[1] === h.fields[e].range[1])
                }
            }, {
                key: "getScannerParams",
                value: function(e) {
                    var t, i, n, o, s, r, a, l = this, c = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], d = null, u = null, p = null;
                    for (e ? (t = this.getFilterSetById(e),
                    d = t.content.sort_field,
                    u = t.content.filters || {},
                    p = Object.keys(t.content.filters || {})) : p = Object.keys(h.fields).filter(function(e) {
                        return l.fieldActive(e)
                    }),
                    d || (d = this._sortField.value() || this._initialSortField),
                    i = {
                        filter: [],
                        _groups: []
                    },
                    !0 !== c && i.filter.push({
                        left: (0,
                        v.getFieldNameWithResolution)(d, this.selectedIntervalId),
                        operation: "nempty"
                    }),
                    n = 0; n < p.length; ++n)
                        if (o = p[n],
                        "condition" !== h.fields[o].control || h.fields[o].value)
                            if (s = h.fields[o].groupFilter ? i._groups : i.filter,
                            r = (0,
                            h.conditionByField)(o, h.fields[o].value, u, this.selectedIntervalId),
                            Array.isArray(r))
                                for (a = 0; a < r.length; ++a)
                                    s.push(r[a]);
                            else
                                s.push(r);
                    return i
                }
            }, {
                key: "updateImpl",
                value: function(e, t, i) {
                    var o, s, a, l, c, d, u, p, f = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
                    if (!t || !this._view.isEndReached()) {
                        if ((0,
                        g.isFeatureEnabled)("screener-maintenance"))
                            return void this._view._popups.showMaintenanceDialog();
                        switch (o = this._bridge.types || [],
                        this.screener_type) {
                        case "forex":
                            o = ["forex"]
                        }
                        for (s = r({}, this.getScannerParams(), {
                            symbols: {
                                query: {
                                    types: o
                                }
                            },
                            columns: this.fieldsOrder.value().slice(0),
                            sort: {
                                sortBy: (0,
                                v.getFieldNameWithResolution)(this._sortField.value() || this._initialSortField, this.selectedIntervalId),
                                sortOrder: this._sortDirection.value() || this._initialSortDirection
                            }
                        }),
                        window.language && (s.options = {
                            lang: window.language
                        }),
                        s._groups.length > 0 && (s.symbols.groups = s._groups),
                        delete s._groups,
                        h.fields.name.hiddenFilterButton = !1,
                        !h.fields.type.disabled && h.fields.type.checked || (h.fields.name.hiddenFilterButton = !0,
                        (a = this._view.table.additionalColumns.indexOf("type")) >= 0 && this._view.table.additionalColumns.splice(a, 1)),
                        !h.fields.description.disabled && h.fields.description.checked || (l = this._view.table.additionalColumns.indexOf("description")) >= 0 && this._view.table.additionalColumns.splice(l, 1),
                        s.columns = [].concat(n(s.columns), n(this._view.table.additionalColumns)),
                        c = 0; c < s.columns.length; ++c)
                            d = s.columns[c],
                            h.fields[d] && h.fields[d].alias && (s.columns[c] = h.fields[d].alias),
                            s.columns[c] = (0,
                            v.getFieldNameWithResolution)(s.columns[c], this.selectedIntervalId);
                        if (h.fields[this.searchField].searchValue && (u = {
                            left: !h.fields.description.disabled && h.fields.description.checked ? this.searchField + ",description" : this.searchField,
                            operation: "match",
                            right: h.fields[this.searchField].searchValue
                        },
                        s.filter.push(u)),
                        this._bridge.screener_name_match && s.filter.push({
                            left: "name",
                            operation: "match",
                            right: this._bridge.screener_name_match
                        }),
                        this.cryptoSwitchFilter && s.filter.push(this.cryptoSwitchFilter),
                        p = [0, F],
                        s.range = p.slice(),
                        f ? (t && this._currentItemsRange ? (p[0] = this._currentItemsRange[1],
                        p[1] = p[0] + F,
                        s.range[1] = p[1]) : this._view.resetItems(),
                        this._currentItemsRange = p) : this._currentItemsRange ? s.range[1] = this._currentItemsRange[1] : this._view.resetItems(),
                        !t && this._prevRequest && TradingView.deepEquals(s, this._prevRequest)[0] && TradingView.deepEquals(this._prevRequest, s)[0])
                            return void ("function" == typeof e && !0 === i && e());
                        this._prevRequest = (0,
                        _.clone)(s),
                        "function" == typeof e && e(),
                        this.scan(s, t)
                    }
                }
            }, {
                key: "scan",
                value: function(e, t) {
                    var i, n = this, o = JSON.stringify(e);
                    this.loading = !0,
                    this.loadingStart.fire(t),
                    i = function(e, i) {
                        e && e.data && e.data instanceof Array && e.data.forEach(function(e) {
                            e.d && e.d instanceof Array && [2, 3, 4].forEach(function(t) {
                                "string" == typeof e.d[t] && (e.d[t] = $.t(e.d[t]))
                            })
                        }),
                        n.loading = !1,
                        n._view.display(e, t, i),
                        n.loadingComplete.fire()
                    }
                    ,
                    this.isServerRender() ? i(JSON.parse(window.initData.screener_data)) : (this.scanRequest && 4 !== this.scanRequest.readyState && this.scanRequest.abort(),
                    this.scanRequest = $.post(this.backendUrl() + "scan", o, i, "json"),
                    this.scanRequest.fail(i),
                    this.trackEvent("Scan request"),
                    window.initData.filter_id && delete window.initData.filter_id)
                }
            }, {
                key: "preventPrevScanRequest",
                value: function() {
                    this.loading && this.scanRequest && (this.scanRequest.abort(),
                    this.scanRequest = null)
                }
            }, {
                key: "isFieldSetChanged",
                value: function() {
                    var e, t, i, n, o = this.currentFieldSetId(), s = o && this.getFieldSetById(o);
                    return !o || !s || (e = s.content.slice().filter(E),
                    t = this.fieldsOrder.value().slice().filter(E),
                    i = !h.fields.type.disabled && -1 !== s.content.indexOf("type") !== h.fields.type.checked,
                    n = !h.fields.description.disabled && -1 !== s.content.indexOf("description") !== h.fields.description.checked,
                    e.join() !== t.join() || i || n)
                }
            }, {
                key: "applyFieldSetContent",
                value: function(e) {
                    for (var t in h.fields)
                        h.fields[t].checked = -1 !== e.indexOf(t);
                    this.fieldSetChanged.fire(e.filter(function(e) {
                        return !0 !== h.fields[e].hiddenColumn
                    }))
                }
            }, {
                key: "applyFieldSetImpl",
                value: function(e, t) {
                    var i = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2]
                      , n = this.getFieldSetById(e)
                      , o = n.content.filter(function(e) {
                        return h.fields[e] && !h.fields[e].disabled
                    });
                    this.applyFieldSetContent(o),
                    t || this.update(),
                    this._view.setFieldSet(e),
                    TVSettings.setValue(this.settingKey + ".fieldSetId", n.id, {
                        forceFlush: !0
                    }),
                    this._view.updateFavoritesToolbar(),
                    this.trackEvent("Apply field set"),
                    i && f.TVXWindowEvents.emit("screener.apply-field-set", JSON.stringify({
                        setId: e,
                        initial: t,
                        settingKey: this.settingKey
                    }))
                }
            }, {
                key: "applyFieldSet",
                value: function(e, t, i) {
                    var n = this;
                    t || i || !this.isFieldSetChanged() ? this.applyFieldSetImpl(e, t) : new Promise(function(e) {
                        n._view._popups.showConfirm($.t("You have unsaved changes in current field set. Do you want to save it?"), function() {
                            return setTimeout(function() {
                                n._view.popups.confirmAndSaveCurrentFieldSet().then(e)
                            }, 0)
                        }, e)
                    }
                    ).then(function() {
                        n.applyFieldSetImpl(e, t)
                    })
                }
            }, {
                key: "isFilterSetChanged",
                value: function() {
                    var e, t, i, n, o, s, r, a, l, c, d, u, p, f = this.currentFilterSetId(), g = f && this.getFilterSetById(f);
                    if (!f || !g)
                        return !0;
                    if (e = this.currentFilterState(),
                    t = {},
                    g.content.filters) {
                        i = !0,
                        n = !1,
                        o = void 0;
                        try {
                            for (s = Object.keys(g.content.filters)[Symbol.iterator](); !(i = (r = s.next()).done); i = !0)
                                a = r.value,
                                l = g.content.filters[a],
                                ((0,
                                h.isValueAbsent)(l.operator) && (0,
                                h.isValueAbsent)(l.value) || l.operator && l.value) && (t[a] = l)
                        } catch (e) {
                            n = !0,
                            o = e
                        } finally {
                            try {
                                !i && s.return && s.return()
                            } finally {
                                if (n)
                                    throw o
                            }
                        }
                    }
                    for (c = e.filters,
                    d = Object.keys(t).concat(Object.keys(c)).filter(function(e, t, i) {
                        return i.indexOf(e) === t
                    }),
                    u = 0; u < d.length; ++u) {
                        if (p = d[u],
                        !t.hasOwnProperty(p) || !c.hasOwnProperty(p))
                            return !0;
                        if (Array.isArray(t[p]) && Array.isArray(c[p]) && t[p].sort(this.numericSorter).join() !== c[p].sort(this.numericSorter).join() || !Array.isArray(t[p]) && !TradingView.deepEquals(t[p], c[p])[0])
                            return !0
                    }
                    return !!(g.content.sort_direction && g.content.sort_direction !== e.sort_direction || g.content.sort_field && g.content.sort_field !== e.sort_field)
                }
            }, {
                key: "currentFilterState",
                value: function() {
                    var e, t = {}, i = function(e) {
                        var i = h.fields[e].value;
                        h.fields[e].control && i && ("object" === (void 0 === i ? "undefined" : s(i)) ? "condition" === h.fields[e].control ? (0,
                        h.isValueAbsent)(i.operator) || (0,
                        h.isValueAbsent)(i.value) || (t[e] = i) : Object.keys(i).some(function(e) {
                            return !!i[e]
                        }) && (t[e] = i) : t[e] = i)
                    };
                    for (e in h.fields)
                        i(e);
                    return {
                        filters: t,
                        sort_field: this._sortField.value() || this._initialSortField,
                        sort_direction: this._sortDirection.value() || this._initialSortDirection
                    }
                }
            }, {
                key: "saveFieldSet",
                value: function(e, t) {
                    var i = this;
                    return this._view.$fieldSetsButton.toggleClass("i-disabled", !0),
                    e.type = "fieldSet",
                    e.screener_type = this.screener_type,
                    this.saveSet(e, t).then(function(t) {
                        i._view.$fieldSetsButton.toggleClass("i-disabled", !1);
                        var n = t && t.id && "" + t.id;
                        return e.delete || i.fieldSetSaved.fire(),
                        f.TVXWindowEvents.emit("screener.save-field-set", JSON.stringify({
                            setId: e.delete ? "" : n,
                            settingKey: i.settingKey
                        })),
                        t
                    })
                }
            }, {
                key: "saveFilterSet",
                value: function(e, t) {
                    var i = this;
                    return this._view.$filterSetsButton.toggleClass("i-disabled", !0),
                    e.type = "filterSet",
                    e.screener_type = this.screener_type,
                    e.market = this.market,
                    this.saveSet(e, t).then(function(t) {
                        return i._view.$filterSetsButton.toggleClass("i-disabled", !1),
                        e.setId = t && t.id && "" + t.id,
                        e.delete ? i.filterSetDeleted.fire(e.setId) : i.filterSetSaved.fire(e.setId, e.market, !!e.content),
                        f.TVXWindowEvents.emit("screener.save-filter-set", JSON.stringify({
                            setId: e.delete ? "" : e.setId,
                            settingKey: i.settingKey
                        })),
                        t
                    })
                }
            }, {
                key: "saveSet",
                value: function(e, t) {
                    var i = this;
                    return Promise.resolve({
                        type: "POST",
                        url: "/screener/save/",
                        data: e
                    }).then($.ajax).then(function(e) {
                        return e.error ? S.logError(e.error) : t && i.trackEvent(t),
                        i.getUserSettings().then(function() {
                            return e
                        })
                    })
                }
            }, {
                key: "applyFilterSet",
                value: function(e, t) {
                    var i, n = this, o = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2], s = this.getFilterSetById(e);
                    if (s) {
                        s.content.sort_field && this._sortField.setValue(s.content.sort_field),
                        s.content.sort_direction && this._sortDirection.setValue(s.content.sort_direction);
                        for (i in h.fields)
                            s.content.filters && i in s.content.filters ? ("condition" === h.fields[i].control && Array.isArray(s.content.filters[i]) && 2 === s.content.filters[i].length && (s.content.filters[i] = {
                                operator: "in_range",
                                value: s.content.filters[i]
                            }),
                            h.fields[i].value = (0,
                            _.clone)(s.content.filters[i]),
                            "condition" === h.fields[i].control && h.fields[i].value && ((0,
                            h.isValueAbsent)(h.fields[i].value.value) || (0,
                            h.isValueAbsent)(h.fields[i].value.operator)) && (h.fields[i].value = null)) : !1 !== h.fields[i].resettableFilter && (h.fields[i].value = null),
                            this._view._resetField(i);
                        this.saveFiltersSettings(),
                        !0 === t ? (this._view.setFilterSet(e),
                        this.filterSetChanged.fire(e)) : this.updateImpl(function() {
                            n._view.setFilterSet(e),
                            n.filterSetChanged.fire(e)
                        }, null, !0),
                        TVSettings.setValue(this.settingKey + ".filterSetId", s.id, {
                            forceFlush: !0
                        }),
                        this.trackEvent("Apply filter set"),
                        o && f.TVXWindowEvents.emit("screener.apply-filter-set", JSON.stringify({
                            setId: e,
                            doNotUpdate: t,
                            settingKey: this.settingKey
                        }))
                    }
                }
            }, {
                key: "saveFiltersSettings",
                value: function() {
                    TVSettings.setValue(this.settingKey + ".sort_direction", this._sortDirection.value() || this._initialSortDirection),
                    TVSettings.setValue(this.settingKey + ".sort_field", this._sortField.value() || this._initialSortField)
                }
            }, {
                key: "getUserSettings",
                value: function() {
                    var e = this
                      , t = {
                        filterSets: [],
                        fieldSets: []
                    };
                    return this.isServerRender() ? this.favoriteFieldSets = this.defaultFieldSets.map(function(e) {
                        return e.id
                    }) : this.favoriteFieldSets = TVSettings.getJSON(this.settingKey + ".favoriteFieldSets", this.defaultFieldSets.map(function(e) {
                        return e.id
                    })),
                    window.is_authenticated ? new Promise(function(i) {
                        $.get("/screener/settings/", {
                            screener_type: e.screener_type
                        }).done(function(n) {
                            n = n || t,
                            n.filterSets = n.filterSets.map(function(e) {
                                return {
                                    id: e.id + "",
                                    title: e.title,
                                    content: JSON.parse(e.content)
                                }
                            }),
                            n.fieldSets = n.fieldSets.map(function(e) {
                                return {
                                    id: e.id + "",
                                    title: e.title,
                                    content: JSON.parse(e.content)
                                }
                            }),
                            e.settings = n,
                            i()
                        })
                    }
                    ) : (this.settings = t,
                    Promise.resolve())
                }
            }, {
                key: "getFieldSetById",
                value: function(e) {
                    var t = function(t) {
                        return t.id == e
                    };
                    return this.defaultFieldSets.find(t) || (this.settings ? this.settings.fieldSets.find(t) : null)
                }
            }, {
                key: "getFilterSetById",
                value: function(e) {
                    if ("predefined_filter" === e)
                        return this._bridge.predefined_filter;
                    var t = function(t) {
                        return t.id == e
                    };
                    return c.defaultFilterSets.find(t) || (this.settings ? this.settings.filterSets.find(t) : null)
                }
            }, {
                key: "addFavoriteFieldSet",
                value: function(e) {
                    -1 === this.favoriteFieldSets.indexOf(e) && this.favoriteFieldSets.push(e),
                    TVSettings.setJSON(this.settingKey + ".favoriteFieldSets", this.favoriteFieldSets, {
                        forceFlush: !0
                    }),
                    this._view.updateFavoritesToolbar(),
                    this.trackEvent("Add field set to favorites"),
                    f.TVXWindowEvents.emit("screener.add-field-set-to-favorites", JSON.stringify({
                        settingKey: this.settingKey,
                        date: Date.now()
                    }))
                }
            }, {
                key: "removeFavoriteFieldSet",
                value: function(e) {
                    this.favoriteFieldSets = this.favoriteFieldSets.filter(function(t) {
                        return t !== e
                    }),
                    TVSettings.setJSON(this.settingKey + ".favoriteFieldSets", this.favoriteFieldSets, {
                        forceFlush: !0
                    }),
                    this._view.updateFavoritesToolbar(),
                    f.TVXWindowEvents.emit("screener.remove-field-set-from-favorites", JSON.stringify({
                        settingKey: this.settingKey,
                        date: Date.now()
                    }))
                }
            }, {
                key: "currentFieldSetId",
                value: function() {
                    return this.isServerRender() ? window.initData.fieldset_id : TVSettings.getValue(this.settingKey + ".fieldSetId", this.defaultFieldSets[0].id)
                }
            }, {
                key: "currentFilterSetId",
                value: function() {
                    var e = c.defaultFilterSets.find(function(e) {
                        return e.hasOwnProperty("disabled") && !e.disabled
                    }) || c.defaultFilterSets[0];
                    return window.initData.filter_id || TVSettings.getValue(this.settingKey + ".filterSetId", e.id)
                }
            }, {
                key: "getCurrentState",
                value: function() {
                    return {
                        requestParams: this._prevRequest || "none",
                        fieldSet: this.currentFieldSetId(),
                        filterSet: this.currentFilterSetId()
                    }
                }
            }, {
                key: "trackEvent",
                value: function(e) {
                    (0,
                    p.trackEvent)("Screener", e, this.market + " " + (this._bridge.standalone ? "standalone" : "on chart"))
                }
            }, {
                key: "numericSorter",
                value: function(e, t) {
                    return e > t ? 1 : -1
                }
            }, {
                key: "invalidateRequest",
                value: function() {
                    delete this._prevRequest
                }
            }, {
                key: "setSelectedIntervalId",
                value: function(e) {
                    TVSettings.setValue(this.settingKey + ".interval-id", e, {
                        forceFlush: !0
                    }),
                    f.TVXWindowEvents.emit("screener.change-selected-interval-id", JSON.stringify({
                        settingKey: this.settingKey,
                        id: e
                    }));
                    var t = (0,
                    v.getIntervalById)(e);
                    t && this.trackEvent("Apply timeframe " + t.id)
                }
            }, {
                key: "setSelectedGroups",
                value: function(e) {
                    var t = e.map(function(e) {
                        return Object.keys(h.translatedMetaFieldNames).find(function(t) {
                            return h.translatedMetaFieldNames[t] === e
                        }) || e
                    });
                    TVSettings.setValue(k + ".screener-forex.groups", JSON.stringify(t), {
                        forceFlush: !0
                    }),
                    this.trackEvent("Change selected groups")
                }
            }, {
                key: "setMarket",
                value: function(e, t, i) {
                    var n, o = this;
                    return !0 !== t && e === this.market ? Promise.reject() : (TVSettings.setValue(k + "." + this.settingKey + ".market", e, {
                        forceFlush: !0
                    }),
                    this.trackEvent("Change market"),
                    f.TVXWindowEvents.emit("screener.market-changed", JSON.stringify({
                        settingKey: this.settingKey,
                        date: Date.now()
                    })),
                    n = !0 === i ? Promise.resolve() : new Promise(function(e, t) {
                        o.isFilterSetChanged() ? o._view.popups.showConfirm($.t("You have unsaved changes in current filter set. Do you want to save it?"), function() {
                            return setTimeout(function() {
                                o._view.popups.confirmAndSaveCurrentFilterSet().then(e, function(t) {
                                    t && S.logError(t),
                                    e()
                                })
                            }, 0)
                        }, e) : e()
                    }
                    ),
                    n.then(function() {
                        return o.loadingStart.fire()
                    }).then(function() {
                        return o.getMetaInfo()
                    }).then(function() {
                        var e, t, i;
                        o.defaultFieldSets = (0,
                        d.getDefaultFieldSetsByScreenerType)(o.screener_type, o.market, o.isServerRender()),
                        e = o.currentFilterSetId(),
                        t = o.defaultFilterSets.find(function(t) {
                            return t.id === e
                        }),
                        t && t.disabled && (i = o.defaultFilterSets.find(function(e) {
                            return !e.disabled
                        }),
                        e = i ? i.id : ""),
                        o.applyFieldSet(o.currentFieldSetId(), !0),
                        o.applyFilterSet(e, !0),
                        o.invalidateRequest(),
                        o.updateImpl()
                    }))
                }
            }, {
                key: "changeScreenerType",
                value: function(e) {
                    var t, i, n = this;
                    return e === this.screener_type ? Promise.reject() : (this.trackEvent("Change screener type"),
                    t = new Promise(function(e, t) {
                        n.isFieldSetChanged() ? n._view.popups.showConfirm($.t("You have unsaved changes in current field set. Do you want to save it?"), function() {
                            return setTimeout(function() {
                                n._view.popups.confirmAndSaveCurrentFieldSet().then(e, function(t) {
                                    t && S.logError(t),
                                    e()
                                })
                            }, 0)
                        }, e) : e()
                    }
                    ),
                    i = t.then(function() {
                        return new Promise(function(e, t) {
                            n.isFilterSetChanged() ? n._view.popups.showConfirm($.t("You have unsaved changes in current filter set. Do you want to save it?"), function() {
                                return setTimeout(function() {
                                    n._view.popups.confirmAndSaveCurrentFilterSet().then(e, function(t) {
                                        t && S.logError(t),
                                        e()
                                    })
                                }, 0)
                            }, e) : e()
                        }
                        )
                    }),
                    i.then(function() {
                        n.marketChangeProcess = !0,
                        n.screener_type = e,
                        TVSettings.setValue("screener.selected_type_on_chart", e, {
                            forceFlush: !0
                        }),
                        n.settingKey = "forex" === n.screener_type ? "screener-forex" : "screener",
                        n.defaultFieldSets = (0,
                        d.getDefaultFieldSetsByScreenerType)(n.screener_type, n.market, n.isServerRender()),
                        (0,
                        h.applyScreenerTypeToFields)(n.screener_type),
                        (0,
                        c.applyMarketValuesToDefaultFilterSets)("forex" === n.screener_type ? "forex" : n.market),
                        h.fields.sector.value = n.selectedGroups
                    }).then(function() {
                        return n.loadingStart.fire()
                    }).then(function() {
                        return n.getMetaInfo()
                    }).then(function() {
                        return n.getUserSettings()
                    }).then(function() {
                        n._checkCurrentSets(),
                        n.applyFieldSet(n.currentFieldSetId(), !0),
                        n.applyFilterSet(n.currentFilterSetId(), !0)
                    }).then(function() {
                        var e, t = n.currentFilterSetId(), i = n.defaultFilterSets.find(function(e) {
                            return e.id === t
                        });
                        i && i.disabled && (e = n.defaultFilterSets.find(function(e) {
                            return !e.disabled
                        }),
                        t = e ? e.id : ""),
                        n.applyFilterSet(t, !0),
                        n.invalidateRequest(),
                        n.updateImpl(),
                        n.marketChangeProcess = !1
                    }))
                }
            }, {
                key: "backendUrl",
                value: function() {
                    return (0,
                    m.getBackendUrl)(this.market)
                }
            }, {
                key: "onLoginStateChange",
                value: function(e) {
                    var t = this;
                    e || this.getUserSettings().then(function() {
                        return t.applyFieldSet(t.currentFieldSetId(), !0)
                    }).then(function() {
                        return t.setMarket(t.market, !0, !0)
                    }).then(function() {
                        return t._view.updateMarketButton()
                    })
                }
            }, {
                key: "showNoticeIfNoFilters",
                value: function(e) {
                    var t, i = void 0;
                    return e ? (t = this.getFilterSetById(e),
                    i = t && t.content) : i = this.currentFilterState(),
                    (!i || !Object.keys(i.filters || {}).length) && (this._view.popups.showNotice($.t("Alerts are available only if a filter is selected. Please add at least 1 filter and try again."), $.t("Oops!")),
                    !0)
                }
            }, {
                key: "switchCryptoCurrency",
                value: function(e) {
                    delete this._bridge.screener_name_match,
                    this.cryptoSwitchFilter = {
                        left: "name",
                        operation: "match",
                        right: e + "$"
                    },
                    this.update()
                }
            }, {
                key: "selectedIntervalId",
                get: function() {
                    if (!this._bridge.hide_controls)
                        return TVSettings.getValue(this.settingKey + ".interval-id", v.DEFAULT_INTERVAL_ID)
                }
            }, {
                key: "selectedGroups",
                get: function() {
                    return JSON.parse(TVSettings.getValue(k + ".screener-forex.groups", '["Major","Minor"]')).map(function(e) {
                        return Object.keys(h.translatedMetaFieldNames).includes(e) ? h.translatedMetaFieldNames[e] : e
                    })
                }
            }, {
                key: "market",
                get: function() {
                    var e = (0,
                    u.getDefaultMarketForLocale)(k, this.screener_type)
                      , t = TVSettings.getValue(k + "." + this.settingKey + ".market", e)
                      , i = (0,
                    u.getMarketFieldValuesByScreenerType)(this.screener_type);
                    return window.initData.screener_market ? window.initData.screener_market : i[t] ? t : e
                }
            }, {
                key: "refreshInterval",
                get: function() {
                    return "forex" === this.screener_type ? this._bridge.hide_controls ? 1 : TVSettings.getInt(this.settingKey + ".refreshInterval", 1) || 1 : user.is_pro && TVSettings.getInt(this.settingKey + ".refreshInterval", -1) || -1
                },
                set: function(e) {
                    TVSettings.setValue(this.settingKey + ".refreshInterval", e, {
                        forceFlush: !0
                    }),
                    this._view.resetRefreshCounter(),
                    -1 !== e && this.trackEvent("Set refresh interval")
                }
            }, {
                key: "alerts",
                get: function() {
                    return this._alerts
                }
            }, {
                key: "view",
                get: function() {
                    return this._view
                }
            }, {
                key: "searchField",
                get: function() {
                    return "crypto_mkt" === this.screener_type ? "sector" : "name"
                }
            }]),
            e
        }(),
        t.default = T,
        e.exports = t.default
    },
    1981: function(e, t, i) {
        (function(t, n, o) {
            "use strict";
            function s(e, i) {
                function n() {
                    var e = w && w.model().strategySources;
                    g = e && e.slice() || [],
                    m.resolve(),
                    g.length && _.resolve(),
                    y.fire()
                }
                function o() {
                    clearTimeout(C),
                    C = setTimeout(n, 100)
                }
                function s(e) {
                    e !== w && (w && w.model().strategySources.change.unsubscribe(null, o),
                    g = [],
                    w = e,
                    w.model().strategySources.change.subscribe(null, o)),
                    o()
                }
                function r(e) {
                    var t = e.model();
                    t ? s(t) : e.modelCreated().subscribe(null, s)
                }
                function l(t, i) {
                    var n, o, s = i && i.model() || w && w.model();
                    if (s)
                        if (s.setActiveStrategySource(t),
                        i) {
                            for (n = 0; n < b.length; n++)
                                if (b[n].model() === i) {
                                    o = b[n];
                                    break
                                }
                            o && o.paint()
                        } else
                            e && e.activeChartWidget.value().paint()
                }
                function c(e) {
                    var t = e && e.model() || w && w.model();
                    t && t.unsetActiveStrategySource()
                }
                function d(e) {
                    var t;
                    return "function" == typeof e.metaInfo ? t = e.metaInfo() : e instanceof A && "function" == typeof e.state && (t = e.state() && e.state().metaInfo),
                    !(!t || !t.isTVScriptStrategy)
                }
                function h(e) {
                    function t(e) {
                        return Object.keys(e).map(function(t) {
                            return e[t]
                        })
                    }
                    var i, n, o, s = $.Deferred(), r = {}, a = {};
                    for (i = 0,
                    n = e.dataSources(); i < n.length; i++)
                        o = n[i],
                        d(o) && (o instanceof x ? r[o.id()] = o : o instanceof A && (a[o.id()] = o));
                    return Object.keys(a).length ? e.strategySources.change.subscribe(null, function i() {
                        for (var n, o, l = 0; l < e.strategySources.length; l++)
                            n = e.strategySources[l],
                            o = n.id(),
                            a[o] && (r[o] = n,
                            delete a[o]);
                        Object.keys(a).length || (e.strategySources.change.unsubscribe(null, i),
                        s.resolve(t(r)))
                    }) : s.resolve(t(r)),
                    s
                }
                function u(e) {
                    var t = e.model();
                    h(t).done(function(i) {
                        var n, o, s;
                        if (i.length && !t.activeStrategySource().value()) {
                            if (n = TVSettings.getValue(a.prototype.LAST_STRATEGY_TVSETTINGS_KEY))
                                for (s = 0; s < i.length; s++)
                                    if (i[s].metaInfo().scriptIdPart === n) {
                                        o = i[s];
                                        break
                                    }
                            o || (o = i[i.length - 1]),
                            l(o, e)
                        }
                    })
                }
                function p() {
                    e.getAll().forEach(function(e) {
                        if (-1 === b.indexOf(e)) {
                            b.push(e);
                            var t = e.model();
                            t ? u(t) : e.modelCreated().subscribe(null, u)
                        }
                    })
                }
                function f(t, i) {
                    (t && t !== e || !0 === i) && (e && (e.layout.unsubscribe(p),
                    e.activeChartWidget.unsubscribe(r)),
                    e = t,
                    e.layout.subscribe(p, {
                        callWithLast: !0
                    }),
                    e.activeChartWidget.subscribe(r, {
                        callWithLast: !0
                    }))
                }
                var g, m, _, y, b, w, C;
                return v && !0 !== i ? (e && v.updateChartWidgetCollection(e),
                v) : this instanceof TradingView.BacktestingStrategyDispatcher ? (g = [],
                m = $.Deferred(),
                _ = $.Deferred(),
                y = new t,
                b = [],
                f(e, !0),
                this.updateChartWidgetCollection = f,
                this.model = function() {
                    return w
                }
                ,
                this.strategies = function() {
                    return g
                }
                ,
                this.ready = function() {
                    return m.promise()
                }
                ,
                this.filled = function() {
                    return _.promise()
                }
                ,
                this.change = function() {
                    return y
                }
                ,
                this.setActiveStrategy = l,
                this.unsetActiveStrategy = c,
                this.chartWidgetCollection = function() {
                    return e
                }
                ,
                void (!0 !== i && (v = this))) : new TradingView.BacktestingStrategyDispatcher(e)
            }
            function r(e) {
                return e + "Percent"
            }
            function a(e, i) {
                if (!(this instanceof a))
                    throw Error("BacktestingWidget is a constructor");
                if (this.$container = e.$body,
                this._isStatic = e.isStatic,
                this._reportWidgetsSets = [],
                this._reportWidgetsSet = null,
                i && i instanceof x && (this._strategyToSelect = i),
                this._strategyChange = new t,
                this._bridge = e,
                this._dispatcher = e.dispatcher || new TradingView.BacktestingStrategyDispatcher(e.chartWidgetCollection),
                !this._isStatic) {
                    var n = this._dispatcher.chartWidgetCollection();
                    n && n.readOnly() && (this._isStatic = !0)
                }
                _(),
                this._prepareLayout(),
                this._lastDiff = {
                    removed: [],
                    added: []
                },
                this._dispatcher.ready().done(function() {
                    this._dispatcher.change().subscribe(this, this._onChange),
                    this._onChange(),
                    this._isStatic || this._bridge.visible.subscribe(this._onVisibilityChange.bind(this))
                }
                .bind(this))
            }
            function l(e) {
                this.data = new n(e.reportData()),
                this.loading = new t,
                this.loadingComplete = new t,
                this.onError = new t,
                e.watchedData.subscribe(this._onData.bind(this), {
                    callWithLast: !0
                })
            }
            function c(e) {
                if (!(this instanceof c))
                    throw Error("ReportWidget is a constructor");
                this._bridge = e,
                this._strategy = e.strategy,
                this._model = e.model,
                this.$container = e.$contentWrapper,
                this.$selectWrapper = e.$selectWrapper,
                this._activeReportType = e.getProperty("activeReport", "drawdown"),
                this._dataHandler = new l(this._strategy),
                this.watchedData = new n;
                var t = this;
                this._reportDataHandler = function(e) {
                    e ? (t._removeLoading(),
                    t._removeError(),
                    t._data = e,
                    t.watchedData.setValue({
                        report: e,
                        indexes: t._strategy.barsIndexes()
                    }),
                    t.displayReport()) : t._setLoading()
                }
                ,
                this._dataHandler.loading.subscribe(this, this._setLoading),
                this._dataHandler.loadingComplete.subscribe(this, this._removeLoading),
                this._dataHandler.onError.subscribe(this, this._setError)
            }
            function d(e, t) {
                this._bridge = t,
                this._$container = t.$container,
                this.update(e)
            }
            function h(e, t) {
                var i = Math.pow(10, t || 0).toFixed(t < 0 ? -t : 0);
                return Math.round(e * i) / i
            }
            function u(e, t) {
                this._containers = {},
                this._miniCharts = {},
                Object.keys(e).forEach(function(i) {
                    var n = i.toLowerCase()
                      , o = $('<div class="' + n + '">').appendTo(t);
                    this._containers[n] = o,
                    this._miniCharts[i] = new T(e[i][0],o.get(0),e[i][1])
                }, this),
                this.draw()
            }
            function p(e, t) {
                this._type = "drawdown",
                this._dataType = t.getProperty("dataType", "absolute"),
                this._resize = this._resize.bind(this),
                this._bridge = t,
                this._setDefaultProperties(),
                this.superclass.call(this, e, t)
            }
            function f() {
                this._type = "performance",
                this.superclass.apply(this, arguments)
            }
            function g(e, t) {
                this._type = "trades",
                this._updateView = this._updateView.bind(this),
                this._timezoneProperty = t.model.model().properties().timezone,
                this._tzName = "Etc/UTC",
                this._timezone = null,
                this.superclass.call(this, e, t)
            }
            function m(e) {
                return {
                    se: $.t("Entry Short"),
                    sx: $.t("Exit Short"),
                    le: $.t("Entry Long"),
                    lx: $.t("Exit Long")
                }[e] || e
            }
            function _() {
                if (!w) {
                    var e = function(e) {
                        return 0 !== e
                    };
                    w = {
                        drawdown: {
                            _gaEvent: "Overview",
                            settings: {
                                title: $.t("Overview"),
                                miniChartMinHeight: 78,
                                overviewPerformanceFields: ["netProfit", "totalTrades", "percentProfitable", "profitFactor", "maxStrategyDrawDown", "avgTrade", "avgBarsInTrade"]
                            },
                            ctor: p
                        },
                        performance: {
                            _gaEvent: "Performance Summary",
                            settings: {
                                title: $.t("Performance Summary"),
                                fields: {
                                    netProfit: {
                                        title: $.t("Net Profit"),
                                        unit: "currency"
                                    },
                                    grossProfit: {
                                        title: $.t("Gross Profit"),
                                        unit: "currency"
                                    },
                                    grossLoss: {
                                        title: $.t("Gross Loss"),
                                        unit: "currency",
                                        isNegative: e
                                    },
                                    maxStrategyDrawDown: {
                                        title: $.t("Max Drawdown"),
                                        unit: "currency",
                                        isNegative: e
                                    },
                                    buyHoldReturn: {
                                        title: $.t("Buy & Hold Return"),
                                        unit: "currency"
                                    },
                                    sharpeRatio: {
                                        title: $.t("Sharpe Ratio")
                                    },
                                    profitFactor: {
                                        title: $.t("Profit Factor"),
                                        isNegative: function(e) {
                                            return e < 1
                                        }
                                    },
                                    maxContractsHeld: {
                                        title: $.t("Max Contracts Held"),
                                        unit: "pc"
                                    },
                                    openPL: {
                                        title: $.t("Open PL"),
                                        unit: "currency"
                                    },
                                    commissionPaid: {
                                        title: $.t("Commission Paid"),
                                        unit: "currency"
                                    },
                                    totalTrades: {
                                        title: $.t("Total Trades"),
                                        unit: "pc"
                                    },
                                    totalOpenTrades: {
                                        title: $.t("Total Open Trades"),
                                        unit: "pc"
                                    },
                                    numberOfWiningTrades: {
                                        title: $.t("Number Winning Trades"),
                                        unit: "pc"
                                    },
                                    numberOfLosingTrades: {
                                        title: $.t("Number Losing Trades"),
                                        unit: "pc"
                                    },
                                    percentProfitable: {
                                        title: $.t("Percent Profitable"),
                                        unit: "percent"
                                    },
                                    avgTrade: {
                                        title: $.t("Avg Trade"),
                                        unit: "currency"
                                    },
                                    avgWinTrade: {
                                        title: $.t("Avg Win Trade"),
                                        unit: "currency"
                                    },
                                    avgLosTrade: {
                                        title: $.t("Avg Los Trade"),
                                        unit: "currency",
                                        isNegative: e
                                    },
                                    ratioAvgWinAvgLoss: {
                                        title: $.t("Ratio Avg Win / Avg Loss")
                                    },
                                    largestWinTrade: {
                                        title: $.t("Largest Win Trade"),
                                        unit: "currency"
                                    },
                                    largestLosTrade: {
                                        title: $.t("Largest Losing Trade"),
                                        unit: "currency",
                                        isNegative: e
                                    },
                                    avgBarsInTrade: {
                                        title: $.t("Avg # Bars in Trades"),
                                        unit: "pc"
                                    },
                                    avgBarsInWinTrade: {
                                        title: $.t("Avg # Bars in Winning Trades"),
                                        unit: "pc"
                                    },
                                    avgBarsInLossTrade: {
                                        title: $.t("Avg # Bars in Losing Trades"),
                                        unit: "pc"
                                    }
                                }
                            },
                            ctor: f
                        },
                        trades: {
                            _gaEvent: "List of Trades",
                            settings: {
                                title: $.t("List of Trades")
                            },
                            ctor: g
                        }
                    }
                }
            }
            var v, y, b, w, C = window, A = i(670), x = i(909), S = i(155).Action, k = i(563), F = i(58), E = i(118), T = i(744), D = i(585), B = D.bindPopupMenu, M = D.unbindPopupMenu, L = i(44).unifiedSpinner, R = i(9).trackEvent, I = i(729).showEditObjectDialog;
            i(1994),
            TradingView.BacktestingStrategyDispatcher = s,
            a.prototype._trackEvent = function(e) {
                R("Strategy Tester", "BP Strategy Tester " + e)
            }
            ,
            a.prototype.LAST_STRATEGY_TVSETTINGS_KEY = "backtesting.lastStrategySelectedScriptIdPart",
            a.prototype._model = function() {
                return this._dispatcher.model()
            }
            ,
            a.prototype._updateReportWidgetsSets = function() {
                for (var e = 0, t = this._dispatcher.model(); e < this._reportWidgetsSets.length; e++)
                    if (t === this._reportWidgetsSets[e].model)
                        return void (this._reportWidgetsSet !== this._reportWidgetsSets[e] && (this.hideActiveReportWidget(),
                        this._modelChanged = !0,
                        this._reportWidgetsSet = this._reportWidgetsSets[e]));
                this.hideActiveReportWidget(),
                this._modelChanged = !0,
                this._reportWidgetsSet = {
                    model: t,
                    reportWidgets: []
                },
                this._reportWidgetsSets.push(this._reportWidgetsSet)
            }
            ,
            a.prototype._updateReportWidgets = function() {
                var e = this._reportWidgetsSet.reportWidgets.map(function(e) {
                    return e.strategy()
                })
                  , t = this._dispatcher.strategies()
                  , i = e.filter(function(e) {
                    return -1 === t.indexOf(e)
                })
                  , n = t.filter(function(t) {
                    return -1 === e.indexOf(t)
                });
                i.forEach(this.removeStrategyReportWidget, this),
                n.forEach(this.addStrategyReportWidget, this),
                this._lastDiff = {
                    removed: i,
                    added: n
                }
            }
            ,
            a.prototype.update = function() {
                var e, t, i;
                if (this._updateReportWidgetsSets(),
                this._updateReportWidgets(),
                this._strategyToSelect)
                    return this.selectStrategy(this._strategyToSelect, !0),
                    void delete this._strategyToSelect;
                if (this._modelChanged)
                    if (delete this._modelChanged,
                    this._removeEmptyStub(),
                    this.getActiveReportWidget())
                        this.showActiveReportWidget();
                    else {
                        for (t = TVSettings.getValue(this.LAST_STRATEGY_TVSETTINGS_KEY),
                        i = 0; i < this._lastDiff.added.length; i++)
                            if (this._lastDiff.added[i].metaInfo().scriptIdPart === t)
                                return void this.selectStrategy(this._lastDiff.added[i], !0);
                        if ((e = this.strategies()) && e.length)
                            return void this.selectStrategy(e[e.length - 1], !0)
                    }
                else {
                    if (this._lastDiff.added.length)
                        return void this.selectStrategy(this._lastDiff.added[this._lastDiff.added.length - 1], !0);
                    if (e = this.strategies(),
                    e.length && !this.getActiveReportWidget())
                        return void this.selectStrategy(e[e.length - 1], !0)
                }
                this._updateLayout()
            }
            ,
            a.prototype._onChange = function() {
                clearTimeout(this._changeToId),
                this._changeToId = setTimeout(this.update.bind(this), 10)
            }
            ,
            a.prototype._onVisibilityChange = function(e) {
                if (e) {
                    var t = this.getActiveReportWidget();
                    t && t.displayReport()
                }
            }
            ,
            a.prototype.getReportWidgetByStrategy = function(e) {
                if (this._reportWidgetsSet && Array.isArray(this._reportWidgetsSet.reportWidgets))
                    for (var t = 0; t < this._reportWidgetsSet.reportWidgets.length; t++)
                        if (this._reportWidgetsSet.reportWidgets[t].strategy() === e)
                            return this._reportWidgetsSet.reportWidgets[t]
            }
            ,
            a.prototype.addStrategyReportWidget = function(e) {
                var t = this.getReportWidgetByStrategy(e);
                return t || (t = new c($.extend({}, this._bridge, {
                    strategy: e,
                    model: this._model(),
                    $contentWrapper: this.$contentWrapper,
                    $selectWrapper: this.$selectWrapper,
                    getProperty: this._getProperty.bind(this),
                    setProperty: this._setProperty.bind(this),
                    _trackEvent: this._trackEvent.bind(this)
                })),
                this._reportWidgetsSet.reportWidgets.push(t)),
                t
            }
            ,
            a.prototype.removeStrategyReportWidget = function(e) {
                var t, i = this.getReportWidgetByStrategy(e);
                return i && -1 !== (t = this._reportWidgetsSet.reportWidgets.indexOf(i)) && (this._reportWidgetsSet.reportWidget === i && (this.hideActiveReportWidget(),
                delete this._reportWidgetsSet.reportWidget),
                this._reportWidgetsSet.reportWidgets.splice(t, 1)),
                i
            }
            ,
            a.prototype.selectStrategy = function(e, t) {
                this._removeEmptyStub(),
                e.metaInfo().TVScriptSourceCode ? $(".backtesting-open-pine-editor").show() : $(".backtesting-open-pine-editor").hide();
                var i = this.addStrategyReportWidget(e);
                if (this._reportWidgetsSet.reportWidget && this._reportWidgetsSet.reportWidget.isShown()) {
                    if (this._reportWidgetsSet.reportWidget === i)
                        return;
                    this.hideActiveReportWidget()
                }
                this._strategyChange.fire(),
                this._reportWidgetsSet.reportWidget = i,
                this.showActiveReportWidget(),
                TVSettings.setValue(this.LAST_STRATEGY_TVSETTINGS_KEY, e.metaInfo().scriptIdPart),
                !0 === t && this._updateLayout()
            }
            ,
            a.prototype.getActiveReportWidget = function() {
                return this._reportWidgetsSet && this._reportWidgetsSet.reportWidget
            }
            ,
            a.prototype.showActiveReportWidget = function() {
                var e = this.getActiveReportWidget();
                e && (e.show(),
                this._dispatcher.setActiveStrategy(e.strategy()))
            }
            ,
            a.prototype.hideActiveReportWidget = function() {
                var e = this.getActiveReportWidget();
                e && e.hide(),
                this._dispatcher.unsetActiveStrategy()
            }
            ,
            a.prototype.isCurrentStrategy = function(e) {
                var t = this.getReportWidgetByStrategy(e);
                return t && this._reportWidgetsSet.reportWidget && t === this._reportWidgetsSet.reportWidget
            }
            ,
            a.prototype.strategies = function() {
                return this._dispatcher.strategies() || []
            }
            ,
            a.prototype.lastAdded = function() {
                return this._lastDiff && this._lastDiff.added || []
            }
            ,
            a.prototype.lastRemoved = function() {
                return this._lastDiff && this._lastDiff.removed || []
            }
            ,
            a.prototype.strategyChange = function() {
                return this._strategyChange
            }
            ,
            a.prototype._openFormatDialog = function(e) {
                if (this._reportWidgetsSet.reportWidget) {
                    var t = this._reportWidgetsSet.reportWidget.strategy();
                    t.userEditEnabled() && I(t, this._model()).then(function(t) {
                        e instanceof $ && (e.addClass("active"),
                        t._dialog.on("destroy", function() {
                            e.removeClass("active")
                        }))
                    })
                }
            }
            ,
            a.prototype._openScriptEditor = function() {
                var e, t;
                this._reportWidgetsSet && this._reportWidgetsSet.reportWidget && (t = this._reportWidgetsSet.reportWidget.strategy().metaInfo(),
                e = {
                    scriptSource: t.TVScriptSourceCode,
                    scriptIdPart: t.scriptIdPart
                }),
                TradingView.bottomWidgetBar && TradingView.bottomWidgetBar.activateScriptEditorTab(e)
            }
            ,
            a.prototype._prepareLayout = function() {
                var e, t = this;
                this.$headWrapper = $('<div class="backtesting-head-wrapper">').appendTo(this.$container),
                e = this._getHeadGroup(),
                this.$strategySelectButtonCaption = $('<span class="caption">'),
                this.$strategySelectButton = $('<div class="strategy-select">').append(this.$strategySelectButtonCaption).appendTo(e).on("click touchend", this._onStrategySelectButtonClick.bind(this)),
                this._isStatic || (this.$formatDialogButton = $('<div class="icon-button backtesting-open-format-dialog apply-common-tooltip" title="' + $.t("Format") + '">').append($(i(1987))).appendTo(this._getHeadGroup()),
                this.$pineEditorButton = $('<div class="icon-button backtesting-open-pine-editor apply-common-tooltip" title="' + $.t("Source Code") + '">').append($(i(2211))).appendTo(this._getHeadGroup())),
                this.$selectWrapper = $('<div class="backtesting-select-wrapper">').appendTo(this.$headWrapper),
                this.$contentWrapper = $('<div class="backtesting-content-wrapper">').appendTo(this.$container),
                this._isStatic || this.$container.on("click touchend", ".backtesting-open-format-dialog", function() {
                    t._openFormatDialog($(this))
                }).on("click touchend", ".backtesting-open-pine-editor", function() {
                    t._trackEvent("Pine Editor"),
                    t._openScriptEditor($(this))
                }).on("click touchend", ".backtesting-open-indicators", function() {
                    t._trackEvent("Indicators and Strategies"),
                    C.studyMarket && !C.studyMarket.isVisible() && C.studyMarket.show()
                }).on("contextmenu", function(e) {
                    var i, n, o;
                    e.isDefaultPrevented() || (e.preventDefault(),
                    t._reportWidgetsSet.reportWidget && (i = [],
                    n = new S({
                        text: $.t("Strategy Properties...")
                    }),
                    n.callbacks().subscribe(t, t._openFormatDialog),
                    i.push(n),
                    o = new S({
                        text: $.t("Strategy Source...")
                    }),
                    o.callbacks().subscribe(t, t._openScriptEditor),
                    i.push(o),
                    k.createMenu(i).show(e)))
                }),
                this._updateLayout()
            }
            ,
            a.prototype._updateLayout = function() {
                var e = this.strategies()
                  , t = e.length
                  , i = this._reportWidgetsSet && this._reportWidgetsSet.reportWidget && $.t(this._reportWidgetsSet.reportWidget.strategyName(), {
                    context: "study"
                }) || $.t("Strategy")
                  , n = this._bridge.isStatic ? $.t("{0} Report").format(i) : i;
                M(this.$strategySelectButton.removeClass("has-strategies dropdown")),
                t ? (this._removeEmptyStub(),
                this.$strategySelectButton.addClass("has-strategies"),
                e.length > 1 && (this.$strategySelectButton.addClass("dropdown"),
                B(this.$strategySelectButton, null, {
                    direction: "down",
                    event: "popup-menu",
                    addClass: "backtesting-strategies"
                }))) : this._setEmptyStub(),
                this.$strategySelectButtonCaption.text(t ? TradingView.clean(n, !0) : $.t("No strategies on chart"))
            }
            ,
            a.prototype._setEmptyStub = function() {
                this._$emptyStub || (this._$emptyStub = $('<div class="backtesting-empty-stub">').html($.t('To test a strategy, apply it to the chart.<br>Use the symbol and time interval that you want to test.<br>You can use a built-in strategy from the "<a {0}>Indicators&nbsp;&amp;&nbsp;Strategies</a>" dialog box, or write your own in <a {1}>Pine Editor</a>.').format('class="backtesting-open-indicators"', 'class="backtesting-open-pine-editor"')).appendTo(this.$contentWrapper),
                this._isStatic && this._$emptyStub.find("a").each(function() {
                    $(this).replaceWith(function() {
                        return $("<span>").html($(this).html() || "&nbsp;")
                    })
                })),
                this.$container.addClass("empty")
            }
            ,
            a.prototype._removeEmptyStub = function() {
                this._$emptyStub && (this._$emptyStub.remove(),
                delete this._$emptyStub),
                this.$container.removeClass("empty")
            }
            ,
            a.prototype._onStrategySelectButtonClick = function() {
                var e, t, i, n = this.strategies(), o = [];
                for (e = 0; e < n.length; e++)
                    t = n[e].metaInfo().shortDescription,
                    this._isStatic && (t = $.t("{0} Report").format(t)),
                    i = {
                        title: t
                    },
                    this.isCurrentStrategy(n[e]) ? i.active = i.selected = !0 : i.action = function(e) {
                        this.selectStrategy(e),
                        this._updateLayout()
                    }
                    .bind(this, n[e]),
                    o.push(i);
                o.length && this.$strategySelectButton.trigger("popup-menu", [o])
            }
            ,
            a.prototype._getHeadGroup = function(e) {
                var t = $('<div class="group">');
                return e ? t.insertAfter(e) : t.appendTo(this.$headWrapper),
                t
            }
            ,
            a.prototype._getProperty = function(e, t) {
                var i = this._bridge.properties && this._bridge.properties.value() || {};
                return void 0 !== i[e] && i[e] || t
            }
            ,
            a.prototype._setProperty = function(e, t) {
                var i = $.extend({}, this._bridge.properties && this._bridge.properties.value() || {});
                return i[e] = void 0 !== t && t || null,
                this._bridge.properties && this._bridge.properties.setValue(i),
                i[e]
            }
            ,
            TradingView.BacktestingWidget = a,
            l.prototype._updateData = function(e) {
                var t = e && e.params && e.params.nonseries && e.params.nonseries.d
                  , i = t && t.data && t.data.report
                  , n = this.data.value();
                t.isUpdate && n && (i = $.extend({}, n, i)),
                !i || n && i === n || this.data.setValue(i)
            }
            ,
            l.prototype._onData = function(e) {
                switch (e && e.method) {
                case "data_update":
                    this._updateData(e);
                    break;
                case "study_loading":
                    this.loading.fire();
                    break;
                case "study_completed":
                    this.loadingComplete.fire();
                    break;
                case "study_error":
                    this.onError.fire()
                }
            }
            ,
            c.prototype.getReportSettings = function(e, t) {
                var i = w[e] && w[e].settings;
                return i && "string" == typeof t ? i[t] : i
            }
            ,
            c.prototype.show = function() {
                if (!this._isShown) {
                    this._flashDeferred = $.Deferred().done(function() {
                        this.$content.removeClass("opacity-transition").addClass("fade"),
                        setTimeout(function() {
                            this.addClass("opacity-transition").removeClass("fade")
                        }
                        .bind(this.$content), 100)
                    }
                    .bind(this)),
                    this._layoutPrepared ? this._restoreLayout() : this._prepareLayout();
                    var e = this._bridge.getProperty("activeReport", this._activeReportType);
                    this._activeReportType !== e && (this._activeReportType = e,
                    this._updateReportTabs()),
                    this._dataHandler.data.subscribe(this._reportDataHandler, {
                        callWithLast: !0
                    }),
                    this._isShown = !0
                }
            }
            ,
            c.prototype._setLoading = function() {
                this._flashDeferred && this._flashDeferred.reject(),
                this._data ? this.$content.addClass("opacity-transition fade") : this._spinner || (this._$spinnerContainer = $(document.createElement("div")).addClass("spinner-container").appendTo(this.$content),
                this._spinner = L("", {
                    zIndex: 1
                }).spin(this._$spinnerContainer.get(0)))
            }
            ,
            c.prototype._removeLoading = function() {
                this._spinner && (this._spinner.stop(),
                delete this._spinner),
                this._$spinnerContainer && (this._$spinnerContainer.remove(),
                delete this._$spinnerContainer),
                this.$content && this.$content.removeClass("opacity-transition fade")
            }
            ,
            c.prototype._setError = function() {
                this._removeLoading(),
                this.$content.addClass("report-error")
            }
            ,
            c.prototype._removeError = function() {
                this.$content.removeClass("report-error")
            }
            ,
            c.prototype._prepareLayout = function() {
                this.$content = $('<div class="reports-content">').appendTo(this.$container),
                this._setReportTabs(),
                this._layoutPrepared = !0
            }
            ,
            c.prototype._restoreLayout = function() {
                this.$content.appendTo(this.$container),
                this._$reportTabsContainer.appendTo(this.$selectWrapper)
            }
            ,
            c.prototype._removeLayout = function() {
                this._$reportTabsContainer.detach(),
                this.$content.detach()
            }
            ,
            c.prototype._updateReportTabs = function() {
                Object.keys(this._reportTabs).forEach(function(e) {
                    this._reportTabs[e].toggleClass("active", e === this._activeReportType)
                }, this)
            }
            ,
            c.prototype._setReportTabs = function() {
                this._$reportTabsContainer = $('<ul class="report-tabs">').appendTo(this.$selectWrapper);
                var e = this;
                this._reportTabs = {},
                Object.keys(w).forEach(function(t) {
                    var i = $("<li>").appendTo(e._$reportTabsContainer);
                    i.text(e.getReportSettings(t, "title")),
                    t === e._activeReportType && i.addClass("active"),
                    i.on("click", function() {
                        t !== e._activeReportType && (e._onReportSelectChange(t),
                        e._updateReportTabs())
                    }),
                    e._reportTabs[t] = i
                })
            }
            ,
            c.prototype._onReportSelectChange = function(e) {
                w[e] && this._bridge._trackEvent(w[e]._gaEvent),
                this.removeReport(),
                this.displayReport(e)
            }
            ,
            c.prototype.strategy = function() {
                return this._strategy
            }
            ,
            c.prototype.strategyName = function() {
                var e = this._strategy.metaInfo();
                return e && e.description
            }
            ,
            c.prototype.hide = function() {
                this._isShown && (this._dataHandler.data.unsubscribe(this._reportDataHandler),
                this.removeReport(),
                this._removeLayout(),
                this._isShown = !1)
            }
            ,
            c.prototype.isShown = function() {
                return this._isShown
            }
            ,
            c.prototype.removeReport = function() {
                this._report && (this._report.remove(),
                delete this._report)
            }
            ,
            c.prototype.displayReport = function(e) {
                var t, i;
                this.removeNoDataStub(),
                e && e !== this._activeReportType || !this._report ? (this._report && this.removeReport(),
                e || (e = this._activeReportType),
                t = {
                    height: this._bridge.height,
                    strategy: this._strategy,
                    $container: this.$content,
                    settings: this.getReportSettings(e),
                    model: this._model,
                    getProperty: this._bridge.getProperty,
                    setProperty: this._bridge.setProperty,
                    setNoDataStub: this.setNoDataStub.bind(this),
                    isStatic: this._bridge.isStatic
                },
                i = w[e].ctor,
                this._report = new i(this._data,t),
                this._activeReportType = e,
                this._bridge.setProperty("activeReport", e)) : this._report.update(this._data),
                this._flashDeferred && this._flashDeferred.resolve()
            }
            ,
            c.prototype.setNoDataStub = function() {
                this._$noDataStub || (this._$noDataStub = $('<div class="backtesting-empty-stub">').html("<em>" + $.t("No data") + "</em>")),
                this.$content.append(this._$noDataStub)
            }
            ,
            c.prototype.removeNoDataStub = function() {
                this._$noDataStub && (this._$noDataStub.remove(),
                delete this._$noDataStub)
            }
            ,
            d.prototype.createReport = function() {
                this._$content || (this._$content = $('<div class="report-content' + (this._type && " " + this._type || "") + '">').appendTo(this._$container),
                this._$data = $('<div class="report-data">').appendTo(this._$content))
            }
            ,
            d.prototype.getAccountCurrency = function() {
                return this._data.currency
            }
            ,
            d.prototype.formatValue = function(e, t, i) {
                var n, o, s, r, a, l;
                if (void 0 === i && (i = 0 > e),
                n = "&thinsp;",
                o = $.t("N/A"),
                s = "",
                null === e)
                    return o;
                switch (e = Math.abs(e),
                t) {
                case "series":
                    o = h(e, this._seriesDecimals).toFixed(this._seriesDecimals);
                    break;
                case "currency":
                    o = e < Math.pow(10, -this._currencyDecimals) ? function() {
                        for (var t, i = 2; i <= 8; i++)
                            if (0 !== (t = h(e, i)))
                                return t.toFixed(i);
                        return "0"
                    }() : h(e, this._currencyDecimals).toFixed(this._currencyDecimals),
                    r = this.getAccountCurrency(),
                    r ? (a = r.toLowerCase(),
                    b[a] ? (l = b[a].symbol,
                    b[a].before ? (s = l + n,
                    o = s + (s = o,
                    "")) : s = n + l) : s = "none" === a ? "" : n + r) : s = n + "?";
                    break;
                case "percent":
                    o = h(100 * e, this._percentDecimals),
                    s = "&nbsp;%";
                    break;
                case "pc":
                    o = Math.round(e);
                    break;
                default:
                    o = h(e, this._defaultDecimals)
                }
                return i ? '<span class="neg">' + o + s + "</span>" : o + s
            }
            ,
            d.prototype.isNegativeValue = function(e, t) {
                var i = e.isNegative;
                return "function" == typeof i ? i(t) : t < 0
            }
            ,
            d.prototype.remove = function() {
                this._$content && (this._$content.remove(),
                delete this._$content,
                delete this._$data)
            }
            ,
            d.prototype.update = function(e) {
                var t, i = this._bridge.model.mainSeries();
                this._seriesDecimals = i.formatter()._fractionalLength,
                this._currencyDecimals = 2,
                this._percentDecimals = 2,
                this._defaultDecimals = 3,
                t = F.parseIntervalValue(i.interval()),
                this._intraday = t && t.intraday,
                this._data = e,
                this.remove(),
                this.hasData() ? this.createReport() : this._bridge.setNoDataStub()
            }
            ,
            d.prototype.getType = function() {
                return this._type
            }
            ,
            d.prototype.hasData = function() {
                return !!this._data
            }
            ,
            u.prototype.destroy = function() {
                Object.keys(this._miniCharts).forEach(function(e) {
                    this._miniCharts[e].destroy()
                }, this)
            }
            ,
            u.prototype.draw = function() {
                Object.keys(this._miniCharts).forEach(function(e) {
                    this._miniCharts[e].draw()
                }, this)
            }
            ,
            u.prototype.toggleHideChart = function(e, t) {
                this._containers[e] && this._containers[e].toggleClass("hidden", t)
            }
            ,
            u.prototype.onResize = function() {
                Object.keys(this._miniCharts).forEach(function(e) {
                    this._miniCharts[e].onResize()
                }, this)
            }
            ,
            inherit(p, d),
            p.DEFAULT_DRAWDOWN_LINE_WIDTH = 1,
            p.DEFAULT_DRAWDOWN_LINE_COLOR = "#E2745B",
            p.DEFAULT_DRAWDOWN_FILL_COLOR = "rgba(226,116,91,.2)",
            p.DEFAULT_EQUITY_LINE_WIDTH = 1,
            p.DEFAULT_EQUITY_LINE_COLOR = "rgba(4,150,255,.6)",
            p.DEFAULT_EQUITY_FILL_COLOR = "rgba(4,150,255,.25)",
            p.DEFAULT_BUYHOLD_LINE_WIDTH = 1,
            p.DEFAULT_BUYHOLD_LINE_COLOR = "#758696",
            p.prototype.createReport = function() {
                this.superclass.prototype.createReport.call(this),
                this._$miniChartContainer = $('<div class="report-minichart-container">').appendTo(this._$content),
                this._setLegend(),
                this._setOverview(),
                $(window).on("resize", this._resize),
                this._bridge.isStatic ? this._resize() : this._bridge.height.subscribe(this._resize, {
                    callWithLast: !0
                })
            }
            ,
            p.prototype._setDefaultProperties = function() {
                var e = "miniChartHidden.buyhold";
                void 0 === this._getProperty(e) && this._setProperty(e, "1")
            }
            ,
            p.prototype._getProperty = function(e) {
                return this._bridge.isStatic ? this._propertiesStub && this._propertiesStub[e] : this._bridge.getProperty(e)
            }
            ,
            p.prototype._setProperty = function(e, t) {
                this._bridge.isStatic ? (this._propertiesStub || (this._propertiesStub = {}),
                this._propertiesStub[e] = t) : this._bridge.setProperty(e, t)
            }
            ,
            p.prototype.recreateMiniCharts = function() {
                this._miniChart && (this._$miniChartContainer.empty(),
                this._setMiniChart())
            }
            ,
            p.prototype._setLegend = function() {
                function e(e) {
                    var t, i, o;
                    n._miniChart && (t = $(e.target).closest(".switch"),
                    i = t.data("prop"),
                    o = "1" === n._getProperty("miniChartHidden." + i),
                    n._miniChart.toggleHideChart(i, !o),
                    n._setProperty("miniChartHidden." + i, o ? "0" : "1"),
                    t.toggleClass("inactive", !o),
                    n.recreateMiniCharts())
                }
                function t(t, i, o) {
                    var s = "1" === n._getProperty("miniChartHidden." + t);
                    $('<div class="switch ' + t + " apply-common-tooltip" + (s ? " inactive" : "") + '"><i style="background-color:' + i + '" class="sample ' + t + '">&thinsp;</i><span class="caption">' + o + "</span></div>").attr("title", $.t("Show/hide {0}").format(t)).data("prop", t).on("click", e).appendTo(n._$miniChartLegend)
                }
                function i(e) {
                    n._setProperty("dataType", e),
                    n._dataType = e,
                    r.find(".caption").text("percent" === e ? s : o),
                    n.recreateMiniCharts()
                }
                var n, o, s, r;
                this._$content && this._$content.find(".report-minichart-legend").size() || (this._$miniChartLegend = $('<div class="report-minichart-legend">').appendTo(this._$content),
                n = this,
                t("drawdown", p.DEFAULT_DRAWDOWN_LINE_COLOR, $.t("Drawdown")),
                t("equity", p.DEFAULT_EQUITY_LINE_COLOR, $.t("Equity")),
                this._data.buyHold && t("buyhold", "transparent", $.t("Buy & Hold Equity")),
                o = $.t("Absolute"),
                s = $.t("Percentage"),
                r = $('<div title="' + $.t("Set absolute/percentage values") + '" class="switch dropdown apply-common-tooltip"><span class="caption">' + ("percent" === this._dataType ? s : o) + "</span></div>"),
                r.on("click", function() {
                    $(this).trigger("popup-menu", [[{
                        title: o,
                        action: i.bind(null, "absolute"),
                        active: "percent" !== n._dataType
                    }, {
                        title: s,
                        action: i.bind(null, "percent"),
                        active: "percent" === n._dataType
                    }]])
                }).appendTo(this._$miniChartLegend),
                B(r, null, {
                    direction: "down",
                    event: "popup-menu",
                    addClass: "backtesting-data-type"
                }))
            }
            ,
            p.prototype._setOverview = function() {
                var e, t = this._bridge.settings.overviewPerformanceFields, i = w.performance.settings.fields, n = this._data.performance;
                t.forEach(function(e) {
                    var t, o, s, a = i[e];
                    a && void 0 !== (t = n.all[e] || n[e]) && (o = r(e),
                    s = n.all[o] || n[o],
                    $('<div class="data-item"><strong>' + this.formatValue(t, a.unit, this.isNegativeValue(a, t)) + "</strong><p>" + (s ? '<span class="additional_percent_value">' + this.formatValue(s, "percent", this.isNegativeValue(a, s)) + "</span>" : "&nbsp;") + "</p><em>" + a.title + "</em></div>").appendTo(this._$data))
                }, this),
                e = this._$data.find(".data-item"),
                e.css("width", Math.ceil(100 / e.length) + "%")
            }
            ,
            p.prototype._mapChartData = function(e, t) {
                var i, n = "percent" === this._drawdownType ? this._percentDecimals : this._currencyDecimals, o = {
                    x: [],
                    y: []
                };
                if (!Array.isArray(e))
                    return o;
                for (i = 0; i < e.length; i++)
                    o.x[i] = i + 1,
                    o.y[i] = h(e[i], n) * (t ? -1 : 1);
                return o
            }
            ,
            p.prototype._syncRanges = function(e) {
                var t, i, n, o, s = Math.min.apply(Math, e.drawDown[0][0].data.y), r = Math.max.apply(Math, e.drawDown[0][0].data.y), a = r - s, l = this._getProperty("miniChartHidden.buyhold"), c = l ? "0" === l : !!e.buyHold, d = Math.min.apply(Math, e.equity[0][0].data.y), h = Math.max.apply(Math, e.equity[0][0].data.y);
                c && (d = Math.min(d, Math.min.apply(Math, e.buyHold[0][0].data.y)),
                h = Math.max(h, Math.max.apply(Math, e.buyHold[0][0].data.y))),
                t = h - d,
                i = Math.max(a, t),
                a < i && (e.drawDown[1].yScale.forceMin = r - i),
                n = e.equity[1].yScale,
                n.forceMax = Math.max(d + i, h),
                n.forceMin = d,
                c && (o = e.buyHold[1].yScale,
                o.forceMax = n.forceMax,
                o.forceMin = n.forceMin)
            }
            ,
            p.prototype._setMiniChart = function() {
                var e, t, i = {};
                this._data.drawDown && (i.drawDown = [[{
                    data: this._mapChartData("percent" === this._dataType ? this._data.drawDownPercent : this._data.drawDown, !0),
                    options: {
                        line: {
                            color: p.DEFAULT_DRAWDOWN_LINE_COLOR,
                            width: p.DEFAULT_DRAWDOWN_LINE_WIDTH
                        },
                        belowLineFillStyle: null,
                        aboveLineFillStyle: p.DEFAULT_DRAWDOWN_FILL_COLOR
                    }
                }], {
                    grid: {
                        xIsVisible: !1,
                        yIsVisible: !1
                    },
                    noAutoResize: !0,
                    xScale: {
                        isTimeScale: !1,
                        drawOverPlotArea: !1,
                        drawTickMarkLine: !0,
                        ingnoreFloats: !0,
                        borderColor: "#555",
                        height: 18
                    },
                    yScale: {
                        marginInPercents: 0,
                        drawOverPlotArea: !1,
                        width: 50,
                        font: {
                            color: p.DEFAULT_DRAWDOWN_LINE_COLOR
                        }
                    }
                }]),
                this._data.equity && (i.equity = [[{
                    data: this._mapChartData("percent" === this._dataType ? this._data.equityPercent : this._data.equity),
                    options: {
                        line: {
                            color: p.DEFAULT_EQUITY_LINE_COLOR,
                            width: p.DEFAULT_EQUITY_LINE_WIDTH
                        },
                        belowLineFillStyle: p.DEFAULT_EQUITY_FILL_COLOR
                    }
                }], {
                    grid: {
                        xSkipFirst: !0,
                        yIsVisible: !1
                    },
                    noAutoResize: !0,
                    xScale: {
                        isTimeScale: !1,
                        drawOverPlotArea: !1,
                        drawTickMarkLine: !0,
                        ingnoreFloats: !0,
                        borderColor: "#555",
                        height: 18
                    },
                    yScale: {
                        position: "left",
                        marginInPercents: 0,
                        drawOverPlotArea: !1,
                        width: 50,
                        font: {
                            color: p.DEFAULT_EQUITY_LINE_COLOR
                        }
                    },
                    overlayLines: [{
                        y: "percent" === this._dataType ? 100 : 0,
                        color: p.DEFAULT_EQUITY_LINE_COLOR,
                        style: CanvasEx.LINESTYLE_DASHED
                    }]
                }]),
                this._data.buyHold && (i.buyHold = [[{
                    data: this._mapChartData("percent" === this._dataType ? this._data.buyHoldPercent : this._data.buyHold),
                    options: {
                        line: {
                            color: p.DEFAULT_BUYHOLD_LINE_COLOR,
                            width: p.DEFAULT_BUYHOLD_LINE_WIDTH
                        },
                        belowLineFillStyle: "transparent"
                    }
                }], {
                    grid: {
                        xSkipFirst: !0,
                        yIsVisible: !1
                    },
                    noAutoResize: !0,
                    xScale: {
                        isTimeScale: !1,
                        drawOverPlotArea: !1,
                        drawTickMarkLine: !0,
                        ingnoreFloats: !0,
                        borderColor: "#555",
                        height: 18
                    },
                    yScale: {
                        position: "left",
                        marginInPercents: 0,
                        drawOverPlotArea: !1,
                        width: 50,
                        font: {
                            color: p.DEFAULT_EQUITY_LINE_COLOR
                        }
                    },
                    overlayLines: [{
                        y: "percent" === this._dataType ? 100 : 0,
                        color: p.DEFAULT_BUYHOLD_LINE_COLOR,
                        style: CanvasEx.LINESTYLE_DASHED
                    }]
                }]),
                e = Object.keys(i),
                t = this,
                i.drawDown && i.equity && this._drawdownType === this._equityType && this._syncRanges(i),
                e.length && (this._createMiniChart(i),
                e.forEach(function(e) {
                    e = e.toLowerCase(),
                    "1" == t._getProperty("miniChartHidden." + e) && t._miniChart.toggleHideChart(e, !0)
                }))
            }
            ,
            p.prototype._createMiniChart = function(e) {
                this._destroyMiniChart(),
                this._miniChart = new u(e,this._$miniChartContainer)
            }
            ,
            p.prototype._destroyMiniChart = function() {
                this._miniChart && (this._miniChart.destroy(),
                delete this._miniChart)
            }
            ,
            p.prototype._resize = function() {
                var e = this._bridge.settings.miniChartMinHeight || 20
                  , t = this._$miniChartContainer.height()
                  , i = !0;
                this._data.drawDown.length < 2 || this._data.equity.length < 2 || t < e ? (this._miniChart && (this._$miniChartContainer.empty(),
                this._destroyMiniChart()),
                this._$miniChartLegend.addClass("hidden"),
                this._bridge.setNoDataStub()) : (this._miniChart || (this._setMiniChart(),
                i = !1),
                this._$miniChartLegend.removeClass("hidden")),
                this._miniChart && i && this._miniChart.onResize()
            }
            ,
            p.prototype.remove = function() {
                this._bridge.isStatic || this._bridge.height.unsubscribe(this._resize, {
                    callWithLast: !0
                }),
                $(window).off("resize", this._resize),
                this._destroyMiniChart(),
                this.superclass.prototype.remove.call(this)
            }
            ,
            p.prototype.hasData = function() {
                return !!(this._data && this._data.performance && this._data.drawDown && this._data.equity)
            }
            ,
            inherit(f, d),
            f.prototype.createReport = function() {
                this.superclass.prototype.createReport.call(this),
                this._$data && this._createPerformanceTable()
            }
            ,
            f.prototype._makeCellValue = function(e, t, i) {
                var n, o, s;
                return void 0 === t ? '<td><span class="neg">' + $.t("N/A") + "</span></td>" : (n = this._bridge.settings.fields[e],
                o = this.formatValue(t, n.unit, this.isNegativeValue(n, t)),
                void 0 === i ? "<td>" + o + "</td>" : (s = '<span class="additional_percent_value">' + this.formatValue(i, "percent", this.isNegativeValue(n, i)) + "</span>",
                "<td><div>" + o + "</div><div>" + s + "</div></td>"))
            }
            ,
            f.prototype._createPerformanceTable = function() {
                var e, t, i, n, o, s, a, l, c, d, h, u, p = this._data && this._data.performance, f = this._bridge.settings.fields, g = Object.keys(f);
                for (e = 0,
                t = "",
                i = ["all", "long", "short"]; e < g.length; e++) {
                    for (n = g[e],
                    h = r(n),
                    o = !1,
                    s = "<tr>",
                    s += "<td>" + (f[n].title || "") + "</td>",
                    a = 0; a < i.length; a++)
                        l = i[a],
                        c = p[l][n],
                        d = p[l][h],
                        void 0 !== c && (s += this._makeCellValue(n, c, d),
                        o = !0);
                    o || (c = p[n],
                    d = p[h],
                    s += this._makeCellValue(n, c, d),
                    s += '<td colspan="2">&nbsp;</td>'),
                    s += "</tr>",
                    t += s
                }
                u = document.createElement("table"),
                u.innerHTML = "<thead><tr><td></td><td>" + $.t("All") + "</td><td>" + $.t("Long") + "</td><td>" + $.t("Short") + "</td></tr></thead><tbody>" + t + "</tbody>",
                this._$data.append($(u)),
                this._scrollTop && this._$content.scrollTop(this._scrollTop)
            }
            ,
            f.prototype.remove = function() {
                this._$content && (this._scrollTop = this._$content.scrollTop()),
                this.superclass.prototype.remove.call(this)
            }
            ,
            f.prototype.hasData = function() {
                return !(!this._data || !this._data.performance)
            }
            ,
            inherit(g, d),
            g.prototype._getTZName = function() {
                var e, t = this._timezoneProperty.value();
                if (t)
                    return "exchange" === t && (e = this._bridge.model.mainSeries().symbolInfo().timezone) && (t = e),
                    t
            }
            ,
            g.prototype._updateTz = function() {
                var e, t = this._getTZName();
                if (!t || t === this._tzName)
                    return void (t || (this._timezone = null));
                if (this._tzName = t,
                !E)
                    throw new ReferenceError("PineJsCalendar is undefined");
                e = E.get_timezone(t),
                this._timezone = e.is_valid() && e || null,
                this._updateView(!0)
            }
            ,
            g.prototype._setTzListener = function() {
                this._timezoneProperty.subscribe(this, this._updateTz),
                this._updateTz()
            }
            ,
            g.prototype._unsetTzListener = function() {
                this._timezoneProperty.unsubscribe(this, this._updateTz)
            }
            ,
            g.prototype._getOrderDate = function(e) {
                var t = 0;
                return this._timezone && (t = this._timezone.offset_utc(e)),
                o(e + t).utc().format("YYYY-MM-DD" + (this._intraday ? "[&nbsp;]HH:mm" : ""))
            }
            ,
            g.prototype.createReport = function() {
                this.superclass.prototype.createReport.call(this),
                this._setTzListener(),
                this._$tableWrap = $('<div class="table-wrap">').appendTo(this._$data),
                this._$table = $(document.createElement("table")).appendTo(this._$tableWrap),
                this._$colGroup = $(document.createElement("colgroup")).html("<col><col><col><col><col><col><col>").appendTo(this._$table),
                this._$head = $(document.createElement("thead")).html("<tr><td>" + $.t("Trade&nbsp;#") + "</td><td>" + $.t("Type") + "</td><td>" + $.t("Signal") + '</td><td class="date">' + (this._intraday ? $.t("Date/Time") : $.t("Date")) + "</td><td>" + $.t("Price") + "</td><td>" + $.t("Contracts") + "</td><td>" + $.t("Profit") + "</td></tr>").appendTo(this._$table),
                this._headHeight = this._$head.outerHeight();
                var e = this._createRow(this._data.trades[0], 0);
                this._$table.get(0).appendChild(e),
                this._rowHeight = $(e).outerHeight(),
                this._rows = [e],
                this._bridge.isStatic || this._bridge.height.subscribe(this._updateView),
                this._$content.on("scroll", this._updateView),
                this._updateView(!0)
            }
            ,
            g.prototype._makeTradeProfitCell = function(e, t) {
                if (!e && "number" == typeof t.pf) {
                    var i = this.formatValue(t.pf, "currency");
                    return "number" == typeof t.pfp && (i += '<div class="additional_percent_value">' + this.formatValue(t.pfp, "percent") + "</div>"),
                    i
                }
                return "&nbsp;"
            }
            ,
            g.prototype._createRow = function(e, t) {
                var i, n, o, s, r, a = ['<td rowspan="2" class="trade-num">' + (t + 1) + "</td>", ""], l = ["e", "x"];
                for (n = 0; n < l.length; n++)
                    o = l[n],
                    s = !e[o].c,
                    !i && s && (i = !0),
                    a[n] += '<td class="trade-' + o + '-type">' + m(e[o].tp) + '</td><td class="trade-' + o + '-comment comment">' + (s && "<em>" + $.t("Open") + "</em>" || e[o].c) + '</td><td class="trade-' + o + '-date">' + (!s && e[o].tm && this._getOrderDate(e[o].tm) || "&nbsp;") + '</td><td class="trade-' + o + '-price">' + (!s && "number" == typeof e[o].p && this.formatValue(e[o].p, "series") || "&nbsp;") + "</td>";
                return a[0] += '<td rowspan="2" class="trade-contracts">' + (!i && e.q || "&nbsp;") + '</td><td rowspan="2" class="trade-profit">' + this._makeTradeProfitCell(i, e) + "</td>",
                r = document.createElement("tbody"),
                r.innerHTML = "<tr>" + a.join("</tr><tr>") + "</tr>",
                r
            }
            ,
            g.prototype._updateRow = function(e, t, i) {
                var n, o, s, r, a, l, c, d, h = e.querySelector(".trade-num");
                for (h && (h.innerHTML = i + 1 + ""),
                n = ["e", "x"],
                s = 0,
                r = {}; s < n.length; s++)
                    a = n[s],
                    l = !t[a].c,
                    !o && l && (o = !0),
                    r.type = e.querySelector(".trade-" + a + "-type"),
                    r.type && (r.type.innerHTML = m(t[a].tp)),
                    r.comment = e.querySelector(".trade-" + a + "-comment"),
                    r.comment && (r.comment.innerHTML = l && "<em>" + $.t("Open") + "</em>" || t[a].c),
                    r.date = e.querySelector(".trade-" + a + "-date"),
                    r.date && (r.date.innerHTML = !l && t[a].tm && this._getOrderDate(t[a].tm) || "&nbsp;"),
                    r.price = e.querySelector(".trade-" + a + "-price"),
                    r.price && (r.price.innerHTML = !l && "number" == typeof t[a].p && this.formatValue(t[a].p, "series") || "&nbsp;");
                c = e.querySelector(".trade-contracts"),
                c && (c.innerHTML = !o && t.q + "" || "&nbsp;"),
                (d = e.querySelector(".trade-profit")) && (d.innerHTML = this._makeTradeProfitCell(o, t))
            }
            ,
            g.prototype._updateView = function(e) {
                var t, i, n, o, s, r, a, l;
                if (this._$content && this._$tableWrap && (t = this._data.trades,
                i = this._$content.innerHeight(),
                n = this._scrollTop || this._$content.scrollTop(),
                n >= this._headHeight && !this._headHidden ? (this._$head.css("visibility", "hidden"),
                this._headHidden = !0) : n < this._headHeight && this._headHidden && (this._$head.css("visibility", "visible"),
                this._headHidden = !1),
                this._$data.css("height", this._headHeight + t.length * this._rowHeight),
                this._scrollTop && (this._$content.scrollTop(this._scrollTop),
                delete this._scrollTop),
                o = Math.floor(Math.max(n - this._headHeight, 0) / this._rowHeight),
                s = Math.ceil(i / this._rowHeight) + 1,
                !0 === e || !this._metricsCache || this._metricsCache.startRowIndex !== o || this._metricsCache.rowsCount !== s)) {
                    for (this._$tableWrap.css("top", o * this._rowHeight),
                    r = 0,
                    a = this._$table.get(0),
                    l = o; l < o + s && l < t.length; r++,
                    l++)
                        this._rows[r] ? this._updateRow(this._rows[r], t[l], l) : (this._rows[r] = this._createRow(t[l], l),
                        a.appendChild(this._rows[r]));
                    this._metricsCache || (this._metricsCache = {}),
                    this._metricsCache.startRowIndex = o,
                    this._metricsCache.rowsCount = s
                }
            }
            ,
            g.prototype.remove = function() {
                this._unsetTzListener(),
                this._bridge.isStatic || this._bridge.height.unsubscribe(this._updateView),
                this._$content && (this._scrollTop = this._$content.scrollTop(),
                this._$content.off("scroll", this._updateView)),
                this.superclass.prototype.remove.call(this)
            }
            ,
            g.prototype.hasData = function() {
                return !!(this._data && this._data.trades && this._data.trades.length)
            }
            ,
            y = "&dollar;",
            b = {
                usd: {
                    symbol: y,
                    before: !0
                },
                eur: {
                    symbol: "&euro;"
                },
                aud: {
                    symbol: "A" + y
                },
                gbp: {
                    symbol: "&pound;"
                },
                cad: {
                    symbol: "C" + y
                },
                chf: {
                    symbol: "₣"
                },
                hkd: {
                    symbol: "HK" + y
                },
                jpy: {
                    symbol: "&yen;"
                },
                sgd: {
                    symbol: "S" + y
                }
            },
            e.exports = {
                BacktestingWidget: TradingView.BacktestingWidget,
                BacktestingStrategyDispatcher: TradingView.BacktestingStrategyDispatcher
            }
        }
        ).call(t, i(4), i(10), i(37))
    },
    1987: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M14.59 6.857s-.57 0-.723-.533c-.115-.457-.305-.876-.534-1.295-.228-.497.153-.878.153-.878l.57-.57c.23-.23.23-.61 0-.877l-.76-.762c-.23-.23-.61-.23-.877 0l-.572.57s-.38.382-.877.154c-.418-.23-.837-.42-1.294-.534-.533-.152-.533-.723-.533-.723v-.8a.602.602 0 0 0-.61-.61H7.467a.602.602 0 0 0-.61.61v.8s0 .57-.533.723c-.457.115-.876.305-1.295.534-.497.228-.878-.153-.878-.153l-.57-.57c-.23-.23-.61-.23-.877 0l-.762.76c-.23.23-.23.61 0 .877l.57.572s.382.38.154.877c-.23.418-.42.837-.534 1.294-.152.495-.723.533-.723.533h-.8a.602.602 0 0 0-.61.61v1.066c0 .343.267.61.61.61h.8s.57 0 .723.533c.115.457.305.876.534 1.295.228.497-.153.878-.153.878l-.57.57c-.23.23-.23.61 0 .877l.76.762c.23.23.61.23.877 0l.572-.57s.38-.382.877-.154c.418.23.837.42 1.294.534.495.152.533.723.533.723v.8c0 .343.267.61.61.61h1.066c.343 0 .61-.267.61-.61v-.8s0-.57.533-.723c.457-.115.876-.305 1.295-.534.497-.228.878.153.878.153l.57.57c.23.23.61.23.877 0l.762-.76c.23-.23.23-.61 0-.877l-.57-.572s-.382-.38-.154-.877c.23-.418.42-.837.534-1.294.152-.495.723-.533.723-.533h.8c.343 0 .61-.267.61-.61V7.467a.602.602 0 0 0-.61-.61h-.8zM4 8c0-2.222 1.778-4 4-4s4 1.778 4 4-1.812 4-4 4c-2.222 0-4-1.778-4-4z"/></svg>'
    },
    1988: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><title>Imported Layers</title><path fill="#ADAEB0" fill-rule="evenodd" d="M12.5 11h-.79l-.28-.27A6.47 6.47 0 0 0 13 6.5 6.5 6.5 0 1 0 6.5 13c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L17.49 16l-4.99-5zm-6 0C4.01 11 2 8.99 2 6.5S4.01 2 6.5 2 11 4.01 11 6.5 8.99 11 6.5 11z"/></svg>'
    },
    1994: function(e, t) {},
    1998: function(e, t) {},
    1999: function(e, t) {},
    2e3: function(e, t) {},
    2001: function(e, t) {},
    2002: function(e, t) {},
    2003: function(e, t) {},
    2012: function(e, t) {},
    2032: function(e, t) {
        "use strict";
        t.operators = {
            less: $.t("Below"),
            eless: $.t("Below or Equal"),
            greater: $.t("Above"),
            egreater: $.t("Above or Equal"),
            crosses: $.t("Crosses"),
            crosses_above: $.t("Crosses Above"),
            crosses_below: $.t("Crosses Below"),
            in_range: $.t("Between"),
            equal: $.t("Equal"),
            nequal: $.t("Not Equal")
        },
        t.fields = ["close", "high", "low", "SMA20", "SMA50", "SMA200", "Stoch.K", "Stoch.D", "price_52_week_high", "price_52_week_low", "MACD.macd", "MACD.signal", "Aroon.Up", "Aroon.Down", "BB.upper", "BB.lower", "High.All", "Low.All", "High.6M", "Low.6M", "High.3M", "Low.3M", "High.1M", "Low.1M", "RSI", "RSI7", "SMA10", "SMA30", "SMA100", "EMA10", "EMA20", "EMA30", "EMA50", "EMA100", "EMA200", "CCI20", "DonchCh20.Upper", "DonchCh20.Lower", "HullMA9", "AO", "KltChnl.upper", "KltChnl.lower"]
    },
    2033: function(e, t) {
        "use strict";
        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "stock"
              , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "america"
              , i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
              , o = n.filter(function(t) {
                if ("stock" === e) {
                    var n = i ? e + "_compact" : e;
                    return t.screeners.indexOf(n) >= 0
                }
                return t.screeners.indexOf(e) >= 0
            });
            return o.forEach(function(n) {
                if (n.screenerTypeContent) {
                    var o = n.screenerTypeContent[e] || n.screenerTypeContent[""];
                    n.content = o[t] || o[""],
                    "forex" === e && i && (n.content = n.content.filter(function(e) {
                        return !["sector", "country"].includes(e)
                    }))
                }
            }),
            o
        }
        var n = [{
            id: "overview",
            title: $.t("Overview"),
            screenerTypeContent: {
                "": {
                    "": ["name", "close", "change", "change_abs", "Recommend.All", "volume", "market_cap_basic", "price_earnings_ttm", "earnings_per_share_basic_ttm", "number_of_employees", "sector", "description", "type"],
                    russia: ["name", "close", "change", "change_abs", "Recommend.All", "Value.Traded", "volume", "market_cap_basic", "price_earnings_ttm", "earnings_per_share_basic_ttm", "number_of_employees", "sector", "description", "type"]
                },
                forex: {
                    "": ["name", "close", "change", "change_abs", "sector", "country", "bid", "ask", "high", "low", "Recommend.All", "description", "type"]
                },
                crypto: {
                    "": ["name", "close", "change", "change_abs", "volume", "Recommend.All", "exchange", "description"]
                },
                crypto_mkt: {
                    "": ["sector", "market_cap_calc", "market_cap_diluted_calc", "close", "total_shares_outstanding", "total_shares_diluted", "total_value_traded", "change"]
                },
                futures: {
                    "": ["name", "close", "change", "change_abs", "high", "low", "Recommend.All", "description"]
                },
                cfd: {
                    "": ["name", "close", "change", "change_abs", "high", "low", "Recommend.All", "description"]
                }
            },
            screeners: ["stock", "stock_compact", "forex", "futures", "cfd", "crypto", "crypto_mkt"]
        }, {
            id: "performance",
            title: $.t("Performance"),
            screenerTypeContent: {
                "": {
                    "": ["name", "description", "type", "change", "Perf.W", "Perf.1M", "Perf.3M", "Perf.6M", "Perf.YTD", "Perf.Y", "beta_1_year", "Volatility.D"]
                },
                futures: {
                    "": ["name", "description", "type", "change", "Perf.W", "Perf.1M", "Perf.3M", "Perf.6M", "Perf.YTD", "Perf.Y", "Volatility.D"]
                },
                forex: {
                    "": ["name", "description", "type", "change", "Perf.W", "Perf.1M", "Perf.3M", "Perf.6M", "Perf.YTD", "Perf.Y", "Volatility.D"]
                },
                crypto: {
                    "": ["name", "description", "type", "change", "Perf.W", "Perf.1M", "Perf.3M", "Perf.6M", "Perf.YTD", "Perf.Y", "Volatility.D"]
                },
                crypto_mkt: {
                    "": ["sector", "description", "type", "change", "Perf.W", "Perf.1M", "Perf.3M", "Perf.6M", "Perf.YTD", "Perf.Y", "Volatility.D"]
                },
                cfd: {
                    "": ["name", "description", "type", "change", "Perf.W", "Perf.1M", "Perf.3M", "Perf.6M", "Perf.YTD", "Perf.Y", "Volatility.D"]
                }
            },
            screeners: ["stock", "stock_compact", "forex", "futures", "cfd", "crypto", "crypto_mkt"]
        }, {
            id: "valuation",
            title: $.t("Valuation"),
            content: ["name", "description", "type", "close", "market_cap_basic", "price_earnings_ttm", "price_revenue_ttm", "earnings_per_share_basic_ttm", "last_annual_eps", "enterprise_value_ebitda_ttm", "enterprise_value_fq", "total_shares_outstanding_fundamental"],
            screeners: ["stock", "stock_compact"]
        }, {
            id: "dividends",
            title: $.t("Dividends"),
            content: ["name", "description", "type", "close", "dividends_paid", "dividends_per_share_fq", "expected_annual_dividends"],
            screeners: ["stock", "stock_compact"]
        }, {
            id: "margins",
            title: $.t("Margins", {
                context: "screener"
            }),
            content: ["name", "description", "type", "gross_margin", "operating_margin", "pre_tax_margin", "after_tax_margin"],
            screeners: ["stock", "stock_compact"]
        }, {
            id: "income_statement",
            title: $.t("Income Statement"),
            content: ["name", "description", "type", "basic_eps_net_income", "earnings_per_share_basic_ttm", "earnings_per_share_diluted_ttm", "ebitda", "gross_profit", "total_revenue", "last_annual_eps", "last_annual_revenue", "net_income"],
            screeners: ["stock", "stock_compact"]
        }, {
            id: "balance_sheet",
            title: $.t("Balance Sheet"),
            content: ["name", "description", "type", "cash_ratio", "current_ratio", "debt_to_equity", "net_debt", "quick_ratio", "total_assets", "total_debt", "total_current_assets"],
            screeners: ["stock", "stock_compact"]
        }, {
            id: "oscillators",
            title: $.t("Oscillators"),
            screenerTypeContent: {
                "": {
                    "": ["name", "Recommend.Other", "ADX", "AO", "ATR", "CCI20", "MACD.macd", "MACD.signal", "Mom", "RSI", "Stoch.K", "Stoch.D", "description", "type"]
                },
                crypto_mkt: {
                    "": ["sector", "Recommend.Other", "ADX", "AO", "ATR", "CCI20", "MACD.macd", "MACD.signal", "Mom", "RSI", "Stoch.K", "Stoch.D", "description", "type"]
                }
            },
            screeners: ["stock", "stock_compact", "forex", "futures", "cfd", "crypto", "crypto_mkt"]
        }, {
            id: "moving_averages",
            title: $.t("Trend-Following"),
            screenerTypeContent: {
                "": {
                    "": ["name", "Recommend.MA", "close", "SMA20", "SMA50", "SMA200", "BB.upper", "BB.lower", "description", "type"]
                },
                crypto_mkt: {
                    "": ["sector", "Recommend.MA", "close", "SMA20", "SMA50", "SMA200", "BB.upper", "BB.lower", "description", "type"]
                }
            },
            screeners: ["stock", "stock_compact", "forex", "futures", "cfd", "crypto", "crypto_mkt"]
        }, {
            id: "pivot_points_classic",
            title: $.t("Pivot Points Classic"),
            content: ["name", "description", "type", "Pivot.M.Classic.S3", "Pivot.M.Classic.S2", "Pivot.M.Classic.S1", "Pivot.M.Classic.Middle", "Pivot.M.Classic.R1", "Pivot.M.Classic.R2", "Pivot.M.Classic.R3"],
            screeners: ["stock", "forex"]
        }, {
            id: "pivot_points_fibonacci",
            title: $.t("Pivot Points Fibonacci"),
            content: ["name", "description", "type", "Pivot.M.Fibonacci.S3", "Pivot.M.Fibonacci.S2", "Pivot.M.Fibonacci.S1", "Pivot.M.Fibonacci.Middle", "Pivot.M.Fibonacci.R1", "Pivot.M.Fibonacci.R2", "Pivot.M.Fibonacci.R3"],
            screeners: ["stock", "forex"]
        }, {
            id: "pivot_points_camarilla",
            title: $.t("Pivot Points Camarilla"),
            content: ["name", "description", "type", "Pivot.M.Camarilla.S3", "Pivot.M.Camarilla.S2", "Pivot.M.Camarilla.S1", "Pivot.M.Camarilla.Middle", "Pivot.M.Camarilla.R1", "Pivot.M.Camarilla.R2", "Pivot.M.Camarilla.R3"],
            screeners: ["stock", "forex"]
        }, {
            id: "pivot_points_woodie",
            title: $.t("Pivot Points Woodie"),
            content: ["name", "description", "type", "Pivot.M.Woodie.S3", "Pivot.M.Woodie.S2", "Pivot.M.Woodie.S1", "Pivot.M.Woodie.Middle", "Pivot.M.Woodie.R1", "Pivot.M.Woodie.R2", "Pivot.M.Woodie.R3"],
            screeners: ["stock", "forex"]
        }, {
            id: "pivot_points_demark",
            title: $.t("Pivot Points Demark"),
            content: ["name", "description", "type", "Pivot.M.Demark.S1", "Pivot.M.Demark.Middle", "Pivot.M.Demark.R1"],
            screeners: ["stock", "forex"]
        }];
        e.exports = {
            getDefaultFieldSetsByScreenerType: i
        }
    },
    2034: function(e, t, i) {
        "use strict";
        function n(e) {
            r.forEach(function(t) {
                var i, n;
                if (t.disabled = !1,
                t.id in o.marketFilterValues.america)
                    for (i in o.marketFilterValues.america[t.id])
                        t.content.filters[i] = o.marketFilterValues.america[t.id][i];
                if (o.marketFilterValues[e] && t.id in o.marketFilterValues[e])
                    if (null === o.marketFilterValues[e][t.id])
                        t.disabled = !0;
                    else
                        for (n in o.marketFilterValues[e][t.id])
                            t.content.filters[n] = o.marketFilterValues[e][t.id][n];
                "forex" === e ? s.forex[t.id] && (t.title = s.forex[t.id]) : s.default[t.id] && (t.title = s.default[t.id])
            })
        }
        var o, s, r;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.defaultFilterSets = void 0,
        t.applyMarketValuesToDefaultFilterSets = n,
        o = i(745),
        s = {
            forex: {
                top_gainers: $.t("Rising Pairs"),
                top_losers: $.t("Falling Pairs")
            },
            default: {
                top_gainers: $.t("Top Gainers"),
                top_losers: $.t("Top Losers")
            }
        },
        r = t.defaultFilterSets = [{
            id: "most_capitalized",
            title: $.t("Most Capitalized"),
            content: {
                sort_field: "market_cap_basic",
                sort_direction: "desc"
            }
        }, {
            id: "volume_leaders",
            title: $.t("Volume Leaders"),
            adjustFilter: {
                volume: [1]
            },
            content: {
                sort_field: "volume",
                sort_direction: "desc",
                filters: {
                    volume: null
                }
            }
        }, {
            id: "top_volume",
            title: $.t("Top Volume"),
            adjustFilter: {},
            content: {
                sort_field: "volume",
                sort_direction: "desc",
                filters: {}
            }
        }, {
            id: "top_gainers",
            title: s.default.top_gainers,
            adjustFilter: {
                change: [1]
            },
            content: {
                sort_field: "change",
                sort_direction: "desc",
                filters: {
                    change: [0, 1e100]
                }
            }
        }, {
            id: "top_losers",
            title: s.default.top_losers,
            adjustFilter: {
                change: [0]
            },
            content: {
                sort_field: "change",
                sort_direction: "asc",
                filters: {
                    change: [-1e100, 0]
                }
            }
        }, {
            id: "ath",
            title: $.t("All Time High"),
            content: {
                sort_field: "name",
                sort_direction: "asc",
                filters: {
                    "High.All": {
                        operator: "eless",
                        value: "high"
                    }
                }
            }
        }, {
            id: "atl",
            title: $.t("All Time Low"),
            content: {
                sort_field: "name",
                sort_direction: "asc",
                filters: {
                    "Low.All": {
                        operator: "egreater",
                        value: "low"
                    }
                }
            }
        }, {
            id: "above_52wk_high",
            title: $.t("New 52 Week High"),
            content: {
                sort_field: "name",
                sort_direction: "asc",
                filters: {
                    price_52_week_high: {
                        operator: "eless",
                        value: "high"
                    }
                }
            }
        }, {
            id: "below_52wk_low",
            title: $.t("New 52 Week Low"),
            content: {
                sort_field: "name",
                sort_direction: "asc",
                filters: {
                    price_52_week_low: {
                        operator: "egreater",
                        value: "low"
                    }
                }
            }
        }, {
            id: "monthly_high",
            title: $.t("New Monthly High"),
            content: {
                sort_field: "name",
                sort_direction: "asc",
                filters: {
                    "High.1M": {
                        operator: "eless",
                        value: "high"
                    }
                }
            }
        }, {
            id: "monthly_low",
            title: $.t("New Monthly Low"),
            content: {
                sort_field: "name",
                sort_direction: "asc",
                filters: {
                    "Low.1M": {
                        operator: "egreater",
                        value: "low"
                    }
                }
            }
        }, {
            id: "most_volatile",
            title: $.t("Most Volatile"),
            adjustFilter: {
                "Volatility.D": [1]
            },
            content: {
                sort_field: "Volatility.D",
                sort_direction: "desc",
                filters: {
                    "Volatility.D": null
                }
            }
        }, {
            id: "unusual_volume",
            title: $.t("Unusual Volume"),
            adjustFilter: {
                relative_volume: [1]
            },
            content: {
                sort_field: "relative_volume",
                sort_direction: "desc",
                filters: {
                    relative_volume: null
                }
            }
        }, {
            id: "overbought",
            title: $.t("Overbought"),
            content: {
                sort_field: "name",
                sort_direction: "asc",
                filters: {
                    RSI: {
                        operator: "greater",
                        value: 70
                    }
                }
            }
        }, {
            id: "oversold",
            title: $.t("Oversold"),
            content: {
                sort_field: "name",
                sort_direction: "asc",
                filters: {
                    RSI: {
                        operator: "less",
                        value: 30
                    }
                }
            }
        }, {
            id: "outperforming_SMA50",
            title: $.t("Outperforming SMA50"),
            content: {
                sort_field: "name",
                sort_direction: "asc",
                filters: {
                    SMA50: {
                        operator: "less",
                        value: "close"
                    }
                }
            }
        }, {
            id: "underperforming_SMA50",
            title: $.t("Underperforming SMA50"),
            content: {
                sort_field: "name",
                sort_direction: "asc",
                filters: {
                    SMA50: {
                        operator: "greater",
                        value: "close"
                    }
                }
            }
        }, {
            id: "earnings_this_week",
            title: $.t("Earnings This Week"),
            content: {
                sort_field: "name",
                sort_direction: "asc",
                filters: {
                    earnings_release_next_date: null
                }
            }
        }]
    },
    2035: function(e, t, i) {
        "use strict";
        function n(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        var o = function() {
            function e(e, t) {
                var i, n;
                for (i = 0; i < t.length; i++)
                    n = t[i],
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n)
            }
            return function(t, i, n) {
                return i && e(t.prototype, i),
                n && e(t, n),
                t
            }
        }()
          , s = i(885)
          , r = i(50)
          , a = r.environment
          , l = i(2036)
          , c = i(1943).ScreenerAlertsDispatcher
          , d = i(4)
          , h = i(1)
          , u = h.getLogger
          , p = u("Alerts.Screener")
          , f = function() {
            function e(t, i) {
                n(this, e),
                this._bridge = t,
                this._model = i,
                this.alertsUpdated = new d,
                this.eventsUpdated = new d,
                this.currentAlertStateChange = new d,
                this.currentAlertLoading = new d,
                this.alertChanged = new d,
                this._view = new l(t,this),
                this._view.editAlertTrigger.subscribe(this, this.onEditAlertTrigger),
                this.initDispatcher(),
                this.init(),
                "battle" !== a() && (window._exposed_screenerAlerts = this)
            }
            return o(e, [{
                key: "initDispatcher",
                value: function() {
                    var e = this;
                    this._dispatcher = new c,
                    this._dispatcher.setFilterTitleGetter(function(t) {
                        return e.getFilterTitle(t)
                    }),
                    this._dispatcher.setScannerParamsGetter(function(t) {
                        return e._getFilterScannerParams(t)
                    })
                }
            }, {
                key: "init",
                value: function() {
                    var e, t = this, i = function() {
                        t._screenerReady = new Promise(function(e) {
                            return t._model.loadingComplete.subscribe(null, function() {
                                return e()
                            }, !0)
                        }
                        )
                    };
                    this._model.loadingStart.subscribe(null, i),
                    i(),
                    e = function() {
                        t.ready = t._screenerReady.then(function() {
                            return t._dispatcher.loading
                        }).catch(function(e) {
                            return p.logError(e && e.message || $.t("Unknown Error"))
                        })
                    }
                    ,
                    window.loginStateChange.subscribe(null, e),
                    e(),
                    this._model.filterSetChanged.subscribe(this, this.onFilterSetChanged),
                    this.onFilterSetChanged(),
                    this._model.filterSetDeleted.subscribe(this, this.onFilterSetDeleted),
                    this._model.filterSetSaved.subscribe(this, this.onFilterSetSaved),
                    this._dispatcher.alerts.itemsChanged.subscribe(null, function() {
                        return t.onAlertsUpdated()
                    }),
                    this._dispatcher.alerts.itemsUpdated.subscribe(null, function() {
                        return t.onAlertsUpdated()
                    }),
                    this._dispatcher.events.itemsChanged.subscribe(null, function() {
                        return t.eventsUpdated.fire()
                    })
                }
            }, {
                key: "onAlertsUpdated",
                value: function() {
                    var e = this.getCurrentAlert();
                    this.setCurrentAlertState(e && e.state || "absent"),
                    this.alertsUpdated.fire()
                }
            }, {
                key: "onFilterSetChanged",
                value: function(e) {
                    var t = this;
                    this.ready.then(function() {
                        e || (e = t._bridge.getCurrentFilterSetId());
                        var i = t._dispatcher.alerts.getByFilterSetId(e, t._model.market)[0];
                        t.setCurrentAlertState(i && i.state || "absent"),
                        t.alertChanged.fire()
                    }).catch(function(e) {
                        return p.logError(e && e.message || $.t("Unknown Error"))
                    })
                }
            }, {
                key: "onFilterSetSaved",
                value: function(e, t) {
                    var i, n, o, s = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], r = this._model.getFilterSetById(e), a = this._dispatcher.alerts.getByFilterSetId(e, t);
                    a && a.length ? (i = a[0],
                    n = null,
                    r.title !== i.params.filterTitle && (i.params.filterTitle = r.title,
                    s || (n = this._dispatcher.saveAlert(i.id))),
                    s && (o = this._getFilterScannerParams(e),
                    o ? (i.params.scannerParams = o,
                    n = this._dispatcher.cloneAlert(i.id)) : p.logError("Unable to get scanner params for filter with id " + e)),
                    n && n.catch(function(e) {
                        return p.logError(e && e.message || e || "Unknown Error")
                    })) : this.setCurrentAlertState("absent") && this.alertChanged.fire()
                }
            }, {
                key: "onFilterSetDeleted",
                value: function(e) {
                    var t = this._dispatcher.alerts.getByFilterSetId(e).map(function(e) {
                        return e.id
                    });
                    t.length && this._dispatcher.deleteAlerts(t).catch(function(e) {
                        return p.logError(e && e.message || $.t("Unknown Error"))
                    })
                }
            }, {
                key: "onEditAlertTrigger",
                value: function(e) {
                    var t, i, n = this;
                    e ? this._dispatcher.showEditAlertDialog(e) : (t = this._bridge.getCurrentFilterSetId(),
                    i = t && this._dispatcher.alerts.getByFilterSetId(t, this._model.market)[0],
                    i ? this._dispatcher.showEditAlertDialog(i.id) : this._model.showNoticeIfNoFilters(t) || (this._dispatcher.showCreateAlertDialog(t, !0, (0,
                    s.getAlertsMessageText)(this._model.selectedIntervalId)),
                    this._dispatcher.getDialogSubmitDelegate().subscribe(null, function() {
                        return n.currentAlertLoading.fire()
                    }, !0)))
                }
            }, {
                key: "_getFilterScannerParams",
                value: function(e) {
                    var t = this._model.getScannerParams(e);
                    return t && (t.country = this._model.market),
                    t
                }
            }, {
                key: "setCurrentAlertState",
                value: function(e) {
                    return this._currentAlertState !== e && (this.currentAlertStateChange.fire(e),
                    this._currentAlertState = e,
                    !0)
                }
            }, {
                key: "getFilterTitle",
                value: function(e) {
                    var t = this._model.getFilterSetById(e);
                    return t && t.title || null
                }
            }, {
                key: "getFilterSetIdsWithRunningAlerts",
                value: function() {
                    var e = this;
                    return this._dispatcher.alerts.getRunning().filter(function(t) {
                        return t.filterSetId && t.params.scannerParams.country === e._model.market
                    }).map(function(e) {
                        return e.filterSetId
                    })
                }
            }, {
                key: "getCurrentAlert",
                value: function() {
                    var e = this._bridge.getCurrentFilterSetId();
                    return e && this._dispatcher.alerts.getByFilterSetId(e, this._model.market)[0]
                }
            }, {
                key: "toggleAlert",
                value: function(e) {
                    var t = this
                      , i = this._bridge.getCurrentFilterSetId() === e
                      , n = this._dispatcher.alerts.getByFilterSetId(e, this._model.market)[0]
                      , o = null;
                    if (n)
                        "running" === n.state ? (this._dispatcher.stopAlert(n.id),
                        i && this.currentAlertLoading.fire()) : (this._dispatcher.showEditAlertDialog(n.id, !0),
                        i && (o = this._dispatcher.getDialogSubmitDelegate()));
                    else {
                        if (this._model.showNoticeIfNoFilters(e))
                            return;
                        this._dispatcher.showCreateAlertDialog(e, !0, (0,
                        s.getAlertsMessageText)(this._model.selectedIntervalId)),
                        i && (o = this._dispatcher.getDialogSubmitDelegate())
                    }
                    o && o.subscribe(null, function() {
                        return t.currentAlertLoading.fire()
                    }, !0)
                }
            }, {
                key: "dispatcher",
                get: function() {
                    return this._dispatcher
                }
            }, {
                key: "view",
                get: function() {
                    return this._view
                }
            }]),
            e
        }();
        e.exports = f
    },
    2036: function(e, t, i) {
        "use strict";
        function n(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        var o = function() {
            function e(e, t) {
                var i, n;
                for (i = 0; i < t.length; i++)
                    n = t[i],
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n)
            }
            return function(t, i, n) {
                return i && e(t.prototype, i),
                n && e(t, n),
                t
            }
        }()
          , s = i(2045)
          , r = s.createScreenerAlertsListDialog
          , a = i(64)
          , l = i(4)
          , c = {
            ctl_dropdown: '\n\t\t<div class="tv-dropdown-behavior__item">\n\t\t\t<div class="tv-control-select__option-wrap tv-screener-popup__item js-alert-settings">' + $.t("Edit Alert Settings...") + '</div>\n\t\t</div>\n\t\t<div class="tv-dropdown-behavior__item">\n\t\t\t<div class="tv-control-select__option-wrap tv-screener-popup__item js-alerts-log">' + $.t("Alerts Log...") + "</div>\n\t\t</div>\n\t"
        }
          , d = function() {
            function e(t, i) {
                var o = this;
                n(this, e),
                this._bridge = t,
                this._bridge.getAlertsCtlDropdownContent = function() {
                    return o.getCtlDropdownContent()
                }
                ,
                this._model = i,
                this.editAlertTrigger = new l,
                this.setupCtlDropdownContentUpdate(),
                this._model.eventsUpdated.subscribe(this, this.updateEventsLogDialogContent)
            }
            return o(e, [{
                key: "reset",
                value: function() {
                    this._eventsLogDialog && (this._eventsLogDialog.close(),
                    delete this._eventsLogDialog),
                    delete this.$ctlContent
                }
            }, {
                key: "setupCtlDropdownContentUpdate",
                value: function() {
                    var e = this
                      , t = a(function() {
                        return e.updateCtlDropdownContent()
                    }, 300);
                    this._model.currentAlertStateChange.subscribe(this, t),
                    this._model.alertChanged.subscribe(this, t),
                    this._model.alertsUpdated.subscribe(this, t)
                }
            }, {
                key: "getCtlDropdownContent",
                value: function() {
                    var e = this;
                    return this.$ctlContent || (this.$ctlContent = $(c.ctl_dropdown),
                    this.$ctlContent.on("click", ".js-alert-settings", function(t) {
                        e.editAlertTrigger.fire(),
                        e.$ctlContent.trigger("close")
                    }).on("click", ".js-alerts-log", function(t) {
                        e.showEventsLogDialog(),
                        e.$ctlContent.trigger("close")
                    })),
                    this.$ctlContent
                }
            }, {
                key: "updateCtlDropdownContent",
                value: function() {
                    this.getCtlDropdownContent().find(".js-alert-settings").text(this._model.getCurrentAlert() ? $.t("Edit Alert Settings...") : $.t("Enable Alert..."))
                }
            }, {
                key: "showEventsLogDialog",
                value: function() {
                    var e = this;
                    this._eventsLogDialog = r(),
                    this._eventsLogDialog.on("editClick", function(t, i) {
                        e.editAlertTrigger.fire(+i),
                        e._eventsLogDialog.close()
                    }).on("symbolClick", function(t) {
                        return e._bridge.applySymbol(t)
                    }).on("filterClick", function(t, i) {
                        e._ignoreFilterClick || (e._ignoreFilterClick = !0,
                        e._bridge.applyFilterSet(t, i).then(function() {
                            delete e._ignoreFilterClick
                        }))
                    }),
                    this.updateEventsLogDialogContent(!0),
                    this._eventsLogDialog.open(),
                    this._eventsLogDialog.on("beforeClose", function() {
                        delete e._eventsLogDialog
                    })
                }
            }, {
                key: "updateEventsLogDialogContent",
                value: function(e) {
                    var t, i, n, o, s = this;
                    if (this._eventsLogDialog) {
                        for (t = this._model.dispatcher.events.toArray(),
                        i = [],
                        n = t.length; n--; )
                            o = t[n],
                            i.push({
                                id: o.id,
                                alert_id: o.alertId,
                                market: o.params.scannerParams.country,
                                filter_set_id: o.params.filterSetId,
                                filter_name: this._model.getFilterTitle(o.params.filterSetId) || $.t("Screen"),
                                symbols: o.symbols.map(function(e) {
                                    return {
                                        full: e,
                                        short: e.replace(/^[^:]+:/, "")
                                    }
                                }),
                                fired: o.fired.toLocaleDateString() + " " + o.fired.toLocaleTimeString(),
                                new_item: !0 !== e && !this._eventsLogDialog.hasRow(o.id)
                            });
                        this._eventsLogDialog.clearRows(),
                        i.length ? this._eventsLogDialog.addRows(i).then(function() {
                            !0 !== e && s._eventsLogDialog.highlightNew()
                        }) : this._eventsLogDialog.setEmptyStub()
                    }
                }
            }]),
            e
        }();
        e.exports = d
    },
    2037: function(e, t, i) {
        "use strict";
        function n(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        var o, s, r, a, l, c, d, h, u, p = function() {
            function e(e, t) {
                var i, n;
                for (i = 0; i < t.length; i++)
                    n = t[i],
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n)
            }
            return function(t, i, n) {
                return i && e(t.prototype, i),
                n && e(t, n),
                t
            }
        }();
        i(1356),
        i(1998),
        i(2001),
        o = i(802),
        s = 646,
        r = 1400,
        a = 450,
        l = 200,
        c = 200,
        d = {
            filtersSearch: '<div class="tv-screener-search js-screener-search">\n\t\t<input type="text" class="tv-screener-search__input js-search-input" placeholder="' + $.t("Search filter") + '">\n\t\t' + i(1988) + '\n\t\t<div class="tv-screener-search__reset js-search-reset">\n\t\t\t<span class="tv-screener-search__reset-icon">' + i(1837) + "</span>\n\t\t\t" + $.t("Reset all") + "\n\t\t</div>\n\t</div>",
            filtersBody: '<div class="tv-screener-dialog js-screener-dialog">\n\t\t<div class="tv-screener-dialog__wrap js-filters-wrap"></div>\n\t</div>'
        },
        h = [$.t("All"), $.t("Descriptive"), $.t("Fundamental"), $.t("Technical")],
        u = function() {
            function e(t, i, o) {
                n(this, e),
                this._model = t,
                this._view = i,
                this._bridge = o,
                this._dialogTitle = "screener_filters",
                this._categories = null
            }
            return p(e, [{
                key: "showFiltersDialog",
                value: function(e) {
                    var t = this;
                    return new Promise(function(n) {
                        i.e(42, function(u) {
                            var p, f, g, m, _, v, y, b, w = i(892), C = w.createTabbedDialog;
                            t._categories = t._getCategories(),
                            p = C({
                                tabs: t._categories.map(function(e) {
                                    return {
                                        name: h[e]
                                    }
                                }),
                                additionalHeaderContent: d.filtersSearch,
                                customControls: !0,
                                customControlsContainerAddClass: "js-market-select-wrap",
                                width: Math.min(r, Math.max(s, $(window).width() - l)),
                                height: Math.max(a, $(window).height() - c),
                                contentAddClass: "js-dialog-content",
                                doNotCreatePages: !0,
                                destroyOnClose: !0
                            }),
                            f = p.dialog,
                            g = p.tabs,
                            m = f.$content.find(".js-dialog-content"),
                            _ = f.$content.find(".js-screener-search"),
                            t.$fieldSearchInput = _.find(".js-search-input"),
                            t.$fieldSearchInput.on("input", function(e) {
                                t._view.updateFilterSearch(),
                                f.updateScroll()
                            }),
                            v = _.find(".js-search-reset"),
                            v.on("click", function(e) {
                                return t._view.resetAllFilters()
                            }),
                            y = function() {
                                var e = t.$filtersPopup.get(0).clientWidth >= 2 * s;
                                e && !t._$filtersWrap.is(".js-2col") ? t._$filtersWrap.addClass("js-2col tv-screener-dialog__wrap--2col") : !e && t._$filtersWrap.is(".js-2col") && t._$filtersWrap.removeClass("js-2col tv-screener-dialog__wrap--2col")
                            }
                            ,
                            t.$filtersPopup = $(d.filtersBody),
                            t._$filtersWrap = t.$filtersPopup.find(".js-filters-wrap"),
                            b = [],
                            t._view.sortedFields.forEach(function(e) {
                                o.fields[e] && !o.fields[e].disabled && o.fields[e].control && b.push(t._view.addFieldFilter(e, t._$filtersWrap))
                            }),
                            Promise.all(b).then(function() {
                                return t._view.initFilterHandlers(t._$filtersWrap)
                            }),
                            t.$filtersPopup.appendTo(m),
                            e && TVSettings.setValue(t._model.settingKey + ".filters.tab", 0),
                            g.tabChanged.subscribe(null, function(e) {
                                t.filtersDialogTabChanged(e),
                                f.scrollToStart()
                            }),
                            t._view.$filtersButton.addClass("tv-screener-toolbar__button--active js-no-pointer-events"),
                            f.on("scroll", function() {
                                f.$content.find(".js-dropdown-toggle.i-opened").trigger("resetPosition", null, m.parent())
                            }),
                            f.on("destroy", function(e) {
                                for (var i in o.fields)
                                    "condition" === o.fields[i].control && o.fields[i].value && ((0,
                                    o.isValueAbsent)(o.fields[i].value.value) || (0,
                                    o.isValueAbsent)(o.fields[i].value.operator)) && (o.fields[i].value = null);
                                $(".tv-screener-dialog__filter-field").removeClass("js-hidden"),
                                t.$fieldSearchInput.val(""),
                                t.$filtersPopup.remove(),
                                delete t.$filtersPopup,
                                t._view.$filtersButton.removeClass("tv-screener-toolbar__button--active js-no-pointer-events"),
                                delete t._dialog,
                                $(window).off("resize", y)
                            }),
                            t._model.trackEvent("Open filters dialog"),
                            f.open(),
                            t._view.addMarketSelect({
                                $dropdownContainer: f.$content,
                                $appendTo: f.$content.find(".js-market-select-wrap"),
                                caption: !0,
                                classSuffix: "--dialog"
                            }),
                            $(window).on("resize", y),
                            y(),
                            t.$dialogContainer = f.$content,
                            t._dialog = f,
                            n()
                        })
                    }
                    )
                }
            }, {
                key: "filtersDialogTabChanged",
                value: function(e) {
                    var t = this._categories.map(function(e) {
                        return "tv-screener-dialog--cat" + e
                    }).join(" ");
                    this.$filtersPopup.removeClass(t).addClass("tv-screener-dialog--cat" + this._categories[e]).scrollTop(0)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._dialog && (this._dialog.close(),
                    delete this._dialog)
                }
            }, {
                key: "_getCategories",
                value: function() {
                    var e = [0];
                    return this._view.sortedFields.forEach(function(t) {
                        o.fields[t] && !o.fields[t].disabled && o.fields[t].control && (e.includes(o.fields[t].category) || e.push(o.fields[t].category))
                    }),
                    e.sort()
                }
            }]),
            e
        }(),
        e.exports = u
    },
    2038: function(e, t, i) {
        "use strict";
        function n(e) {
            var t, i;
            if (e && e.__esModule)
                return e;
            if (t = {},
            null != e)
                for (i in e)
                    Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
            return t.default = e,
            t
        }
        function o(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        var s, r, a, l, c, d, h, u, p, f, g = function() {
            function e(e, t) {
                var i, n;
                for (i = 0; i < t.length; i++)
                    n = t[i],
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n)
            }
            return function(t, i, n) {
                return i && e(t.prototype, i),
                n && e(t, n),
                t
            }
        }(), m = i(802);
        i(59),
        i(70),
        s = i(42),
        i(1356),
        i(1652),
        i(2e3),
        i(1650),
        i(1651),
        r = i(7),
        a = n(r),
        l = i(36),
        c = n(l),
        d = i(183),
        h = i(885),
        u = i(1).getLogger("Screener.Popups"),
        p = 45,
        f = function() {
            function e(t, i, n) {
                var s = this;
                o(this, e),
                this._model = t,
                this._view = i,
                this._bridge = n,
                this._markets = null,
                this._model.fieldSetSaved.subscribe(null, function() {
                    return s._view.$fieldSetsButton.removeClass("tv-screener-toolbar__button--unsaved")
                }),
                this._model.filterSetSaved.subscribe(null, function() {
                    return s._view.$filterSetsButton.removeClass("tv-screener-toolbar__button--unsaved")
                }),
                this._fieldsPopupCache = {}
            }
            return g(e, [{
                key: "showPrompt",
                value: function(e, t, n, o) {
                    !function(s) {
                        var r = i(441)
                          , a = r.createPromptDialog
                          , l = !1;
                        a({
                            width: 470,
                            title: e.title,
                            addClass: "tv-screener-prompt",
                            content: "\n\t\t\t\t\t" + (e.label ? '<div class="tv-screener-prompt__label">' + e.label + "</div>" : "") + '\n\t\t\t\t\t<input class="tv-control-input" name="value">\n\t\t\t\t',
                            actionsWrapTemplate: '<div class="tv-dialog__section tv-dialog__section--actions tv-dialog__section--no-border">',
                            actions: [{
                                name: "submit",
                                type: "primary",
                                text: $.t("Save"),
                                key: 13
                            }, {
                                name: "cancel",
                                type: "default",
                                text: $.t("Cancel"),
                                method: "close"
                            }]
                        }).on("beforeOpen", function(e) {
                            var i = e.$el.find("input");
                            i.val(t).on("input", function() {
                                return i.removeClass("i-error")
                            }).select()
                        }).on("beforeClose", function() {
                            l || "function" != typeof o || o()
                        }).on("submit", function(e, t) {
                            if (!(t = t.trim()))
                                return e.$el.find("input").addClass("i-error").focus(),
                                void e.error($.t("Please type in value"));
                            l = !0,
                            n(t),
                            e.close()
                        }).open()
                    }()
                }
            }, {
                key: "showMaintenanceDialog",
                value: function() {
                    !function(e) {
                        (0,
                        i(42).createNoticeDialog)({
                            type: "modal",
                            title: $.t("Screener maintenance"),
                            content: $.t("We are doing some brief daily maintenance. Screener will be back really soon, thanks for your patience!")
                        }).open()
                    }()
                }
            }, {
                key: "showConfirm",
                value: function(e, t, n) {
                    !function(o) {
                        var s = i(462)
                          , r = s.createConfirmDialog
                          , a = !1
                          , l = r({
                            content: e
                        }).on("beforeClose", function() {
                            a || "function" != typeof n || n()
                        }).on("action:yes", function() {
                            a = !0,
                            t(),
                            l.close()
                        });
                        l.open()
                    }()
                }
            }, {
                key: "showNotice",
                value: function(e, t) {
                    return (0,
                    s.createNoticeDialog)({
                        content: e,
                        title: t
                    }).open()
                }
            }, {
                key: "setFieldsPopup",
                value: function(e, t, i) {
                    var n, o, s, r, a, l, c, d = this;
                    e.addClass("tv-dropdown-behavior__button"),
                    n = $('<div class="' + (t || "") + '">'),
                    n.insertAfter(e).append(e),
                    o = $('<div class="tv-dropdown__body tv-dropdown__body--over-trigger tv-dropdown-behavior__body tv-screener-fields-popup i-hidden">').appendTo(n),
                    i && o.addClass(i),
                    s = $('<div class="tv-screener-fields-popup__search-wrap">').appendTo(o),
                    r = $('<input type="text" placeholder="' + $.t("Search column") + '" class="tv-screener-fields-popup__search-input">').appendTo(s),
                    a = $('<div class="tv-dropdown-behavior__scroll">').appendTo(o),
                    l = $('<div class="tv-screener-fields-popup__items-wrap tv-dropdown-behavior__inscroll">').appendTo(a),
                    c = $('<div class="tv-screener-fields-popup__item tv-screener-fields-popup__item--no-matches js-hidden">No matches</div>').appendTo(o),
                    r.on("change input", function(e) {
                        var t = r.val().trim().toLowerCase();
                        t ? l.find(".js-fields-item").each(function() {
                            var e = $(this);
                            e.toggleClass("js-hidden", !~e.text().toLowerCase().indexOf(t))
                        }) : l.find(".js-fields-item").removeClass("js-hidden"),
                        c.toggleClass("js-hidden", !!l.find(".js-fields-item:not(.js-hidden)").size()),
                        n.tvDropdown("updateScroll")
                    }),
                    this._view.setDropdownToolbarBehavior(n),
                    n.on("beforeOpenMenu", function() {
                        r.val(""),
                        l.find(".js-fields-item").removeClass("js-hidden"),
                        c.addClass("js-hidden"),
                        d.resetFieldsPopup(l),
                        a.css("maxHeight", $(window).height() - e.offset().top + $(window).scrollTop() - e.outerHeight() - s.outerHeight() - 20)
                    }).on("afterOpenMenu", function() {
                        r.focus()
                    }).tvDropdown({
                        scroll: !0
                    }),
                    setTimeout(function() {
                        return d.resetFieldsPopup(l)
                    }, 0)
                }
            }, {
                key: "resetFieldsPopup",
                value: function(e) {
                    var t, i = this;
                    e.empty(),
                    t = function(e) {
                        var t, n, o;
                        return e in i._fieldsPopupCache ? (t = i._fieldsPopupCache[e],
                        t.checkbox.prop("checked", m.fields[e].checked),
                        t.item) : (n = $('<div class="tv-dropdown-behavior__item">'),
                        $('<label data-field="' + e + '" class="tv-control-select__option-wrap tv-screener-fields-popup__item js-fields-item">\n\t\t\t\t<input type="checkbox" name="' + e + '" class="js-field-checkbox"' + (m.fields[e].checked ? " checked" : "") + '>\n\t\t\t\t<span class="tv-control-checkbox__label">' + m.fields[e].title + "</span>\n\t\t\t</label>").appendTo(n),
                        o = n.find(".js-field-checkbox").tvControlCheckbox(),
                        i._fieldsPopupCache[e] = {
                            item: n,
                            checkbox: o
                        },
                        n)
                    }
                    ,
                    this._view.sortedFields.sort(function(e, t) {
                        return m.fields[e].checked && !m.fields[t].checked ? -1 : !m.fields[e].checked && m.fields[t].checked ? 1 : m.fields[e].title > m.fields[t].title ? 1 : -1
                    }).forEach(function(i) {
                        !m.fields[i] || m.fields[i].fixed || m.fields[i].disabled || m.fields[i].hideSetupColumn || t(i).appendTo(e)
                    }),
                    e.find(".js-field-checkbox").on("change", function(e) {
                        var t, n = $(e.currentTarget), o = n.attr("name");
                        m.fields[o].checked = n.prop("checked"),
                        t = m.fields[o].checked ? i._view._table.fieldsOrder.concat(o) : i._view._table.fieldsOrder.filter(function(e) {
                            return e !== o
                        }),
                        i._model.preventPrevScanRequest(),
                        i._model.fieldSetChanged.fire(t.filter(function(e) {
                            return m.fields[e] && !0 !== m.fields[e].disabled && !0 !== m.fields[e].hiddenColumn
                        })),
                        i._model.update(),
                        i._view.$fieldSetsButton.toggleClass("tv-screener-toolbar__button--unsaved", i._model.isFieldSetChanged())
                    })
                }
            }, {
                key: "setPopup",
                value: function(e, t, i) {
                    var n, o, s;
                    return e.addClass("tv-dropdown-behavior__button"),
                    n = $('<div class="' + (t || "") + '">'),
                    n.insertAfter(e).append(e),
                    o = $('<div class="tv-dropdown__body tv-dropdown__body--over-trigger tv-dropdown-behavior__body tv-screener-popup i-hidden">').appendTo(n),
                    i && o.addClass(i),
                    s = $('<div class="tv-dropdown-behavior__scroll js-container">').appendTo(o),
                    $('<div class="tv-screener-popup__items-wrap tv-dropdown-behavior__inscroll js-content">').appendTo(s),
                    this._view.setDropdownToolbarBehavior(n),
                    n.on("beforeOpenMenu", function() {
                        s.css("maxHeight", $(window).height() - e.offset().top + $(window).scrollTop() - p)
                    }).tvDropdown({
                        scroll: !0
                    })
                }
            }, {
                key: "setFieldSetsPopup",
                value: function(e) {
                    var t, i = this, n = this.setPopup(e, "tv-screener-toolbar__button-wrap");
                    n.tvDropdown("disable"),
                    t = n.find(".js-content"),
                    t.on("click", ".js-set", function(e) {
                        var o, s = $(e.currentTarget);
                        t.find(".js-item-active").removeClass("tv-screener-popup__item--active js-item-active"),
                        s.addClass("tv-screener-popup__item--active js-item-active"),
                        o = s.attr("data-set"),
                        i._model.applyFieldSet(o),
                        i._view.adjustToolbarWidth(),
                        n.tvDropdown("close")
                    }).on("click", ".js-set-delete", function(e) {
                        var t = $(e.currentTarget)
                          , o = i._model.getFieldSetById(t.parent().attr("data-set"))
                          , s = TradingView.clean(o.title)
                          , r = i._model.currentFieldSetId() === o.id;
                        i.showConfirm($.t("Do you really want to delete Column Set '{0}' ?").format(s), function() {
                            i._model.saveFieldSet({
                                id: o.id,
                                delete: 1
                            }, "Delete field set").then(function() {
                                i._model.removeFavoriteFieldSet(o.id),
                                r && i._model.applyFieldSet(i._model.defaultFieldSets[0].id, null, !0),
                                i._view.adjustToolbarWidth()
                            })
                        }),
                        n.tvDropdown("close"),
                        e.stopPropagation()
                    }).on("click", ".js-set-star", function(e) {
                        var t = $(e.currentTarget)
                          , n = t.parent().attr("data-set");
                        t.parent().toggleClass("tv-screener-popup__item--favorite"),
                        i._model.addFavoriteFieldSet(n),
                        e.stopPropagation()
                    }).on("click", ".js-set-star-active", function(e) {
                        var t = $(e.currentTarget)
                          , n = t.parent().attr("data-set");
                        t.parent().toggleClass("tv-screener-popup__item--favorite"),
                        i._model.removeFavoriteFieldSet(n),
                        e.stopPropagation()
                    }).on("click", ".js-set-rename", function(e) {
                        var t = $(e.currentTarget)
                          , o = t.parent().attr("data-set")
                          , s = i._model.getFieldSetById(o);
                        i.showPrompt({
                            title: $.t("Rename Columns Set"),
                            label: $.t("Enter a new columns set name:")
                        }, s.title, function(e) {
                            (e = TradingView.clean(e)) && e !== s.title && (i._model.saveFieldSet({
                                id: s.id,
                                title: e
                            }, "Rename field set"),
                            i._view.$fieldSetsButton.removeClass("tv-screener-toolbar__button--active js-no-pointer-events"),
                            i._model.currentFieldSetId() == s.id && i._view.$fieldSetsButton.text(e))
                        }),
                        n.tvDropdown("close"),
                        e.stopPropagation()
                    }).on("click", ".js-save", function(e) {
                        i.confirmAndSaveCurrentFieldSet().then(function(e) {
                            var t, n = i._model.getFieldSetById(e.id);
                            TVSettings.setValue(i._model.settingKey + ".fieldSetId", e.id, {
                                forceFlush: !0
                            }),
                            i._view.$fieldSetsButton.text(n.title),
                            t = i.$favoritesBar && i.$favoritesBar.find(".js-favorite-item[data-set=" + e.id + "]") || $(),
                            t.size() && t.removeClass("tv-screener-toolbar__favorites-item--active")
                        }).catch(function(e) {
                            e && u.logError(e)
                        }),
                        n.tvDropdown("close")
                    }),
                    this._model.loadingComplete.subscribe(null, function() {
                        n.tvDropdown("enable")
                    }, !0),
                    n.on("beforeOpenMenu", function() {
                        return i.setFieldSetsPopupContent(t)
                    })
                }
            }, {
                key: "setFieldSetsPopupContent",
                value: function(e) {
                    var t, n = this;
                    e.empty(),
                    $('<div class="tv-control-select__option-wrap tv-screener-popup__item tv-screener-popup__item--save js-save">' + $.t("Save Columns As...") + "</div>").prepend($(i(1831)).attr({
                        class: "tv-screener-toolbar__button-icon",
                        width: "20",
                        height: "14",
                        style: "top: -2px; margin-right: 10px;"
                    })).appendTo(e),
                    t = $('<div class="tv-screener-popup__item--presets"></div>').appendTo(e),
                    this._model.settings.fieldSets.forEach(function(e) {
                        $('<div class="tv-dropdown-behavior__item">\n\t\t\t\t<div data-set="' + e.id + '"  class="tv-control-select__option-wrap tv-screener-popup__item tv-screener-popup__item--preset js-set" title="' + TradingView.clean(e.title) + '">\n\t\t\t\t\t' + TradingView.clean(e.title) + '\n\t\t\t\t\t<span class="tv-screener-popup__item-delete js-set-delete" title="' + $.t("Delete") + '">\n\t\t\t\t\t\t' + i(1346) + '\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="tv-screener-popup__item-rename js-set-rename" title="' + $.t("Rename") + '">\n\t\t\t\t\t\t' + i(1448) + '\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="tv-screener-popup__item-star-active js-set-star-active" title="' + $.t("Remove from favorites") + '">\n\t\t\t\t\t\t' + i(735) + '\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="tv-screener-popup__item-star js-set-star" title="' + $.t("Add to favorites") + '">\n\t\t\t\t\t\t' + i(837) + "\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>").appendTo(t).find(".js-set").toggleClass("tv-screener-popup__item--favorite", -1 !== n._model.favoriteFieldSets.indexOf(e.id))
                    }),
                    this._model.defaultFieldSets.forEach(function(t) {
                        $('<div class="tv-dropdown-behavior__item">\n\t\t\t\t<div data-set="' + t.id + '" class="tv-control-select__option-wrap tv-screener-popup__item js-set">\n\t\t\t\t\t' + t.title + '\n\t\t\t\t\t<span class="tv-screener-popup__item-star-active js-set-star-active" title="' + $.t("Remove from favorites") + '">\n\t\t\t\t\t\t' + i(735) + '\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="tv-screener-popup__item-star js-set-star" title="' + $.t("Add to favorites") + '">\n\t\t\t\t\t\t' + i(837) + "\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>").appendTo(e).find(".js-set").toggleClass("tv-screener-popup__item--favorite", -1 !== n._model.favoriteFieldSets.indexOf(t.id))
                    }),
                    e.find('[data-set="' + this._model.currentFieldSetId() + '"]').addClass("tv-screener-popup__item--active js-item-active")
                }
            }, {
                key: "confirmAndSaveCurrentFieldSet",
                value: function() {
                    var e, t, i, n, o = this, s = this._model.getFieldSetById(this._model.currentFieldSetId()), r = this._view._table.fieldsOrder.slice(0);
                    return !m.fields.type.disabled && m.fields.type.checked && -1 !== (e = r.indexOf("name")) && r.splice(e + 1, 0, "type"),
                    !m.fields.description.disabled && m.fields.description.checked && -1 !== (t = r.indexOf("name")) && r.splice(t + 1, 0, "description"),
                    i = JSON.stringify(r),
                    n = s && !this._model.defaultFieldSets.find(function(e) {
                        return e.id === s.id
                    }),
                    new Promise(function(e, t) {
                        runOrSignIn(function() {
                            return o.showPrompt({
                                title: $.t("Save Columns As"),
                                label: $.t("Enter a new columns set name:")
                            }, s && TradingView.clean(s.title, !0) || "", function(r) {
                                var a = {
                                    title: TradingView.clean(r),
                                    content: i
                                }
                                  , l = "Create field set";
                                n && s.title === r && (a.id = s.id,
                                l = "Update field set"),
                                o._model.saveFieldSet(a, l).then(e, t)
                            }, t)
                        })
                    }
                    )
                }
            }, {
                key: "setFilterSetsPopup",
                value: function(e, t) {
                    var i, n = this, o = this.setPopup(e, "tv-screener-toolbar__button-wrap", "tv-dropdown__body--position_right tv-dropdown-behavior__body--from_top-right");
                    o.tvDropdown("disable"),
                    i = o.find(".js-content"),
                    i.on("click", ".js-set", function(e) {
                        var t = $(e.currentTarget);
                        i.find(".js-item-active").removeClass("tv-screener-popup__item--active js-item-active"),
                        t.addClass("tv-screener-popup__item--active js-item-active"),
                        n._view.$filterSetsButton.toggleClass("i-disabled", !0),
                        new Promise(function(e) {
                            n._model.isFilterSetChanged() ? n.showConfirm($.t("You have unsaved changes in current Screen. Do you want to save it?"), function() {
                                return setTimeout(function() {
                                    n.confirmAndSaveCurrentFilterSet().then(e)
                                }, 0)
                            }, e) : e()
                        }
                        ).then(function() {
                            n._model.applyFilterSet(TradingView.clean(t.attr("data-set"), !0)),
                            n._view.$filterSetsButton.toggleClass("i-disabled", !1)
                        }),
                        setTimeout(function() {
                            return o.tvDropdown("close")
                        }, 200)
                    }).on("click", ".js-set-delete", function(e) {
                        var t = $(e.currentTarget)
                          , i = n._model.getFilterSetById(t.parent().attr("data-set"))
                          , s = TradingView.clean(i.title)
                          , r = n._model.currentFilterSetId() === i.id;
                        n.showConfirm($.t("Do you really want to delete Screen '{0}' ?").format(TradingView.clean(s)), function() {
                            n._model.saveFilterSet({
                                id: i.id,
                                delete: 1
                            }, "Delete filter set").then(function() {
                                if (r) {
                                    var e = n._model.defaultFilterSets.find(function(e) {
                                        return !0 !== e.disabled
                                    }) || n._model.defaultFilterSets[0];
                                    n._model.applyFilterSet(e.id)
                                }
                            })
                        }),
                        o.tvDropdown("close"),
                        e.stopPropagation()
                    }).on("click", ".js-set-rename", function(e) {
                        var t = $(e.currentTarget)
                          , i = t.parent().attr("data-set")
                          , s = n._model.getFilterSetById(i);
                        n.showPrompt({
                            title: $.t("Rename Screens"),
                            label: $.t("Enter a new screen name:")
                        }, s.title, function(e) {
                            (e = TradingView.clean(e)) && e !== s.title && (n._model.saveFilterSet({
                                id: s.id,
                                title: e
                            }, "Rename filter set"),
                            n._view.$filterSetsButton.removeClass("tv-screener-toolbar__button--active js-no-pointer-events"),
                            n._model.currentFilterSetId() == s.id && n._view.$filterSetsButtonTitle.text(e))
                        }),
                        o.tvDropdown("close"),
                        e.stopPropagation()
                    }).on("click", ".js-save", function(e) {
                        n.confirmAndSaveCurrentFilterSet().then(function(e) {
                            void 0 !== e.id ? (TVSettings.setValue(n._model.settingKey + ".filterSetId", e.id, {
                                forceFlush: !0
                            }),
                            n._view.$filterSetsButtonTitle.text(n._model.getFilterSetById(e.id).title)) : u.logError("Unable to get id of created set")
                        }).catch(function(e) {
                            e && u.logError(e)
                        }),
                        o.tvDropdown("close")
                    }).on("click", ".js-set-alert", function(e) {
                        var t = $(e.currentTarget)
                          , i = t.parent().attr("data-set");
                        n._view.toggleAlert.fire(i),
                        t.is(".js-active") || o.tvDropdown("close"),
                        e.stopPropagation()
                    }),
                    this.$filterSetsPopupContent = i,
                    this._model.loadingComplete.subscribe(null, function() {
                        o.tvDropdown("enable")
                    }, !0),
                    o.on("beforeOpenMenu", function() {
                        n.setFilterSetsPopupContent(t),
                        t && n.updateFilterSetsPopupAlerts(n._model.alerts.getFilterSetIdsWithRunningAlerts())
                    })
                }
            }, {
                key: "updateFilterSetsPopupAlerts",
                value: function(e) {
                    this.$filterSetsPopupContent && this.$filterSetsPopupContent.find(".js-set").each(function() {
                        var t = $(this)
                          , i = t.attr("data-set")
                          , n = e.indexOf(i) > -1;
                        t.find(".js-set-alert").toggleClass("tv-screener-popup__item-alert-toggle--active js-active", n).attr("title", n ? $.t("Disable Alert") : $.t("Enable Alert"))
                    })
                }
            }, {
                key: "setFilterSetsPopupContent",
                value: function(e) {
                    var t, n = this.$filterSetsPopupContent;
                    n.empty(),
                    $('<div class="tv-control-select__option-wrap tv-screener-popup__item tv-screener-popup__item--save tv-screener-popup__item--space-left js-save">' + $.t("Save Screens As...") + "</div>").prepend($(i(1831)).attr({
                        class: "tv-screener-toolbar__button-icon",
                        width: "20",
                        height: "14",
                        style: "top: -2px; margin-right: 10px;"
                    })).appendTo(n),
                    t = $('<div class="tv-screener-popup__item--presets"></div>').appendTo(n),
                    this._model.settings.filterSets.forEach(function(n) {
                        $('<div class="tv-dropdown-behavior__item">\n\t\t\t\t<div data-set="' + n.id + '" class="tv-control-select__option-wrap tv-screener-popup__item tv-screener-popup__item--preset tv-screener-popup__item--space-left js-set">\n\t\t\t\t\t' + TradingView.clean(n.title) + '\n\t\t\t\t\t<span class="tv-screener-popup__item-rename js-set-rename" title="' + $.t("Rename") + '">\n\t\t\t\t\t\t' + i(1448) + '\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="tv-screener-popup__item-delete tv-screener-popup__item-delete--right js-set-delete" title="' + $.t("Delete") + '">\n\t\t\t\t\t\t' + i(1346) + "\n\t\t\t\t\t</span>\n\t\t\t\t\t" + (e ? '<span class="tv-screener-popup__item-alert-toggle apply-common-tooltip js-set-alert">' + i(1836) + "</span>" : "") + "\n\t\t\t\t</div>\n\t\t\t</div>").appendTo(t)
                    }),
                    this._model.defaultFilterSets.forEach(function(t) {
                        t.disabled || $('<div class="tv-dropdown-behavior__item">\n\t\t\t\t<div data-set="' + t.id + '" class="tv-control-select__option-wrap tv-screener-popup__item tv-screener-popup__item--space-left js-set">\n\t\t\t\t\t' + t.title + "\n\t\t\t\t\t" + (e ? '<span class="tv-screener-popup__item-alert-toggle apply-common-tooltip js-set-alert">' + i(1836) + "</span>" : "") + "\n\t\t\t\t</div>\n\t\t\t</div>").appendTo(n)
                    }),
                    n.find('[data-set="' + this._model.currentFilterSetId() + '"]').addClass("tv-screener-popup__item--active js-item-active")
                }
            }, {
                key: "confirmAndSaveCurrentFilterSet",
                value: function() {
                    var e = this
                      , t = this._model.getFilterSetById(this._model.currentFilterSetId())
                      , i = JSON.stringify(this._model.currentFilterState())
                      , n = t && !this._model.defaultFilterSets.find(function(e) {
                        return e.id === t.id
                    });
                    return new Promise(function(o, s) {
                        runOrSignIn(function() {
                            return e.showPrompt({
                                title: $.t("Save Screens As"),
                                label: $.t("Enter a new screen name:")
                            }, TradingView.clean(t.title, !0), function(r) {
                                var a = {
                                    title: TradingView.clean(r),
                                    content: i
                                }
                                  , l = "Create filter set";
                                n && t.title === r && (a.id = t.id,
                                l = "Update filter set"),
                                e._model.saveFilterSet(a, l).then(o, s)
                            }, s)
                        })
                    }
                    )
                }
            }, {
                key: "setHiddenFavoritesPopup",
                value: function(e, t, i, n) {
                    var o, s, r, a, l;
                    return e.addClass("tv-dropdown-behavior__button"),
                    o = $('<div class="tv-screener-toolbar__favorites-more-wrap">'),
                    o.insertAfter(e).append(e),
                    s = $('<div class="tv-dropdown__body tv-dropdown__body--over-trigger tv-dropdown-behavior__body tv-dropdown__body--position_right tv-dropdown-behavior__body--from_top-right i-hidden">').appendTo(o),
                    r = $('<div class="tv-dropdown-behavior__scroll js-container">').appendTo(s),
                    a = $('<div class="tv-screener-popup__items-wrap tv-dropdown-behavior__inscroll js-content">').appendTo(r),
                    a.on("click", ".js-set", function(e) {
                        var t = $(e.currentTarget).attr("data-set");
                        n(t),
                        o.tvDropdown("close")
                    }),
                    l = function() {
                        a.empty(),
                        t().forEach(function(e) {
                            $('<div class="tv-dropdown-behavior__item">\n\t\t\t\t\t<div data-set="' + e.id + '" class="tv-control-select__option-wrap tv-screener-popup__item js-set">\n\t\t\t\t\t\t' + TradingView.clean(e.title) + "\n\t\t\t\t\t</div>\n\t\t\t\t</div>").toggleClass("tv-screener-popup__item--active", i(e.id)).appendTo(a)
                        }),
                        o.tvDropdown("updateScroll")
                    }
                    ,
                    this._view.setDropdownToolbarBehavior(o),
                    o.on("beforeOpenMenu", function() {
                        l(),
                        r.css("maxHeight", $(window).height() - e.offset().top + $(window).scrollTop() - p)
                    }).on("forceClose", function() {
                        return o.tvDropdown("close")
                    }).tvDropdown({
                        scroll: !0
                    })
                }
            }, {
                key: "setSelectPopup",
                value: function(e, t) {
                    var i = e.wrapClass
                      , n = e.buttonClass
                      , o = e.dropdownClass
                      , s = t.$dropdownContainer
                      , r = t.buttonTitle
                      , a = $('<div class="' + i + ' tv-dropdown tv-dropdown-behavior">')
                      , l = $('<div class="tv-dropdown__button tv-dropdown-behavior__button ' + n + '" title="' + r + '">').appendTo(a)
                      , c = $('<div class="tv-dropdown__body tv-dropdown-behavior__body tv-dropdown__body--over-trigger tv-dropdown__body--position_right tv-dropdown-behavior__body--from_top-right i-hidden ' + o + '">').appendTo(a)
                      , d = $('<div class="tv-dropdown-behavior__scroll js-container">').appendTo(c)
                      , h = $('<div class="tv-dropdown-behavior__inscroll js-content">').appendTo(d);
                    return a.on("beforeOpenMenu", function() {
                        d.css("maxHeight", $(window).height() - l.offset().top + $(window).scrollTop() - p)
                    }).on("forceClose", function() {
                        return a.tvDropdown("close")
                    }).tvDropdown({
                        scroll: !0,
                        $wrap: l,
                        $body: c
                    }),
                    s || this._view.setDropdownToolbarBehavior(a),
                    {
                        $wrap: a,
                        $button: l,
                        $dropdownBody: c,
                        $dropdownContent: h
                    }
                }
            }, {
                key: "setMarketsList",
                value: function(e) {
                    this._markets = e
                }
            }, {
                key: "setMarketSelectPopup",
                value: function(e, t) {
                    var i = this
                      , n = e.wrapClass
                      , o = e.buttonClass
                      , s = e.dropdownClass
                      , r = t.$dropdownContainer
                      , a = $('<div class="' + n + ' tv-dropdown tv-dropdown-behavior">')
                      , l = $('<div class="tv-dropdown__button tv-dropdown-behavior__button ' + o + '" title="' + $.t("Markets") + '">').appendTo(a)
                      , c = $('<div class="tv-dropdown__body tv-dropdown-behavior__body tv-dropdown__body--over-trigger tv-dropdown__body--position_right tv-dropdown-behavior__body--from_top-right i-hidden ' + s + '">').appendTo(a)
                      , h = $('<div class="tv-dropdown-behavior__scroll js-container">').appendTo(c)
                      , u = $('<div class="tv-dropdown-behavior__inscroll js-content">').appendTo(h)
                      , f = function() {
                        var e, t, n, o = Object.keys(i._markets).map(function(e) {
                            return i._markets[e].market = e,
                            i._markets[e]
                        });
                        o.sort(function(e, t) {
                            return "us" === e.flag && "us" !== t.flag ? -1 : "us" !== e.flag && "us" === t.flag ? 1 : e.title.localeCompare(t.title)
                        }),
                        u.empty();
                        for (e in o)
                            t = "forex" === i._model.screener_type ? "" : o[e].stocks.join(", "),
                            $('<div class="tv-dropdown-behavior__item">\n\t\t\t\t\t<div class="tv-control-select__option-wrap tv-screener-market-select__item ' + (o[e].market === i._model.market ? "tv-screener-market-select__item--active" : "") + ' js-dropdown__item" data-market="' + o[e].market + '">\n\t\t\t\t\t\t' + (0,
                            d.flagHtml)(o[e].flag) + '\n\t\t\t\t\t\t<span class="tv-screener-market-select__item-title">' + o[e].title + ("" === t ? "" : " (" + t + ")") + "</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>").appendTo(u);
                        n = {
                            flag: "forex" === i._model.screener_type ? "stock" : "forex",
                            title: "forex" === i._model.screener_type ? $.t("Switch to Stock Screener") : $.t("Switch to Forex Signal Finder"),
                            link: "forex" === i._model.screener_type ? "/screener/" : "/forex-signals/",
                            newType: "forex" === i._model.screener_type ? "stock" : "forex"
                        },
                        $('<hr class="tv-screener-market-select__item-separator">').appendTo(u),
                        i._bridge.standalone ? $('<div class="tv-dropdown-behavior__item">\n\t\t\t\t\t<a href="' + n.link + '" class="tv-control-select__option-wrap tv-screener-market-select__item">\n\t\t\t\t\t\t' + (0,
                        d.flagHtml)(n.flag) + '\n\t\t\t\t\t\t<span class="tv-screener-market-select__item-title">' + n.title + "</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>").appendTo(u) : $('<div class="tv-dropdown-behavior__item">\n\t\t\t\t\t<div class="tv-control-select__option-wrap tv-screener-market-select__item js-dropdown__switch-item" data-new-type="' + n.newType + '">\n\t\t\t\t\t\t' + (0,
                        d.flagHtml)(n.flag) + '\n\t\t\t\t\t\t<span class="tv-screener-market-select__item-title">' + n.title + "</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>").appendTo(u),
                        a.tvDropdown("updateScroll")
                    };
                    return a.on("beforeOpenMenu", function() {
                        f(),
                        h.css("maxHeight", $(window).height() - l.offset().top + $(window).scrollTop() - p)
                    }).on("forceClose", function() {
                        return a.tvDropdown("close")
                    }).tvDropdown({
                        scroll: !0,
                        $wrap: l,
                        $body: c
                    }),
                    r || this._view.setDropdownToolbarBehavior(a),
                    {
                        $wrap: a,
                        $button: l,
                        $dropdownBody: c,
                        $dropdownContent: u
                    }
                }
            }, {
                key: "updateRefreshIntervalsPopupContent",
                value: function() {
                    var e, t, i, n, o;
                    for (this.$filterRefreshIntervalsPopup.empty(),
                    e = this._view.refreshIntervals,
                    t = 0; t < e.length; ++t)
                        i = e[t],
                        n = null,
                        -1 === i ? n = $.t("Manual Refresh") : (o = i / 60 | 0,
                        n = 1 === o ? $.t("Refresh every minute") : o < 1 ? "forex" === this._model.screener_type ? $.t("Auto Refresh") : $.t("Refresh every second", {
                            plural: "Refresh every {0} seconds",
                            count: i
                        }).format(i) : $.t("Refresh every minutes", {
                            plural: "Refresh every {0} minutes",
                            count: o
                        }).format(o)),
                        $('<div class="tv-dropdown-behavior__item">\n\t\t\t\t<label class="tv-control-select__option-wrap tv-screener-popup__item js-interval">\n\t\t\t\t\t<span class="tv-control-radio">\n\t\t\t\t\t\t<input type="radio" name="interval" value="' + i + '" class="tv-control-radio__input">\n\t\t\t\t\t\t<span class="tv-control-radio__box"></span>\n\t\t\t\t\t\t<span class="tv-control-radio__ripple js-ripple"></span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="tv-control-radio__label tv-screener-popup__refresh-interval-label">' + n + "</span>\n\t\t\t\t</label>\n\t\t\t</div>").appendTo(this.$filterRefreshIntervalsPopup)
                }
            }, {
                key: "setRefreshIntervalsPopup",
                value: function(e) {
                    var t = this
                      , i = this.setPopup(e, "tv-screener-toolbar__button-wrap", "tv-screener-popup__refresh-intervals")
                      , n = i.find(".js-content");
                    this.$filterRefreshIntervalsPopup = n,
                    this.updateRefreshIntervalsPopupContent(),
                    i.on("beforeOpenMenu", function() {
                        n.find("input[value=" + t._model.refreshInterval + "]").prop("checked", !0)
                    }),
                    n.on("click", ".js-interval", function(e) {
                        var o, s;
                        e.preventDefault(),
                        o = $(e.currentTarget).find("input"),
                        s = +o.val(),
                        setTimeout(function() {
                            return i.tvDropdown("close")
                        }, a.dur / 2),
                        s !== t._model.refreshInterval && ("forex" === t._model.screener_type ? (n.find("input[value=" + s + "]").prop("checked", !0),
                        t._model.refreshInterval = s) : runOrSignIn(function() {
                            user.is_pro || -1 === s || (t._model.refreshInterval = -1,
                            c.createGoProDialog({
                                feature: "screenerAutoRefresh"
                            }).then(function(e) {
                                e.open()
                            })),
                            n.find("input[value=" + s + "]").prop("checked", !0),
                            t._model.refreshInterval = s
                        }))
                    })
                }
            }, {
                key: "setSelectIntervalContent",
                value: function(e, t) {
                    var i, n, o, s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : function() {}
                    ;
                    for (t.empty(),
                    i = this._model.selectedIntervalId,
                    n = 0; n < h.INTERVALS.length; ++n)
                        o = h.INTERVALS[n],
                        $('<div class="tv-dropdown-behavior__item">\n\t\t\t\t<div data-interval="' + o.id + '" title="' + o.title + '" class="tv-control-select__option-wrap tv-screener-popup__item js-select-interval ' + (o.id === i ? "tv-screener-popup__select-interval-active" : "") + '">\n\t\t\t\t\t' + o.shortTitle + "\n\t\t\t\t</div>\n\t\t\t</div>").appendTo(t);
                    e.on("afterOpenMenu", function() {
                        t.on("click", ".js-select-interval", function(n) {
                            var o, r;
                            n.preventDefault(),
                            o = $(n.currentTarget),
                            (r = (0,
                            h.getIntervalById)(o.data("interval"))) && i !== r.id && (i = r.id,
                            t.find(".tv-screener-popup__select-interval-active").removeClass("tv-screener-popup__select-interval-active"),
                            t.find("[data-interval='" + r.id + "']").addClass("tv-screener-popup__select-interval-active"),
                            s(r, n),
                            setTimeout(function() {
                                return e.tvDropdown("close")
                            }, a.dur / 2))
                        })
                    })
                }
            }, {
                key: "setAlertsPopup",
                value: function(e, t) {
                    var i, n, o = this;
                    return e.removeClass("tv-screener-toolbar__button--space_right").addClass("tv-dropdown-behavior__button js-prevent-dropdown"),
                    i = $('<div class="tv-screener-toolbar__button-wrap tv-screener-toolbar__button-wrap--space-right">'),
                    i.insertAfter(e).append(e),
                    n = $('<div class="tv-dropdown__body tv-dropdown__body--over-trigger tv-dropdown-behavior__body tv-dropdown__body--position_right tv-dropdown-behavior__body--from_top-right i-hidden">').appendTo(i),
                    t.on("close", function() {
                        return i.tvDropdown("close")
                    }).appendTo(n),
                    this._view.setDropdownToolbarBehavior(i),
                    e.on("click", function() {
                        return runOrSignIn(function() {
                            o._model.alerts.ready.then(function() {
                                return i.tvDropdown("open")
                            })
                        })
                    }),
                    i.tvDropdown()
                }
            }]),
            e
        }(),
        e.exports = f
    },
    2039: function(e, t, i) {
        "use strict";
        function n(e) {
            if (Array.isArray(e)) {
                for (var t = 0, i = Array(e.length); t < e.length; t++)
                    i[t] = e[t];
                return i
            }
            return Array.from(e)
        }
        function o(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        var s, r, a, l, c, d;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        s = function() {
            function e(e, t) {
                var i, n;
                for (i = 0; i < t.length; i++)
                    n = t[i],
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n)
            }
            return function(t, i, n) {
                return i && e(t.prototype, i),
                n && e(t, n),
                t
            }
        }(),
        i(1653),
        r = i(802),
        a = i(140),
        l = i(4),
        c = i(64),
        d = function() {
            function e(t) {
                var i = this;
                o(this, e),
                this._setOptions(t),
                this._fields = {},
                this._fieldsOrder = Array.isArray(t.fieldsOrder) && t.fieldsOrder || [],
                this.fieldsOrderChange = new l,
                this.afterFixCols = new l,
                this._additionalColumns = [],
                this._hiddenColumns = 0,
                this._debouncedFixCols = c(function() {
                    i._unhideColumns(),
                    i._fixCols()
                }, 50)
            }
            return s(e, [{
                key: "_setOptions",
                value: function(e) {
                    this._options = e || {},
                    this._model = this._options.model,
                    this._blockName = this._options.blockName || "tv-data-table",
                    this._defaultFormatter = this._options.defaultFormatter || function(e, t, i, n) {
                        return e
                    }
                    ,
                    this._nullFormatter = this._options.nullFormatter || function() {
                        return "&mdash;"
                    }
                    ,
                    this._widthChange = this._options.widthChange,
                    this._visible = this._options.visible,
                    this._noDataString = this._options.noDataString
                }
            }, {
                key: "_createTable",
                value: function() {
                    var e, t, i, n = this;
                    this._$element || (e = [this._blockName],
                    this._options.addTopClasses && (e = e.concat(this._options.addTopClasses)),
                    this._$element = $(document.createElement("table")).addClass(e.join(" ")),
                    this._$colgroup = $(document.createElement("colgroup")).appendTo(this._$element),
                    t = [this._blockName + "__thead"],
                    this._options.addTheadClasses && (t = t.concat(this._options.addTheadClasses)),
                    this._$thead = $(document.createElement("thead")).addClass(t.join(" ")).appendTo(this._$element),
                    i = [this._blockName + "__thead-row"],
                    this._options.addTheadRowClasses && (i = i.concat(this._options.addTheadRowClasses)),
                    this._$theadRow = $(document.createElement("tr")).addClass(i.join(" ")).appendTo(this._$thead),
                    this._$tbody = $(document.createElement("tbody")).addClass(this._blockName + "__tbody").appendTo(this._$element),
                    $(window).resize(function(e) {
                        n._debouncedFixCols()
                    }),
                    this._visible && this._visible.subscribe(function(e) {
                        e && n._fixCols()
                    }),
                    this._widthChange.subscribe(this, function() {
                        n._debouncedFixCols()
                    }))
                }
            }, {
                key: "_createStickyHeader",
                value: function() {
                    if (!this._$stickyWrapper) {
                        var e = [this._blockName + "-sticky-wrapper"];
                        this._options.addStickyHeaderWrapperClasses && (e = e.concat(this._options.addStickyHeaderWrapperClasses)),
                        this._$stickyWrapper = $(document.createElement("div")).addClass(e.join(" ")),
                        this._$stickyClone = this._$element.clone().appendTo(this._$stickyWrapper),
                        this._options.addStickyTheadClasses && this._$stickyClone.find("thead").addClass(this._options.addStickyTheadClasses.join(" "))
                    }
                }
            }, {
                key: "_updateFields",
                value: function() {
                    var e, t, i, n, o, s, r, a, l, c, d, h, u;
                    if (this._fieldsInvalidated) {
                        for (e = this._$stickyClone ? this._$stickyClone.find("thead tr:first-child") : this._$theadRow,
                        t = e.find(".js-search-input").val() || "",
                        i = e.children().detach(),
                        this._$colgroup.empty(),
                        n = 0; n < this._fieldsOrder.length; ++n) {
                            if (o = this._fieldsOrder[n],
                            s = [this._blockName + "__th", this._blockName + "__cell", "js-" + this._blockName + "-th", "js-" + this._blockName + "-th-" + this._esc(o)],
                            this._options.addThClasses && (r = "function" == typeof this._options.addThClasses ? this._options.addThClasses(o, this._fields[o]) : this._options.addThClasses,
                            s = s.concat(r)),
                            a = {
                                "data-field": o
                            },
                            this._options.addThAttrs) {
                                l = "function" == typeof this._options.addThAttrs ? this._options.addThAttrs(o, this._fields[o]) : this._options.addThAttrs;
                                for (c in l)
                                    a[c] = l[c]
                            }
                            d = i.filter(".js-" + this._blockName + "-th-" + this._esc(o)),
                            d.size() ? d.empty() : d = $(document.createElement("th")),
                            this._options.sortable && this._setDraggable(d),
                            d.attr(a).addClass(s.join(" ")),
                            h = "function" == typeof this._options.titleFormatter ? this._options.titleFormatter(o, this._fields[o]) : this._fields[o] && (this._fields[o].content || this._fields[o].title) || o,
                            h instanceof jQuery ? d.append(h) : d.html(h),
                            d.appendTo(e),
                            o === this._model.searchField && d.find(".js-search-input").val(t),
                            $(document.createElement("col")).addClass("js-" + this._blockName + "-col js-" + this._blockName + "-col-" + this._esc(o)).appendTo(this._$colgroup)
                        }
                        this._$stickyClone && (this._$stickyClone.find("colgroup").replaceWith(this._$colgroup.clone()),
                        u = e.clone(),
                        this._$theadRow.replaceWith(u),
                        this._$theadRow = u),
                        delete this._fieldsInvalidated
                    }
                }
            }, {
                key: "_setDraggable",
                value: function(e) {
                    var t, i, n = this;
                    e.is(".js-draggable") || (t = this._$stickyClone && this._$stickyClone.find("thead") || this._$thead,
                    i = !1,
                    e.addClass("js-draggable").on("mousedown touchstart", function(o) {
                        var s, r, a, l;
                        e.data("field") !== n._model.searchField && (o.preventDefault(),
                        e.css({
                            position: "relative",
                            left: 0
                        }),
                        s = e.offset().left,
                        r = s,
                        a = o.pageX,
                        l = function(o) {
                            var l, c, d, h, u, p, f, g, m, _, v, y, b, w, C, A, x, S = o.pageX - a;
                            if (!i) {
                                if (Math.abs(S) < 10)
                                    return;
                                n._onDragStart(e),
                                e.one("click touchend", function(e) {
                                    i && e.stopPropagation()
                                })
                            }
                            i = !0,
                            l = t.offset().left,
                            c = t.outerWidth(),
                            d = e.outerWidth(),
                            h = Math.max(t.offset().left, Math.min(l + c - d, s + S)),
                            u = h + d / 2,
                            p = $(),
                            f = !1,
                            g = e.prev(),
                            g.size() && (h <= l || u < g.offset().left + g.outerWidth() / 2) ? p = g : (m = e.next(),
                            m.size() && (h + d >= l + c || u > m.offset().left + m.outerWidth() / 2) && (p = m,
                            f = !0)),
                            _ = p.data("field"),
                            p.size() && "name" !== _ && (v = e.data("field"),
                            y = n._$colgroup.find(".js-" + n._blockName + "-col-" + n._esc(v)),
                            b = n._$colgroup.find(".js-" + n._blockName + "-col-" + n._esc(_)),
                            w = $(),
                            C = $(),
                            n._$stickyClone && (w = n._$stickyClone.find(".js-" + n._blockName + "-col-" + n._esc(v)),
                            C = n._$stickyClone.find(".js-" + n._blockName + "-col-" + n._esc(_))),
                            f ? (y.insertAfter(b),
                            w.size() && C.size() && w.insertAfter(C)) : (y.insertBefore(b),
                            w.size() && C.size() && w.insertBefore(C)),
                            A = $(),
                            x = $(),
                            n._$stickyClone && (A = n._$theadRow.find(".js-" + n._blockName + "-th-" + n._esc(v)),
                            x = n._$theadRow.find(".js-" + n._blockName + "-th-" + n._esc(_))),
                            f ? (e.insertAfter(p),
                            A.size() && x.size() && A.insertAfter(x)) : (e.insertBefore(p),
                            A.size() && x.size() && A.insertBefore(x)),
                            n._swapCols(v, _),
                            n._fixCols(),
                            r = A.offset().left),
                            e.css("left", h - r)
                        }
                        ,
                        $(window).on("mousemove touchmove", l).one("mouseup touchend", function(t) {
                            setTimeout(function() {
                                i = !1
                            }, 0),
                            e.css("left", "auto"),
                            $(window).off("mousemove touchmove", l),
                            i && n._onDragStop(e)
                        }))
                    }))
                }
            }, {
                key: "_onDragStart",
                value: function(e) {
                    var t = e.data("field")
                      , i = this._$colgroup.find(".js-" + this._blockName + "-col-" + this._esc(t));
                    this._options.addDraggingThClasses && e.addClass(this._options.addDraggingThClasses.join(" ")),
                    this._options.addDraggingColClasses && i.addClass(this._options.addDraggingColClasses.join(" "))
                }
            }, {
                key: "_swapCols",
                value: function(e, t) {
                    var i, n, o, s, r, a = this._fieldsOrder.indexOf(e), l = this._fieldsOrder.indexOf(t);
                    for (this._fieldsOrder[a] = this._fieldsOrder.splice(l, 1, this._fieldsOrder[a])[0],
                    this._thContentSizes[a] = this._thContentSizes.splice(l, 1, this._thContentSizes[a])[0],
                    this._thSizes[a] = this._thSizes.splice(l, 1, this._thSizes[a])[0],
                    this._colSizes[a] = this._colSizes.splice(l, 1, this._colSizes[a])[0],
                    this._fieldsOrderChanged = !0,
                    i = Math.min(a, l),
                    n = Math.max(a, l),
                    o = this._$tbody.children().toArray(),
                    s = 0; s < o.length; ++s)
                        r = o[s],
                        $(r.childNodes[n]).replaceWith($(r.childNodes[i])).insertBefore($(r.childNodes[i]))
                }
            }, {
                key: "_onDragStop",
                value: function(e) {
                    var t = e.data("field")
                      , i = this._$colgroup.find(".js-" + this._blockName + "-col-" + this._esc(t));
                    this._options.addDraggingThClasses && e.removeClass(this._options.addDraggingThClasses.join(" ")),
                    this._options.addDraggingColClasses && i.removeClass(this._options.addDraggingColClasses.join(" ")),
                    this._fieldsOrderChanged && (this.fieldsOrderChange.fire(),
                    delete this._fieldsOrderChanged)
                }
            }, {
                key: "_fixCols",
                value: function(e) {
                    var t, i = this, n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    if ("big" !== this._options.table_style && ($(".tv-screener__symbol").css("display", "inline").css("width", "auto"),
                    t = Math.max.apply(Math, $(".tv-screener__symbol").map(function(e, t) {
                        return $(t).width()
                    }).get()),
                    $(".tv-screener__symbol").css("display", "inline-block").css("width", t),
                    this._$theadRow.children().each(function(e) {
                        var t = i.$tbody.find(".tv-data-table__row .tv-data-table__cell:nth-child(" + (e + 1) + ") .tv-screener-table__signal")
                          , n = Math.max.apply(Math, t.map(function(e, t) {
                            return $(t).width()
                        }).get());
                        n > 0 && t.css("width", n)
                    })),
                    e ? this._$theadRow.children().each(function(e) {
                        var t = i.$tbody.find(".tv-data-table__row .tv-data-table__cell:nth-child(" + (e + 1) + ")");
                        t.css("max-width", i._colSizes[e]),
                        t.width(i._colSizes[e])
                    }) : (this._thContentSizes = [],
                    this._thSizes = [],
                    this._colSizes = [],
                    this._$theadRow.children().each(function(e, t) {
                        $(t).css("min-width", 0).css("max-width", "")
                    }),
                    this._$theadRow.children().each(function(e, t) {
                        var n = $(t)
                          , o = n.data("field");
                        i._fields[o] && n.find(".js-head-left").contents().each(function(e, t) {
                            3 === t.nodeType && (t.data = i._fields[o].shortTitle)
                        })
                    }),
                    n && this._$theadRow.find(".js-head-left").contents().each(function(e, t) {
                        3 === t.nodeType && (t.data = "–")
                    }),
                    this._$theadRow.children().each(function(e, t) {
                        var n, o = $(t);
                        i._thContentSizes.push(o.find(".js-head-left")[0].getBoundingClientRect().width),
                        i._thSizes.push(o[0].getBoundingClientRect().width),
                        n = i.$tbody.find(".tv-data-table__row .tv-data-table__cell:nth-child(" + (e + 1) + ")"),
                        i._colSizes.push(n.width())
                    })),
                    this._$stickyClone) {
                        if (this._$stickyClone.find(".js-" + this._blockName + "-th").each(function(e, t) {
                            var n = $(t);
                            n.css({
                                "max-width": i._thSizes[e]
                            }),
                            n.find(".js-head-left").css("width", i._thContentSizes[e])
                        }),
                        this._$element[0].getBoundingClientRect().width > this._$element.parent()[0].getBoundingClientRect().width && !n)
                            return void this._fixCols(e, !0);
                        this._$stickyClone.find(".tv-screener-table__sort--asc, .tv-screener-table__sort--desc").each(function(e, t) {
                            var i, n, o = $(t);
                            o.css("left", "auto").removeClass("js-hidden"),
                            i = o.parent(),
                            n = o.position(),
                            n.left > i.outerWidth() && o.css("left", i.outerWidth())
                        }),
                        setTimeout(function() {
                            i._$stickyClone.find(".js-" + i._blockName + "-th").each(function(e, t) {
                                var n, o, s, r = $(t), a = r.data("field");
                                i._fields[a] && (r.find(".js-head-left")[0].offsetWidth < r.find(".js-head-left")[0].scrollWidth ? r.find(".js-head-wrap").attr("title", i._fields[a].title).addClass("apply-common-tooltip").addClass("common-tooltip-fixed") : i._fields[a].title === i._fields[a].shortTitle && r.find(".js-head-wrap").removeClass("apply-common-tooltip"),
                                a === i._model.searchField && (n = r.find(".js-search-query"),
                                o = r.find(".js-table-sort").position().left - 10,
                                s = r.find(".js-field-total").width(),
                                o > s && n.css("margin-left", o - s + 39)))
                            })
                        }, 0),
                        "big" === this._options.table_style && this._$stickyClone.width() > this._$element.parent().width() && window.innerWidth > a.breakpoints.tablet && (this._hideColumn(this._fieldsOrder.length - this._hiddenColumns),
                        this._hiddenColumns++,
                        this._fixCols())
                    }
                    this.afterFixCols.fire()
                }
            }, {
                key: "_hideColumn",
                value: function(e) {
                    this._$stickyClone && this._$stickyClone.find("th:nth-child(" + e + ")").addClass("js-hidden"),
                    this._$thead.find("th:nth-child(" + e + ")").add(this._$tbody.find("td:nth-child(" + e + ")")).addClass("js-hidden"),
                    this._$tbody.find("td:nth-child(" + (e - 1) + ")").addClass("tv-screener-table__cell--last")
                }
            }, {
                key: "_unhideColumns",
                value: function() {
                    "big" === this._options.table_style && (this._hiddenColumns = 0,
                    this._$stickyClone && this._$stickyClone.find(".js-hidden").removeClass("js-hidden"),
                    this._$thead.find(".js-hidden").add(this._$tbody.find(".js-hidden")).removeClass("js-hidden"),
                    this._$tbody.find(".tv-screener-table__cell--last").removeClass("tv-screener-table__cell--last"))
                }
            }, {
                key: "toggleSignals",
                value: function(e) {
                    var t, i, n = this._fields[e];
                    n.displaySignal = !n.displaySignal,
                    (t = this._fieldsOrder.indexOf(e)) > 0 && (i = this.$tbody.find(".tv-data-table__row .tv-data-table__cell:nth-child(" + (t + 1) + ") .tv-screener-table__signal"),
                    n.displaySignal ? i.removeClass("i-hidden") : i.addClass("i-hidden"),
                    this._fixCols())
                }
            }, {
                key: "setFields",
                value: function(e, t) {
                    var i = this;
                    this._fieldsOrder = Object.keys(e),
                    this._fields = {},
                    this._additionalColumns = [],
                    this._fieldsOrder.forEach(function(t) {
                        i._fields[t] = e[t],
                        e[t] && e[t].additionalColumns && e[t].additionalColumns.forEach(function(e) {
                            i._additionalColumns.includes(e) || i._additionalColumns.push(e)
                        })
                    }),
                    this.fieldsOrderChange.fire(),
                    this._fieldsInvalidated = !0,
                    t && this._$element && this._updateFields()
                }
            }, {
                key: "update",
                value: function(e, t) {
                    delete this._hasData,
                    this._hiddenColumns = 0,
                    this._createTable(),
                    this._unhideColumns(),
                    this._updateFields(),
                    this._$tbody.empty(),
                    this.append(e, t)
                }
            }, {
                key: "append",
                value: function(e, t) {
                    var i, o, s, a = this;
                    if (Array.isArray(e)) {
                        for (this._createTable(),
                        this._$emptyMessage && this._$emptyMessage.remove(),
                        e.length ? this._hasData = !0 : this._noDataString && (this._$emptyMessage = $('<div class="tv-screener-table__empty-message">' + this._noDataString + "</div>").insertAfter(this._$element)),
                        i = "",
                        o = function(t) {
                            var o, s, l, c, d, h, u, p, f, g, m, _, v, y, b, w, $, C, A = e[t];
                            if (!Array.isArray(A.d))
                                return "continue";
                            if (o = [a._blockName + "__row"],
                            a._options.addRowClasses && (s = "function" == typeof a._options.addRowClasses ? a._options.addRowClasses(A) : a._options.addRowClasses,
                            o = o.concat(s)),
                            l = "",
                            a._options.addRowAttrs) {
                                c = "function" == typeof a._options.addRowAttrs ? a._options.addRowAttrs(A) : a._options.addRowAttrs;
                                for (d in c)
                                    l += " " + d + '="' + c[d] + '"'
                            }
                            for (i += '<tr class="' + o.join(" ") + '"' + l + ">",
                            h = 0; h < A.d.length; ++h)
                                if (u = a._fieldsOrder[h],
                                p = a._fields[u]) {
                                    if (f = (0,
                                    r.getFieldFormatter)(p, a._model.screener_type, !1),
                                    g = null === A.d[h] ? a._nullFormatter() : f && f.format(A.d[h]) || a._defaultFormatter(A.d[h], u, p, A),
                                    m = [a._blockName + "__cell"],
                                    a._options.addCellClasses && (_ = "function" == typeof a._options.addCellClasses ? a._options.addCellClasses(A.d[h], u, p, A) : a._options.addCellClasses,
                                    m = m.concat(_)),
                                    a._hiddenColumns && h > 0 && h >= a._fieldsOrder.length - a._hiddenColumns && m.push("js-hidden"),
                                    v = "",
                                    a._options.addCellAttrs) {
                                        y = "function" == typeof a._options.addCellAttrs ? a._options.addCellAttrs(A.d[h], u, p, A) : a._options.addCellAttrs;
                                        for (b in y)
                                            v[b] = y[b]
                                    }
                                    w = p.additionalColumns ? p.additionalColumns.map(function(e) {
                                        return A.d[a._additionalColumns.indexOf(e) + a._fieldsOrder.length]
                                    }) : [],
                                    $ = p.additionalFormatter ? p.additionalFormatter.apply(p, n(w)) : "",
                                    p.mutateDisplayValue && (g = p.mutateDisplayValue.apply(p, [g].concat(n(w), [p]))),
                                    C = "",
                                    p.tooltip && ("function" == typeof p.tooltip && (C = p.tooltip.apply(p, n(w))),
                                    "string" == typeof p.tooltip && (C = p.tooltip)),
                                    i += '<td class="' + m.join(" ") + '"' + v + (C ? ' title="' + C + '"' : "") + ">" + g + $ + "</td>"
                                }
                            i += "</tr>"
                        }
                        ,
                        s = 0; s < e.length; ++s) {
                            o(s)
                        }
                        this._$tbody.get(0).insertAdjacentHTML("beforeend", i),
                        this._fixCols(t)
                    }
                }
            }, {
                key: "clearData",
                value: function(e, t) {
                    var i, n, o;
                    if (this._$tbody)
                        if ("number" == typeof e || "number" == typeof t)
                            for (e = isFinite(+e) && +e || 0,
                            t = isFinite(+t) && +t || 1 / 0,
                            i = this._$tbody.children(),
                            n = i.size(),
                            o = e; o < n && o < t; ++o)
                                i.eq(o).remove();
                        else
                            this._$tbody.empty()
                }
            }, {
                key: "setThContent",
                value: function(e, t, i) {
                    var n, o = this.getTh(e);
                    o.size() && (o.empty(),
                    t instanceof jQuery ? o.append(t) : o.html(t),
                    this._$stickyClone && (n = this._$theadRow.find(".js-" + this._blockName + "-th-" + this._esc(e)),
                    n.replaceWith(o.clone())),
                    this._fixCols(i))
                }
            }, {
                key: "getTh",
                value: function(e) {
                    var t = this.$theadRow;
                    return t && t.find(".js-" + this._blockName + "-th-" + this._esc(e)) || $()
                }
            }, {
                key: "_esc",
                value: function(e) {
                    return e.replace(/\./g, "_")
                }
            }, {
                key: "$element",
                get: function() {
                    return this._createTable(),
                    this._$element
                }
            }, {
                key: "$tbody",
                get: function() {
                    return this._createTable(),
                    this._$tbody
                }
            }, {
                key: "$stickyHeader",
                get: function() {
                    return this._createTable(),
                    this._createStickyHeader(),
                    this._$stickyWrapper
                }
            }, {
                key: "$theadRow",
                get: function() {
                    return this._$stickyClone ? this._$stickyClone.find("thead tr:first-child") : this._$theadRow
                }
            }, {
                key: "additionalColumns",
                get: function() {
                    return this._additionalColumns
                }
            }, {
                key: "fieldsOrder",
                get: function() {
                    return this._fieldsOrder
                }
            }]),
            e
        }(),
        t.default = d,
        e.exports = t.default
    },
    2040: function(e, t, i) {
        "use strict";
        function n(e) {
            var t, i;
            if (e && e.__esModule)
                return e;
            if (t = {},
            null != e)
                for (i in e)
                    Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
            return t.default = e,
            t
        }
        function o(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        var s, r, a, l, c, d, h, u, p, f, g, m, _, v, y, b, w, C, A, x, S, k, F, E, T, D, B, M, L, R, I, P, O, N, W, V, z;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.ScreenerView = void 0,
        s = Object.assign || function(e) {
            var t, i, n;
            for (t = 1; t < arguments.length; t++) {
                i = arguments[t];
                for (n in i)
                    Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n])
            }
            return e
        }
        ,
        r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        ,
        a = function() {
            function e(e, t) {
                var i, n;
                for (i = 0; i < t.length; i++)
                    n = t[i],
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n)
            }
            return function(t, i, n) {
                return i && e(t.prototype, i),
                n && e(t, n),
                t
            }
        }(),
        i(863),
        i(1847),
        i(2003),
        i(1356),
        i(1652),
        i(1650),
        i(1653),
        i(1999),
        i(2002),
        i(1651),
        l = i(7),
        c = n(l),
        d = i(140),
        h = i(22),
        u = n(h),
        p = i(212),
        f = n(p),
        g = i(1951),
        m = i(802),
        _ = i(745),
        v = i(44),
        y = i(73),
        b = n(y),
        w = i(608),
        C = i(26),
        A = i(183),
        x = i(885),
        S = i(38),
        i(59),
        k = i(4),
        F = i(2039),
        E = i(2038),
        T = i(2037),
        D = i(64),
        B = i(1).getLogger("Screener.View"),
        M = i(2032),
        L = M.operators,
        R = M.fields,
        I = [-1, 10, 60],
        P = [-1, 1],
        O = '<div class="tv-screener-table__search-query js-search-query ' + (m.fields.description.disabled || !m.fields.description.checked ? "tv-screener-table__search-query--without-description" : "") + '">\n\t\t<input\n\t\t\ttype="text"\n\t\t\tautocomplete="off"\n\t\t\tclass="tv-screener-table__search-input js-search-input"\n\t\t/>\n\t\t<span class="tv-search-bar__search-icon tv-screener-table__search-icon">' + i(2251) + '</span>\n\t\t<span class="tv-search-bar__input-reset tv-screener-table__input-reset i-hidden js-input-reset">' + i(1642) + "</span>\n\t</div>",
        N = -15,
        W = 35,
        V = 16,
        z = 45,
        t.ScreenerView = function() {
            function e(t, i) {
                var n, s, r = this;
                o(this, e),
                this._bridge = t,
                this._model = i,
                this._focusSearch = !1,
                this.sortedFields = Object.keys(m.fields).sort(function(e, t) {
                    return m.fields[e].title > m.fields[t].title ? 1 : -1
                }),
                this._popups = new E(i,this,t),
                this._dialog = new T(i,this,t),
                this._stickyHeader = !t.no_sticky_header,
                this._periodPicker = t.period_picker,
                this._noDataString = t.no_data_string,
                this._periodPickerButtons = [{
                    id: "yesterday",
                    title: $.t("Yesterday")
                }, {
                    id: "today",
                    title: $.t("Today")
                }, {
                    id: "tomorrow",
                    title: $.t("Tomorrow")
                }, {
                    id: "this_week",
                    title: $.t("This Week")
                }, {
                    id: "next_week",
                    title: $.t("Next Week")
                }],
                this.toggleAlert = new k,
                this._fields_order = TVSettings.getJSON(this._model.settingKey + ".fields_order", []),
                this._data = [],
                this._lastSetId = null,
                this._openedDropdownCount = 0,
                this.widthChange = new k,
                this._bridge.width && this._bridge.width.subscribe(function() {
                    r.widthChange.fire()
                }),
                this._$groupSelect = null,
                this._preventHighlightChanges = !1,
                this._table = new F({
                    model: i,
                    fieldsOrder: this._fields_order,
                    sortable: !0,
                    titleFormatter: function(e, t) {
                        return r._getThContent(e, t)
                    },
                    defaultFormatter: function(e, t, i, n) {
                        var o;
                        return "name" === t ? (o = {
                            proName: n.s,
                            type: "crypto" === r._model.screener_type ? "bitcoin" : r._model.screener_type
                        },
                        '<a class="tv-screener__symbol" href="' + (0,
                        w.getSymbolPagePath)(o) + '" target="_blank">\n\t\t\t\t\t\t' + e + "\n\t\t\t\t\t</a>") : -1 !== ["description", "industry"].indexOf(t) ? '<span class="tv-screener-table__cell--fix-width" title="' + e + '">' + e + "</span>" : "sector" === t && "crypto_mkt" === r._model.screener_type ? '<a class="tv-screener__symbol" href="/markets/cryptocurrencies/quotes-' + e.replace(/\s/g, "-").toLowerCase() + '/">\n\t\t\t\t\t\t' + e + "\n\t\t\t\t\t</a>" : e
                    },
                    blockName: "tv-data-table",
                    addTopClasses: ["tv-screener-table"],
                    addTheadClasses: ["tv-screener-table__thead"],
                    addTheadRowClasses: ["tv-data-table__stroke", "tv-screener-table__head"],
                    addThClasses: ["tv-data-table__sortable", "tv-screener-table__sortable", "tv-screener-table__th", this._bridge.table_style ? "tv-screener-table__th--" + this._bridge.table_style : ""],
                    addRowClasses: function(e) {
                        var t = ["tv-data-table__stroke", "tv-screener-table__result-row"];
                        return S.proSymbol.value() === e.s && t.push("tv-screener-table__result-row--active"),
                        t
                    },
                    addCellClasses: function(e, t, i, n) {
                        var o = ["tv-screener-table__cell"];
                        return "right" === i.align || i.control && "select" !== i.control || o.push("tv-screener-table__cell--left"),
                        i.highlightChange && e && o.push(e >= 0 ? "tv-screener-table__cell--up" : "tv-screener-table__cell--down"),
                        "name" !== t || !m.fields.description.disabled && m.fields.description.checked || o.push("tv-screener-table__cell--without-description"),
                        r._bridge.table_style && o.push("tv-screener-table__cell--" + r._bridge.table_style),
                        o
                    },
                    addRowAttrs: function(e) {
                        return {
                            "data-symbol": e.s
                        }
                    },
                    addStickyHeaderWrapperClasses: ["tv-screener-sticky-header-wrapper"],
                    addStickyTheadClasses: ["tv-screener-table__thead--sticky"],
                    addDraggingThClasses: ["tv-screener-table__th--dragging"],
                    addDraggingColClasses: ["tv-screener-table__col--dragging"],
                    standalone: this._bridge.standalone,
                    widthChange: this.widthChange,
                    visible: this._bridge.visible,
                    table_style: this._bridge.table_style,
                    noDataString: this._noDataString
                }),
                this._table.setFields({
                    name: {
                        title: $.t("Ticker")
                    }
                }),
                this._model.fieldSetChanged.subscribe(null, function(e) {
                    var t = {};
                    e.forEach(function(e) {
                        t[e] = m.fields[e]
                    }),
                    r._table.setFields(t)
                }),
                this._table.fieldsOrderChange.subscribe(null, function() {
                    r._model.fieldsOrder.setValue(r._table.fieldsOrder),
                    r.$fieldSetsButton.toggleClass("tv-screener-toolbar__button--unsaved", r._model.isFieldSetChanged()),
                    TVSettings.setJSON(r._model.settingKey + ".fields_order", r._table.fieldsOrder, {
                        forceFlush: !0
                    })
                }),
                n = 0,
                s = !1,
                this._model.loadingStart.subscribe(null, function(e) {
                    e ? (s = !0,
                    r._bridge.standalone && (n = $(document).scrollTop()),
                    r._showSpinner(r.$bottomLoadingScreen)) : (n = 0,
                    "forex" !== r._model.screener_type && r._showSpinner())
                }),
                this._model.loadingStart.subscribe(null, function() {
                    return r.resetRefreshCounter(!0)
                }),
                this._model.loadingComplete.subscribe(null, function() {
                    s && r._bridge.standalone && 0 !== n && $(document).scrollTop() !== n && (s = !1,
                    $(document).scrollTop(n),
                    n = 0),
                    r.resetRefreshCounter()
                }),
                window.loginStateChange.subscribe(null, function() {
                    if (r.resetRefreshCounter(),
                    "forex" === r._model.screener_type) {
                        var e = r._model.selectedGroups;
                        m.fields.sector.value = e,
                        r._$groupSelectButton.empty(),
                        r.updateGroupsButton(r._$groupSelectButton, e)
                    }
                }),
                this._bridge.standalone && $(window).on("scroll", function() {
                    $(".js-dropdown-toggle.i-opened").trigger("resetPosition")
                })
            }
            return a(e, [{
                key: "_getThContent",
                value: function(e, t) {
                    var n, o, s, r, a, l, c, d, h = this;
                    return t || (t = m.fields[e]),
                    n = t.title && t.title.toLowerCase() !== t.shortTitle.toLowerCase() ? $('<div class="tv-screener-table__head-wrap js-head-wrap apply-common-tooltip common-tooltip-fixed" title="' + $.t(t.title) + '" data-field="' + e + '">') : $('<div class="tv-screener-table__head-wrap js-head-wrap" data-field="' + e + '">'),
                    t.disableHeaderControl && n.addClass("tv-screener-table__head-wrap--disable-interaction"),
                    o = $('<div class="tv-screener-table__head-left ' + (t.control ? "tv-screener-table__head-left--control " : "") + 'js-head-left">' + $.t(t.shortTitle || t.title) + "</div>").appendTo(n),
                    e === this._model.searchField && o.addClass(!m.fields.description.disabled && m.fields.description.checked ? "tv-screener-table__head-left--name-col" : "tv-screener-table__head-left--name-col-without-description"),
                    $('<span class="tv-screener-table__sort js-table-sort ' + (this._model._sortField.value() === e ? "tv-screener-table__sort--" + this._model._sortDirection.value() : "") + '">').appendTo(o),
                    e === this._model.searchField && (s = this._totalCount ? $.t("{0} match", {
                        plural: "{0} matches",
                        count: this._totalCount
                    }).format(this._totalCount) : $.t("No matches"),
                    $("<br>").appendTo(o),
                    $('<div class="js-field-total tv-screener-table__field-value--total">' + s + "</div>").appendTo(o),
                    r = $(O).appendTo(o),
                    a = r.find(".js-search-input"),
                    l = r.find(".js-input-reset"),
                    a.on("keyup paste", function() {
                        a.val().length > 0 ? l.removeClass("i-hidden") : l.addClass("i-hidden")
                    }),
                    a.on("keyup paste", D(function() {
                        t.searchValue = a.val(),
                        h._model.loading || h._model.update()
                    }, 400)),
                    a.on("focus", function() {
                        h._focusSearch = !0
                    }),
                    a.on("blur", function() {
                        h._focusSearch = !1
                    })),
                    t.control && (c = $('<i data-field="' + e + '" class="js-filter-button tv-screener-table__head-right tv-screener-table__filter-button">' + i(1833) + "</i>"),
                    c.appendTo(n),
                    this.fieldValueString(e) && (c.addClass("tv-screener-table__filter-button--active"),
                    d = $('<span class="js-field-value tv-screener-table__field-value apply-overflow-tooltip' + ("name" === e ? " tv-screener-table__field-value--name" : "") + '">' + this.fieldValueString(e) + "</span>"),
                    o.append("<br>").append(d))),
                    n
                }
            }, {
                key: "_updateTableSortField",
                value: function() {
                    var e = this._model._sortField.value()
                      , t = this._model._sortDirection.value()
                      , i = this._table.getTh(e);
                    e && t && i.size() && (this._table.$theadRow.find(".tv-screener-table__sort--desc,.tv-screener-table__sort--asc").removeClass("tv-screener-table__sort--desc tv-screener-table__sort--asc"),
                    i.find(".js-table-sort").addClass("tv-screener-table__sort--" + t))
                }
            }, {
                key: "setFieldActive",
                value: function(e, t, i) {
                    this._dialog.$filtersPopup && (i || (i = this._dialog.$filtersPopup.find(".js-filter-field-" + e.replace(/\W/g, ""))),
                    i && i.size() && i.toggleClass("tv-screener-dialog__filter-field--active", t))
                }
            }, {
                key: "_resetField",
                value: function(e, t) {
                    var i, n, o, s, r, a, l;
                    this.setFieldActive(e, this._model.fieldActive(e)),
                    i = e === this._model.searchField ? this._table.getTh(e).find(".js-search-input").val() : "",
                    n = this._getThContent(e),
                    this._table.setThContent(e, n, t),
                    e === this._model.searchField && (o = n.find(".js-search-input").val(i),
                    s = n.find(".js-input-reset"),
                    i && i.length > 0 ? s.removeClass("i-hidden") : s.addClass("i-hidden"),
                    this._focusSearch && (this._focusSearch = !1,
                    o.focus())),
                    !this._dialog.$filtersPopup && this.$inplaceEditor && e === this._inplaceEditorField && (r = !this._isFilterValueEmpty(e),
                    a = this.$inplaceEditor.find(".js-reset"),
                    l = this.$inplaceEditor.find(".js-wrap"),
                    r ? (a.removeClass("i-hidden"),
                    l.removeClass("tv-screener-inplace-editor__filter-without-reset"),
                    this.$inplaceEditor.removeClass("tv-screener-inplace-editor__without-reset")) : (a.addClass("i-hidden"),
                    l.addClass("tv-screener-inplace-editor__filter-without-reset"),
                    this.$inplaceEditor.addClass("tv-screener-inplace-editor__without-reset")))
                }
            }, {
                key: "_setupStickyHeader",
                value: function() {
                    var e, t, n, o, s = this, r = this._table.$stickyHeader;
                    r.appendTo(this.$content),
                    e = $('<span class="tv-screener-sticky-header-wrapper__right-substrate"></span>').prependTo(this.$content),
                    this._bridge.standalone && this._stickyHeader ? (t = void 0,
                    this.$toolbar.toggleClass("tv-screener-toolbar--standalone_sticky", !0).css({
                        top: this.$content.offset().top - this.$toolbar.outerHeight()
                    }),
                    $(document).on("scroll", function() {
                        var i = $(document).scrollTop()
                          , n = $(document).scrollLeft()
                          , o = s.$toolbar.outerHeight()
                          , a = s.$content.offset().top - o
                          , l = i - a > 0;
                        s._$mainContainer.css("top", -i),
                        s.$toolbar.css({
                            top: l ? 0 : a - i
                        }),
                        r.toggleClass("tv-screener-sticky-header-wrapper--standalone_sticky", l).css({
                            top: l ? o : "",
                            left: l ? -n : "auto"
                        }),
                        e.toggleClass("tv-screener-sticky-header-wrapper__right-substrate--standalone_sticky", l).css({
                            top: l ? o : ""
                        }),
                        t !== l && s.updateToolbarButtons(),
                        t = l,
                        s.$bottomLoadingScreen.css({
                            left: n
                        }),
                        s.$bottomWatermarkSvg.css({
                            left: n
                        })
                    }),
                    $(window).on("resize", function() {
                        s.fixStandaloneWidth()
                    }),
                    this.fixStandaloneWidth(),
                    this._table.afterFixCols.subscribe(null, function() {
                        s.fixStandaloneHorizontalScroll()
                    })) : (n = !1,
                    o = !1,
                    this.$content.on("scroll", function() {
                        r.css({
                            top: s.$content.scrollTop(),
                            left: n ? -s.$content[0].scrollLeft : 0
                        }),
                        e.css({
                            top: s.$content.scrollTop()
                        })
                    }),
                    $(document).on("scroll", function() {
                        window.innerWidth <= d.breakpoints.tablet && (n = s.$content.get(0).getBoundingClientRect().top < 0),
                        r.toggleClass("tv-screener-sticky-header-wrapper--standalone_sticky", n),
                        o !== n && r.css({
                            left: n ? -s.$content.scrollLeft() : 0
                        }),
                        o = n
                    })),
                    this._bridge.hide_controls || (this.$headerFieldsButton = $('<div class="tv-screener-sticky-header-wrapper__fields-button apply-common-tooltip common-tooltip-vertical common-tooltip-otl" title="' + $.t("Column setup") + '">\n\t\t\t\t' + i(1347) + "\n\t\t\t</div>").appendTo(r),
                    this._popups.setFieldsPopup(this.$headerFieldsButton, "tv-screener-sticky-header-wrapper__fields-button-wrap", "tv-dropdown__body--position_right tv-dropdown-behavior__body--from_top-right")),
                    this._model.loadingComplete.subscribe(null, function() {
                        e.show()
                    }, !0)
                }
            }, {
                key: "_showSpinner",
                value: function() {
                    var e = this
                      , t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.$loadingScreen;
                    t.removeClass("js-hidden"),
                    clearTimeout(this._spinnerTimeoutId),
                    this._spinner || (this._spinnerTimeoutId = setTimeout(function() {
                        e._spinner = (0,
                        v.unifiedSpinner)().spin(t.get(0))
                    }, 100))
                }
            }, {
                key: "_hideSpinner",
                value: function() {
                    this.$loadingScreen.addClass("js-hidden"),
                    this.$bottomLoadingScreen.addClass("js-hidden"),
                    clearTimeout(this._spinnerTimeoutId),
                    this._spinner && (this._spinner.stop(),
                    delete this._spinner)
                }
            }, {
                key: "_getResizerBridgeWidth",
                value: function() {
                    return window.widgetbar ? window.widgetbar.resizerBridge.width.value() : 0
                }
            }, {
                key: "fixStandaloneWidth",
                value: function() {
                    if (this._bridge.standalone) {
                        this._bridge.$body.css({
                            "padding-right": ""
                        });
                        var e = this._getResizerBridgeWidth();
                        this.$toolbar.width($(window).width() - e),
                        this._$mainHeader.css({
                            "padding-right": e
                        }),
                        this.updateToolbarButtons(),
                        this.widthChange.fire()
                    }
                }
            }, {
                key: "fixStandaloneHorizontalScroll",
                value: function() {
                    var e, t, i;
                    this._bridge.standalone && (e = this._getResizerBridgeWidth(),
                    t = this._table.$element.width() + e,
                    i = $(window).width() < t,
                    this._bridge.$body.css({
                        "padding-right": i ? t : ""
                    }),
                    this.$toolbar.width($(window).width() - e),
                    this.updateToolbarButtons())
                }
            }, {
                key: "prepareLayout",
                value: function() {
                    var e, t, n, o, s, r = this;
                    this._bridge.$body.addClass("tv-screener" + (this._bridge.standalone ? " tv-screener--standalone" : "")),
                    this.$loadingScreen = $('<div class="tv-screener__loading-screen' + (this._bridge.standalone && !this._bridge.table_loading_screen ? " tv-screener__loading-screen--standalone" : "") + '">').appendTo(this._bridge.$body),
                    this.$bottomWatermarkSvg = $(".tv-footer__inner--screener-watermark svg"),
                    this.$toolbar = $('<div class="tv-screener-toolbar' + (this._bridge.standalone ? " tv-screener-toolbar--standalone" : "") + '">').appendTo(this._bridge.$body),
                    $(".tv-screener__content-pane").remove(),
                    this.$content = $('<div class="tv-screener__content-pane" tabindex="100">').data({
                        localScroll: !this._bridge.standalone
                    }).appendTo(this._bridge.$body),
                    this.$bottomLoadingScreen = $('<div class="tv-screener__bottom-loading-screen">').appendTo(this._bridge.$body),
                    this._$mainContainer = $(".tv-screener__standalone-main-container"),
                    this._$mainHeader = this._$mainContainer.find(".tv-header"),
                    this.$refreshButton = $('<div class="tv-screener-toolbar__button tv-screener-toolbar__button--with-options tv-screener-toolbar__button--refresh apply-common-tooltip common-tooltip-fixed" title="' + $.t("Refresh") + '"></div>').append($(i(2213)).attr({
                        class: "tv-screener-toolbar__button-icon",
                        width: "18",
                        height: "18",
                        style: "top: -2px; margin-left: -9px"
                    })).appendTo(this.$toolbar),
                    this.$refreshCounter = $('<span class="tv-screener-toolbar__refresh-counter">').text("00:00").appendTo(this.$refreshButton),
                    this.$refreshIntervalButton = $('<div class="tv-screener-toolbar__button tv-screener-toolbar__button--options tv-screener-toolbar__button--space_right apply-common-tooltip common-tooltip-fixed" title="' + $.t("Refresh interval") + '"></div>').append($(i(1347)).attr({
                        width: 3,
                        height: 13,
                        class: "tv-screener-toolbar__button-icon",
                        style: "top: -1px"
                    })).appendTo(this.$toolbar),
                    e = this._model.getFieldSetById(this._model.currentFieldSetId()),
                    this.$fieldSetsButton = $('<div class="tv-screener-toolbar__button tv-screener-toolbar__button--animated\n\t\t\ttv-screener-toolbar__button--with-options tv-screener-toolbar__button--arrow-down\n\t\t\ttv-screener-toolbar__button--with-state apply-common-tooltip common-tooltip-fixed js-field-sets"  title=" ' + $.t("Column sets") + '">\n\t\t\t\t' + (e ? e.title : "") + "\n\t\t\t</div>").appendTo(this.$toolbar),
                    this.$fieldsButton = $('<div class="tv-screener-toolbar__button tv-screener-toolbar__button--options\n\t\t\ttv-screener-toolbar__button--square apply-common-tooltip common-tooltip-fixed\n\t\t\ttv-screener-toolbar__button--space_right" title=" ' + $.t("Column setup") + '">').append($(i(2214)).attr({
                        width: 11,
                        height: 12,
                        class: "tv-screener-toolbar__button-icon",
                        style: "top: -1px"
                    })).appendTo(this.$toolbar),
                    this.$favoritesBar = $('<div class="tv-screener-toolbar__favorites">').appendTo(this.$toolbar),
                    this.$periodPicker = $('<div class="tv-screener-toolbar__period-picker">').appendTo(this.$toolbar),
                    "crypto_mkt" === this._model.screener_type && (this.$cryptoSwitch = $('<div class="tv-screener-toolbar__crypto-switch">').appendTo(this.$toolbar),
                    t = ["USD", "BTC"],
                    n = {
                        options: t,
                        onSelect: function(e) {
                            return r._model.switchCryptoCurrency(t[e])
                        }
                    },
                    f.render(u.createElement(g.Switch, n), this.$cryptoSwitch[0])),
                    !(0,
                    C.isFeatureEnabled)("screener_alerts") || this._bridge.hide_controls || this._periodPicker || this.createAlertButtons(),
                    o = this._model.getFilterSetById(this._model.currentFilterSetId()),
                    this.$filterSetsButton = $('<div class="tv-screener-toolbar__button tv-screener-toolbar__button--with-options\n\t\t\ttv-screener-toolbar__button--arrow-down tv-screener-toolbar__button--with-state\n\t\t\tapply-common-tooltip common-tooltip-fixed js-filter-sets" title="' + $.t("Screens") + '">').appendTo(this.$toolbar),
                    this.$filterSetsButtonTitle = $("<span>" + (o ? o.title : "") + "</span>").appendTo(this.$filterSetsButton),
                    this.$filtersButton = $('<div class="tv-screener-toolbar__button tv-screener-toolbar__button--options tv-screener-toolbar__button--square apply-common-tooltip common-tooltip-fixed" title="' + $.t("Filters") + '">').append($(i(1833)).attr({
                        width: 15,
                        height: 15,
                        class: "tv-screener-toolbar__button-icon",
                        style: "left: -1px"
                    })).appendTo(this.$toolbar),
                    s = $('<div class="tv-screener-toolbar__filter-count-wrap apply-common-tooltip common-tooltip-vertical common-tooltip-otl" title="' + $.t("Applied filters count") + '">').on("click", this.showActiveFilters.bind(this)).appendTo(this.$toolbar),
                    this.$filterCount = $('<span class="tv-screener-toolbar__filter-count js-hidden">').appendTo(s),
                    this._table.$element.appendTo(this.$content),
                    this.initHandlers(),
                    this._bridge.hide_controls ? [this.$refreshButton, this.$refreshIntervalButton, this.$fieldSetsButton, this.$fieldsButton, this.$filterSetsButton, this.$filtersButton, this.$filterCount].forEach(function(e) {
                        return e.hide()
                    }) : (this._$selectIntervalButton = this.addIntervalSelect({
                        $before: this.$createAlertButton || this.$filterSetsButton
                    }),
                    this.addMarketSelect({
                        $before: this.$createAlertButton || this.$filterSetsButton
                    }),
                    this._$groupSelectButton = this.addGroupSelect({
                        $before: this.$createAlertButton || this.$filterSetsButton
                    }),
                    this._popups.setFieldsPopup(this.$fieldsButton, "tv-screener-toolbar__button-wrap"),
                    this._popups.setFieldSetsPopup(this.$fieldSetsButton),
                    this._popups.setFilterSetsPopup(this.$filterSetsButton, (0,
                    C.isFeatureEnabled)("screener_alerts")),
                    this._popups.setRefreshIntervalsPopup(this.$refreshIntervalButton)),
                    this._periodPicker ? ((0,
                    m.applyEarningsCalendarToFields)(),
                    this.sortedFields = Object.keys(m.fields).sort(function(e, t) {
                        return m.fields[e].title > m.fields[t].title ? 1 : -1
                    }),
                    this._selectedPeriodId = "today",
                    this._setNewEarningsPeriod(this._selectedPeriodId),
                    this.updatePeriodPicker(),
                    this.$favoritesBar.hide()) : this.$periodPicker.hide(),
                    this._showSpinner(),
                    this.updateToolbarButtons()
                }
            }, {
                key: "showMaintenance",
                value: function() {
                    this._bridge.$body.html('<div class="tv-screener__maintenance">' + $.t("We are doing some brief daily maintenance. Screener will be back really soon, thanks for your patience!") + "</div>")
                }
            }, {
                key: "createAlertButtons",
                value: function() {
                    this.$createAlertButton = $('<div class="tv-screener-toolbar__button tv-screener-toolbar__button--with-options tv-screener-toolbar__button--create-alert js-create-alert-button apply-common-tooltip common-tooltip-fixed" title="' + $.t("Enable Alert") + '">').append($('<i class="js-alert-icon-plus">').append($(i(1644)).attr({
                        width: 20,
                        height: 21,
                        class: "tv-screener-toolbar__button-icon",
                        style: "top: -2px; margin-right: -4px"
                    }))).append($('<i class="i-hidden js-alert-icon">').append($(i(2243)).attr({
                        width: 16,
                        height: 17,
                        class: "tv-screener-toolbar__button-icon",
                        style: "top: -2px"
                    }))).appendTo(this.$toolbar),
                    this.$alertsButton = $('<div class="tv-screener-toolbar__button tv-screener-toolbar__button--space_right tv-screener-toolbar__button--options js-alerts-button">').append($(i(1347)).attr({
                        width: 3,
                        height: 13,
                        class: "tv-screener-toolbar__button-icon",
                        style: "top: -1px"
                    })).appendTo(this.$toolbar)
                }
            }, {
                key: "setAlertButtonsDisabledState",
                value: function(e) {
                    this.$createAlertButton && this.$createAlertButton.toggleClass("i-disabled", e),
                    this.$alertsButton && this.$alertsButton.toggleClass("i-disabled", e)
                }
            }, {
                key: "setCreateAlertButtonLoading",
                value: function() {
                    this.$createAlertButton && (this.$createAlertButton.addClass("tv-screener-toolbar__button--alert-loading"),
                    "running" === this.$createAlertButton.data("state") && this.$createAlertButton.addClass("tv-screener-toolbar__button--enabled-alert-loading"))
                }
            }, {
                key: "setAlertButtonState",
                value: function(e) {
                    if (this.$createAlertButton && !this.$createAlertButton.is("i-disabled")) {
                        "created" !== e && "pending" !== e && (clearTimeout(this._alertButtonLoadingTimeoutId),
                        this.$createAlertButton.removeClass("tv-screener-toolbar__button--alert-loading tv-screener-toolbar__button--enabled-alert-loading"));
                        var t = "running" === e;
                        this.$createAlertButton.data("state", e).toggleClass("tv-screener-toolbar__button--enabled", t).attr("title", t ? $.t("Disable Alert") : $.t("Enable Alert")),
                        this.$createAlertButton.find(".js-alert-icon-plus").toggleClass("i-hidden", t),
                        this.$createAlertButton.find(".js-alert-icon").toggleClass("i-hidden", !t)
                    }
                }
            }, {
                key: "initHandlers",
                value: function() {
                    var e = this;
                    this.$toolbar.on("hover", this.adjustToolbarWidth.bind(this)),
                    this.$fieldSetsButton.on("transitionend", this.updateToolbarButtons.bind(this)),
                    this.$content.on("click", ".js-head-wrap", function(t) {
                        var i, n, o = $(t.currentTarget), s = o.data("field");
                        !1 !== m.fields[s].sortableColumn && (i = e._model._sortField.value(),
                        n = e._model._sortDirection.value(),
                        m.fields[s].disableHeaderControl || (i === s && e._model._sortDirection.setValue("asc" === n ? "desc" : "asc"),
                        e._model._sortField.setValue(s),
                        e._model.update()),
                        t.stopPropagation())
                    }).on("contextmenu", ".js-head-wrap", function(t) {
                        var i = $(t.currentTarget).data("field");
                        e.showHeaderContextMenu(i, t),
                        t.preventDefault()
                    }),
                    this.$content.on("click", ".js-search-input", function(e) {
                        e.stopPropagation()
                    }),
                    this.$content.on("click", ".js-input-reset", function(t) {
                        $(t.currentTarget).addClass("i-hidden"),
                        e.$content.find(".js-search-input").val(""),
                        m.fields[e._model.searchField].searchValue = "",
                        e._focusSearch = !0,
                        e._model.update(),
                        t.stopPropagation()
                    }),
                    this.$content.on("click", ".js-filter-button", function(t) {
                        var i = $(t.currentTarget).closest("th")
                          , n = i.data("field");
                        e.showInplaceEditor(n, i),
                        t.stopPropagation()
                    }),
                    this.$content.on("click", ".tv-screener-table__result-row", function(t) {
                        var i, n = $(t.currentTarget);
                        e.$content.find(".tv-screener-table__result-row--active").removeClass("tv-screener-table__result-row--active"),
                        n.addClass("tv-screener-table__result-row--active"),
                        i = S.preventFeedBySymbol,
                        S.setPreventFeedBySymbol(!0),
                        S.symbol.setValue(n.data("symbol")),
                        S.setPreventFeedBySymbol(i),
                        e._model.trackEvent("Change symbol from table")
                    }).on("contextmenu", ".tv-screener-table__result-row", function(t) {
                        var i = $(t.currentTarget).data("symbol");
                        e.showContextMenu(i, t),
                        t.preventDefault()
                    }),
                    this.$content.on("scrolltoend", function(t) {
                        e._model.loading || e._model.update(null, !0)
                    }),
                    this.$content.on("keydown", function(t) {
                        t.keyCode === b.SPACE && ($(t.target).is("input") || (t.stopPropagation(),
                        t.preventDefault(),
                        t.shiftKey ? e.selectNextRow(!0) : e.selectNextRow())),
                        38 === t.keyCode && (t.stopPropagation(),
                        t.preventDefault(),
                        e.selectNextRow(!0)),
                        40 === t.keyCode && (t.stopPropagation(),
                        t.preventDefault(),
                        e.selectNextRow())
                    }),
                    this.$refreshButton.click(function(t) {
                        e._model.loading || e.refresh()
                    }),
                    this.$filtersButton.click(this._dialog.showFiltersDialog.bind(this._dialog)),
                    S.proSymbol.subscribe(function(t) {
                        e.$content.find(".tv-screener-table__result-row--active").removeClass("tv-screener-table__result-row--active"),
                        e.$content.find('[data-symbol="' + t + '"]').addClass("tv-screener-table__result-row--active")
                    }),
                    this.$fieldSetsButton.on("click", function() {
                        e._lastSetId = null
                    }),
                    this.$toolbar.on("click", ".js-favorite-item", function(t) {
                        var i = $(t.currentTarget)
                          , n = i.attr("data-set");
                        e._lastSetId !== n && (e._lastSetId = n,
                        e._model.preventPrevScanRequest(),
                        e._model.applyFieldSet(n, !1, e._bridge.hide_controls))
                    }),
                    this.$toolbar.on("click", ".js-period-picker-item", function(t) {
                        var i = $(t.currentTarget).attr("data-period");
                        e.changeEarningsPeriod(i)
                    }),
                    this.$toolbar.on("click", ".js-create-alert-button", function() {
                        return e.toggleAlert.fire()
                    }),
                    this.$alertsButton && "function" == typeof this._bridge.getAlertsCtlDropdownContent && this._popups.setAlertsPopup(this.$alertsButton, this._bridge.getAlertsCtlDropdownContent()),
                    $(window).resize(function(t) {
                        return e.updateToolbarButtons()
                    }),
                    this._bridge.width && this._bridge.width.subscribe(function() {
                        return e.updateToolbarButtons()
                    }),
                    this._bridge.visible && this._bridge.visible.subscribe(function(t) {
                        t && (e.updateToolbarButtons(),
                        e.adjustToolbarWidth())
                    })
                }
            }, {
                key: "changeEarningsPeriod",
                value: function(e) {
                    var t, i = this;
                    this._selectedPeriodId !== e && (this._selectedPeriodId = e,
                    this.updatePeriodPicker(),
                    this._model.applyFieldSetContent(m.earningsCalendarHeaderFields),
                    t = "tomorrow" === e || "next_week" === e,
                    t ? (0,
                    m.applyEarningsCalendarNextReleaseDate)() : (0,
                    m.applyEarningsCalendarReleaseDate)(),
                    this._setNewEarningsPeriod(e, function() {
                        i._resetField("earnings_release_next_date"),
                        i._model.preventPrevScanRequest(),
                        i._model.update()
                    }))
                }
            }, {
                key: "_setNewEarningsPeriod",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function() {}
                      , i = m.fields.earnings_release_next_date.sourceRange.find(function(t) {
                        return t.key === e
                    });
                    i && (m.fields.earnings_release_next_date.value = i.name,
                    t())
                }
            }, {
                key: "isEndReached",
                value: function() {
                    return "number" == typeof this._totalCount && this._data.length >= this._totalCount
                }
            }, {
                key: "display",
                value: function(e, t, i) {
                    var n, o, s = this;
                    this._hideSpinner(),
                    this._setFiltersCount(),
                    this.$filterSetsButton.toggleClass("tv-screener-toolbar__button--unsaved", this._model.isFilterSetChanged()),
                    e && !e.error && e.data ? (n = e.data,
                    void 0 === this._totalCount ? (this._table.update(e.data),
                    this._data = n) : (o = this._getInvalidatedFrom(n),
                    0 === o ? (this._data = n,
                    this._table.update(n, t)) : (o > 0 ? (n = n.slice(o),
                    this._data = this._data.slice(0, o),
                    this._table.clearData(o)) : n = n.slice(this._data.length),
                    this._data = this._data.concat(n),
                    this._table.append(n, t))),
                    setTimeout(function() {
                        return s.highlightChanges()
                    }, 0),
                    this._totalCount = e.totalCount,
                    this._resetField(this._model.searchField, t),
                    this._model._initialSortField && (this._model._sortField.setValue(this._model._initialSortField, !0),
                    this._model._sortDirection.setValue(this._model._initialSortDirection, !0),
                    delete this._model._initialSortField,
                    delete this._model._initialSortDirection)) : "abort" !== i && (this.resetItems(),
                    this._table.update([]),
                    this._resetField("name"),
                    e && e.error && B.logError(e.error))
                }
            }, {
                key: "_getInvalidatedFrom",
                value: function(e) {
                    var t, i;
                    for (t = 0; t < this._data.length; ++t) {
                        if (!e[t] || this._data[t].s !== e[t].s || !e[t].d)
                            return t;
                        for (i = 0; i < this._data[t].d.length; ++i)
                            if (this._data[t].d[i] !== e[t].d[i])
                                return t
                    }
                    return -1
                }
            }, {
                key: "resetItems",
                value: function() {
                    delete this._totalCount,
                    this._data = []
                }
            }, {
                key: "_setFiltersCount",
                value: function() {
                    var e = this._model.currentFilterState()
                      , t = e.filters && Object.keys(e.filters).length || 0;
                    this.$filterCount.text("" + t).toggleClass("js-hidden", !t)
                }
            }, {
                key: "_concatFieldValues",
                value: function(e, t) {
                    var i = this
                      , n = [];
                    return e.forEach(function(e) {
                        n.push(i._getFieldValueFromRangeTitles(e, t))
                    }),
                    n.join(", ")
                }
            }, {
                key: "_getFieldValueFromRangeTitles",
                value: function(e, t) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    return m.fields[t].rangeTitles && m.fields[t].rangeTitles[e] ? m.fields[t].rangeTitles[e][i ? 1 : 0] : e
                }
            }, {
                key: "fieldValueString",
                value: function(e) {
                    var t = m.fields[e].value;
                    return (0,
                    m.isValueAbsent)(t) || !1 === t ? "" : "select" === m.fields[e].control ? Array.isArray(t) ? '<span title="' + this._concatFieldValues(t, e) + '" class="apply-common-tooltip">' + t.length + " items</span>" : this._getFieldValueFromRangeTitles(t, e, "dr" === t && "name" === e) : "range" === m.fields[e].control ? Array.isArray(t) ? this._rangeLeftValue(e) + " – " + this._rangeRightValue(e) : "" : "toggle" === m.fields[e].control ? -1 !== e.toLowerCase().indexOf("high") ? $.t("New High") : $.t("New Low") : "condition" !== m.fields[e].control || (0,
                    m.isValueAbsent)(t.operator) || (0,
                    m.isValueAbsent)(t.value) ? "" : "in_range" === t.operator ? t.value[0] === t.value[1] ? L.equal + " " + t.value[0] : -1e100 === t.value[0] || this._isLessThenMin(t.value[0], e) ? L.less + " " + t.value[1] : 1e100 === t.value[1] || this._isGreaterThenMax(t.value[1], e) ? L.greater + " " + t.value[0] : this._rangeLeftValue(e) + " – " + this._rangeRightValue(e) : L[t.operator] + " " + ("number" == typeof t.value ? t.value : m.fields[t.value].title)
                }
            }, {
                key: "updateToolbarButtons",
                value: function() {
                    this._bridge.period_picker ? this.updatePeriodPicker() : this.updateFavoritesToolbar()
                }
            }, {
                key: "updateFavoritesToolbar",
                value: function() {
                    var e, t, i, n, o, s = this;
                    this.$hiddenFavoritesButtonWrap && this.$hiddenFavoritesButtonWrap.detach(),
                    this.$favoritesBar.empty(),
                    e = 0,
                    this.hiddenFavorites = [],
                    t = this.$favoritesBar.width(),
                    i = "forex" === this._model.screener_type ? 160 : 40,
                    n = function(e) {
                        return e === s._model.currentFieldSetId()
                    }
                    ,
                    this._model.favoriteFieldSets && this._model.favoriteFieldSets.forEach(function(o) {
                        var r, a, l = s._model.getFieldSetById(o);
                        l && (r = $('<div class="tv-screener-toolbar__favorites-item js-favorite-item" data-set="' + l.id + '">\n\t\t\t\t\t' + TradingView.clean(l.title) + "\n\t\t\t\t</div>").toggleClass("tv-screener-toolbar__favorites-item--active", n(l.id)).appendTo(s.$favoritesBar),
                        a = r.outerWidth(),
                        r[0].scrollWidth > a && r.addClass("apply-common-tooltip").attr("title", l.title),
                        a += 9,
                        (e += a) + i > t && (e -= a,
                        r.remove(),
                        s.hiddenFavorites.push({
                            id: l.id,
                            title: l.title
                        })))
                    }),
                    this.hiddenFavorites.length && (this.$hiddenFavoritesButtonWrap ? this.$hiddenFavoritesButtonWrap.appendTo(this.$favoritesBar).trigger("forceClose") : (o = $('<div class="tv-screener-toolbar__favorites-item tv-screener-toolbar__favorites-more apply-common-tooltip common-tooltip-fixed" title="' + $.t("Favorite sets") + '">').appendTo(this.$favoritesBar),
                    this.$hiddenFavoritesButtonWrap = this._popups.setHiddenFavoritesPopup(o, function() {
                        return s.hiddenFavorites
                    }, n, function(e) {
                        return s._model.applyFieldSet(e, !1, s._bridge.hide_controls)
                    })))
                }
            }, {
                key: "updatePeriodPicker",
                value: function() {
                    var e, t, i = this, n = 0, o = this.$periodPicker.width();
                    this.hiddenPeriods = [],
                    this.$hiddenPeriodsButtonWrap && this.$hiddenPeriodsButtonWrap.detach(),
                    this.$periodPicker.empty(),
                    e = function(e) {
                        return e === i._selectedPeriodId
                    }
                    ,
                    this._periodPickerButtons.forEach(function(t) {
                        var s = $('<div class="tv-screener-toolbar__period-picker-item js-period-picker-item" data-period="' + t.id + '">\n\t\t\t\t' + TradingView.clean(t.title) + "\n\t\t\t</div>").toggleClass("tv-screener-toolbar__period-picker-item--active", e(t.id)).appendTo(i.$periodPicker)
                          , r = s.outerWidth() + 9;
                        (n += r) + 40 > o && (n -= r,
                        s.remove(),
                        i.hiddenPeriods.push(t))
                    }),
                    this.hiddenPeriods.length && (this.$hiddenPeriodsButtonWrap ? this.$hiddenPeriodsButtonWrap.appendTo(this.$periodPicker).trigger("forceClose") : (t = $('<div class="\n\t\t\t\t\t\ttv-screener-toolbar__favorites-item tv-screener-toolbar__favorites-more apply-common-tooltip common-tooltip-fixed\n\t\t\t\t\t" title="' + $.t("Periods") + '">').appendTo(this.$periodPicker),
                    this.$hiddenPeriodsButtonWrap = this._popups.setHiddenFavoritesPopup(t, function() {
                        return i.hiddenPeriods
                    }, e, this.changeEarningsPeriod.bind(this))))
                }
            }, {
                key: "showHeaderContextMenu",
                value: function(e, t) {
                    var n = this;
                    i.e(33, function(o) {
                        var s, r, a, l, c, d, h, u = m.fields[e], p = i(155), f = p.Action, g = i(563), _ = [];
                        "name" === e ? (s = new f({
                            text: !m.fields.description.disabled && m.fields.description.checked ? $.t("Hide description") : $.t("Show description"),
                            enabled: !m.fields.description.disabled
                        }),
                        s.callbacks().subscribe(n, function() {
                            m.fields.description.checked = !m.fields.description.checked,
                            this._model.fieldSetChanged.fire(this._table.fieldsOrder.filter(function(e) {
                                return m.fields[e] && !0 !== m.fields[e].disabled && !0 !== m.fields[e].hiddenColumn
                            })),
                            this._model.update(),
                            this.$fieldSetsButton.toggleClass("tv-screener-toolbar__button--unsaved", this._model.isFieldSetChanged())
                        }),
                        _.push(s),
                        r = new f({
                            text: !m.fields.type.disabled && m.fields.type.checked ? $.t("Hide symbol type") : $.t("Show symbol type"),
                            enabled: !m.fields.type.disabled
                        }),
                        r.callbacks().subscribe(n, function() {
                            m.fields.type.checked = !m.fields.type.checked,
                            this._model.fieldSetChanged.fire(this._table.fieldsOrder.filter(function(e) {
                                return m.fields[e] && !0 !== m.fields[e].disabled && !0 !== m.fields[e].hiddenColumn
                            })),
                            this._model.update(),
                            this.$fieldSetsButton.toggleClass("tv-screener-toolbar__button--unsaved", this._model.isFieldSetChanged())
                        }),
                        _.push(r)) : (a = new f({
                            text: $.t("Remove column")
                        }),
                        a.callbacks().subscribe(n, function() {
                            u.checked = !1;
                            var t = this._table.fieldsOrder.filter(function(t) {
                                return t !== e
                            });
                            this._model.fieldSetChanged.fire(t.filter(function(e) {
                                return m.fields[e] && !0 !== m.fields[e].disabled && !0 !== m.fields[e].hiddenColumn
                            })),
                            this._model.update(),
                            this.$fieldSetsButton.toggleClass("tv-screener-toolbar__button--unsaved", this._model.isFieldSetChanged())
                        }),
                        _.push(a)),
                        l = new f({
                            text: $.t("Reset filter")
                        }),
                        l.callbacks().subscribe(n, function() {
                            this.resetFilter(e)
                        }),
                        _.push(l),
                        c = new f({
                            text: $.t("Change filter")
                        }),
                        c.callbacks().subscribe(n, function() {
                            var i = $(t.currentTarget).closest("th");
                            this.showInplaceEditor(e, i),
                            t.stopPropagation()
                        }),
                        _.push(c),
                        u.hasOwnProperty("displaySignal") && (u.displaySignal ? (d = new f({
                            text: $.t("Hide rating")
                        }),
                        d.callbacks().subscribe(n, function() {
                            this._table.toggleSignals(e)
                        }),
                        _.push(d)) : (h = new f({
                            text: $.t("Show rating")
                        }),
                        h.callbacks().subscribe(n, function() {
                            this._table.toggleSignals(e)
                        }),
                        _.push(h))),
                        u.control ? n.fieldValueString(e) || l.disable() : (l.disable(),
                        c.disable()),
                        g.createMenu(_).show(t),
                        n._model.trackEvent("Open header context menu")
                    })
                }
            }, {
                key: "showContextMenu",
                value: function(e, t) {
                    var n = this;
                    i.e(33, function(o) {
                        var s, r, a, l, c = i(155), d = c.Action, h = i(563), u = i(91), p = [], f = u.ticker(e);
                        n._bridge.standalone ? (s = new d({
                            text: $.t("Open {0} Chart...").format(f)
                        }),
                        s.callbacks().subscribe(null, function() {
                            return n._bridge.applySymbol(e, !0)
                        }),
                        p.push(s)) : (r = new d({
                            text: $.t("Add {0} To Compare").format(f)
                        }),
                        r.callbacks().subscribe(n, function() {
                            var t = this;
                            i.e(149, function(n) {
                                new (0,
                                i(1056).CompareTab)(t._bridge.chartWidgetCollection).addCompareSymbol(e)
                            })
                        }),
                        p.push(r),
                        a = new d({
                            text: $.t("Add {0} To Watchlist").format(f)
                        }),
                        a.callbacks().subscribe(n, function() {
                            var t, i, n = widgetbar.setPage("base");
                            for (i = 0; i < n.widgets.length; i++)
                                if ("watchlist" === n.widgets[i].type) {
                                    t = n.widgets[i].widgetObject;
                                    break
                                }
                            t && t.addHighlight(e)
                        }),
                        p.push(a),
                        (0,
                        C.isFeatureEnabled)("text_notes") && (l = new d({
                            text: $.t("Add Text Note For {0}").format(f)
                        }),
                        l.callbacks().subscribe(n, function() {
                            runOrSignIn(function() {
                                TradingView.bottomWidgetBar.toggleWidget("text_notes", !0),
                                TradingView.bottomWidgetBar._widgets.text_notes.addNote(null, f, e)
                            }, {
                                source: "Add text note in screener"
                            })
                        }),
                        p.push(l))),
                        h.createMenu(p).show(t),
                        n._model.trackEvent("Open context menu")
                    })
                }
            }, {
                key: "selectNextRow",
                value: function() {
                    var e, t, i, n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], o = S.proSymbol.value();
                    o && (e = this.$content.find(".tv-screener-table__thead"),
                    t = this.$content.find('[data-symbol="' + o + '"]'),
                    i = n ? t.prev() : t.next(),
                    i.length || (i = n ? t.siblings().last() : t.siblings().first()),
                    i.length && (i.click(),
                    this.$content.scrollTop(i[0].offsetTop - e.height())))
                }
            }, {
                key: "adjustToolbarWidth",
                value: function(e) {
                    var t, i = this.$fieldSetsButton[0].getBoundingClientRect();
                    e && "mouseenter" === e.type ? this.$fieldSetsButton.css("width", i.width) : (this.$fieldSetsButton.css("width", "auto"),
                    t = this.$fieldSetsButton[0].getBoundingClientRect(),
                    this.$fieldSetsButton.css("width", i.width),
                    this.$fieldSetsButton[0].offsetWidth,
                    this.$fieldSetsButton.css("width", t.width))
                }
            }, {
                key: "initFilterHandlers",
                value: function(e) {
                    var t, i, n, o, s = this;
                    e.off("change.op").on("change.op", "select.js-filter-operator", function(e) {
                        var t = $(e.target)
                          , i = t.attr("name");
                        m.fields[i].value || (m.fields[i].value = {}),
                        m.fields[i].value.operator = t.val(),
                        s._resetField(i),
                        s._model.update()
                    }),
                    e.off("change.op-val").on("change.op-val", "select.js-filter-operator-value", function(e) {
                        var t = $(e.target)
                          , i = t.attr("name");
                        m.fields[i].value || (m.fields[i].value = {}),
                        m.fields[i].value.value = t.val(),
                        s._resetField(i),
                        s._model.update()
                    }),
                    e.off("update.op-arb-val").on("update.op-arb-val", "input.js-filter-operator-arb-value", function(e) {
                        var t, i = $(e.target), n = i.attr("name");
                        m.fields[n].value || (m.fields[n].value = {}),
                        t = +i.val(),
                        isFinite(t) && !(0,
                        m.isValueAbsent)(i.val()) || (t = null),
                        m.fields[n].value.value = t,
                        s._resetField(n),
                        s._model.update()
                    }),
                    t = e.find("input.js-filter-operator-between-left"),
                    i = e.find("input.js-filter-operator-between-right"),
                    n = function(e) {
                        var n, o, r, a = $(e.target), l = a.attr("name");
                        m.fields[l].value || (m.fields[l].value = {}),
                        n = +t.val(),
                        (!isFinite(n) || (0,
                        m.isValueAbsent)(t.val()) || s._isLessThenMin(n, l) || s._isGreaterThenMax(n, l)) && (n = -1e100),
                        o = +i.val(),
                        (!isFinite(o) || (0,
                        m.isValueAbsent)(i.val()) || s._isLessThenMin(o, l) || s._isGreaterThenMax(o, l)) && (o = 1e100),
                        n > o && (r = n,
                        n = o,
                        o = r),
                        m.fields[l].value.value = [n, o],
                        -1e100 === m.fields[l].value.value[0] && 1e100 === m.fields[l].value.value[1] && (m.fields[l].value.value = ""),
                        s._resetField(l),
                        s._model.update()
                    }
                    ,
                    e.off("update.op-between-left-val").on("update.op-between-left-val", "input.js-filter-operator-between-left", n),
                    e.off("update.op-between-right-val").on("update.op-between-right-val", "input.js-filter-operator-between-right", n),
                    e.off("change.toggle-val").on("change.toggle-val", "input.js-filter-toggle", function(e) {
                        var t = $(e.target)
                          , i = t.attr("name");
                        m.fields[i].value = t.prop("checked"),
                        s._resetField(i),
                        s._model.update()
                    }),
                    e.off("click.reset").on("click.reset", ".js-reset", function(e) {
                        var t = $(e.currentTarget)
                          , i = t.data("field");
                        s.resetFilter(i)
                    }),
                    o = "",
                    e.off("keydown.filterInput").on("keydown.filterInput", "input:not(.js-search-input):not(.js-filter-operator-arb-value)", function(e) {
                        var t = $(e.currentTarget);
                        o = t.val()
                    }),
                    e.off("keyup.filterInput").on("keyup.filterInput", "input:not(.js-search-input):not(.js-filter-operator-arb-value)", function(t) {
                        var i, n, r = $(t.currentTarget), a = r.data("field"), l = r.data("bound");
                        void 0 !== a && void 0 !== l && o !== r.val() && (i = s.parseRangeValue(a, r.val(), l),
                        n = [i, m.fields[a].value ? m.fields[a].value[1 - l] : m.fields[a].range[1 - l]].sort(s._model.numericSorter),
                        e.find('.tv-slider[data-field="' + a + '"]').slider("values", s.approximateSliderValues(a, n)),
                        m.fields[a].value = n,
                        s._resetField(a),
                        s._model.update())
                    }),
                    e.find(".tv-slider").off("slidechange").on("slidechange", function(e, t) {
                        var i = $(e.currentTarget)
                          , n = i.data("field");
                        m.fields[n].values ? 0 === t.values[0] && t.values[1] === m.fields[n].values.length + 1 ? m.fields[n].value = null : m.fields[n].value = [0 === t.values[0] ? -1e100 : parseInt(m.fields[n].values[t.values[0] - 1], 10), t.values[1] === m.fields[n].values.length + 1 ? 1e100 : parseInt(m.fields[n].values[t.values[1] - 1], 10)] : t.values[0] === m.fields[n].range[0] && t.values[1] === m.fields[n].range[1] ? m.fields[n].value = null : m.fields[n].value = t.values,
                        s._resetField(n),
                        s._model.update()
                    }).off("slide").on("slide", function(e, t) {
                        var i = $(e.currentTarget)
                          , n = i.data("field")
                          , o = t.values[0]
                          , r = t.values[1];
                        if (o === r)
                            return !1;
                        m.fields[n].values && (o = 0 === t.values[0] ? s._rangeMinValue(n) : (0,
                        m.getFieldFormatter)(m.fields[n], s._model.screener_type).format(m.fields[n].values[t.values[0] - 1]),
                        r = t.values[1] === m.fields[n].values.length + 1 ? s._rangeMaxValue(n) : (0,
                        m.getFieldFormatter)(m.fields[n], s._model.screener_type).format(m.fields[n].values[t.values[1] - 1])),
                        t.value === t.values[0] ? i.find(".tv-slider__label--left").val(o) : t.value === t.values[1] ? i.find(".tv-slider__label--right").val(r) : (i.find(".tv-slider__label--left").val(o),
                        i.find(".tv-slider__label--right").val(r))
                    })
                }
            }, {
                key: "parseRangeValue",
                value: function(e, t, i) {
                    var n, o;
                    return -1 !== t.indexOf("<") ? m.fields[e].range[0] : -1 !== t.indexOf(">") ? m.fields[e].range[1] : (t = t.replace(/%/g, ""),
                    n = (0,
                    m.getFieldFormatter)(m.fields[e], this._model.screener_type).parse(t),
                    n.res ? (o = n.value || 0 === n.value ? n.value : n.price,
                    n = Math.min(m.fields[e].range[1], Math.max(m.fields[e].range[0], o))) : m.fields[e].range[i])
                }
            }, {
                key: "approximateSliderValues",
                value: function(e, t) {
                    var i, n, o = [0, 0], s = [].concat(-1e100, m.fields[e].values, 1e100);
                    for (i = 0; i < 2; i++)
                        for (n = 0; n < s.length; n++)
                            Math.abs(t[i] - s[n]) < Math.abs(t[i] - s[o[i]]) && (o[i] = n);
                    return o
                }
            }, {
                key: "updateFilterSearch",
                value: function() {
                    var e = this._dialog.$fieldSearchInput.val().trim().replace(/^,\s*|\s*,$/, "").toLowerCase().split(/\s*,\s*/);
                    this._dialog.$filtersPopup.find(".js-filter-field").removeClass("js-found"),
                    e.forEach(function(e) {
                        var t, i, n, o;
                        for (t in m.fields)
                            i = $(".js-filter-field-" + t.replace(/\W/g, "")).not(".js-found"),
                            n = -1 !== t.toLowerCase().indexOf(e) || m.fields[t].filterTitle && -1 !== m.fields[t].filterTitle.toLowerCase().indexOf(e) || m.fields[t].title && -1 !== m.fields[t].title.toLowerCase().indexOf(e),
                            i.toggleClass("js-hidden", !n).toggleClass("js-found", n),
                            o = i.next(),
                            o.is(".js-filter-rollup") && o.toggleClass("js-hidden", !n)
                    })
                }
            }, {
                key: "showActiveFilters",
                value: function() {
                    var e, t, i = this;
                    if (!this._dialog.$filtersPopup) {
                        e = [];
                        for (t in m.fields)
                            if (m.fields[t].value) {
                                if ("condition" === m.fields[t].control && ((0,
                                m.isValueAbsent)(m.fields[t].value.operator) || (0,
                                m.isValueAbsent)(m.fields[t].value.value)))
                                    continue;
                                e.push(m.fields[t].filterTitle || m.fields[t].title)
                            }
                        this._dialog.showFiltersDialog(!0).then(function() {
                            i._dialog.$dialogContainer.find(".js-search-input").val(e.join(", ")),
                            i.updateFilterSearch()
                        })
                    }
                }
            }, {
                key: "resetAllFilters",
                value: function() {
                    for (var e in m.fields)
                        this.resetFilter(e);
                    this._dialog.$dialogContainer.find(".js-search-input").val(""),
                    this.updateFilterSearch()
                }
            }, {
                key: "resetFilter",
                value: function(e) {
                    var t, i;
                    m.fields[e].value && !1 !== m.fields[e].resettableFilter && (m.fields[e].value = null,
                    t = this._dialog.$filtersPopup || this.$inplaceEditor,
                    t && ("select" === m.fields[e].control ? t.find(".js-filter-field-" + e.replace(/\W/g, "")).trigger("reset") : "condition" === m.fields[e].control ? t.find('[name="' + e + '"]').val("").trigger("change") : "toggle" === m.fields[e].control ? t.find('[name="' + e + '"]').prop("checked", !1) : "range" === m.fields[e].control && (i = m.fields[e].range,
                    m.fields[e].values && (i = [0, m.fields[e].values.length + 1]),
                    t.find('[data-field="' + e + '"]').slider("values", i).trigger("slide", {
                        values: i
                    }))),
                    this._resetField(e),
                    this._model.update())
                }
            }, {
                key: "_rangeLeftValue",
                value: function(e) {
                    var t = m.fields[e].value;
                    return "in_range" === t.operator && (t = t.value),
                    this._isLessThenMin(t[0], e) ? this._rangeMinValue(e) : (0,
                    m.getFieldFormatter)(m.fields[e], this._model.screener_type).format(t[0])
                }
            }, {
                key: "_rangeRightValue",
                value: function(e) {
                    var t = m.fields[e].value;
                    return "in_range" === t.operator && (t = t.value),
                    this._isGreaterThenMax(t[1], e) ? this._rangeMaxValue(e) : (0,
                    m.getFieldFormatter)(m.fields[e], this._model.screener_type).format(t[1])
                }
            }, {
                key: "_isGreaterThenMax",
                value: function(e, t) {
                    return m.fields[t].range && e >= m.fields[t].range[1]
                }
            }, {
                key: "_isLessThenMin",
                value: function(e, t) {
                    return m.fields[t].range && e <= m.fields[t].range[0]
                }
            }, {
                key: "_rangeMinValue",
                value: function(e) {
                    return "<" + (0,
                    m.getFieldFormatter)(m.fields[e], this._model.screener_type).format(m.fields[e].values[0])
                }
            }, {
                key: "_rangeMaxValue",
                value: function(e) {
                    return ">" + (0,
                    m.getFieldFormatter)(m.fields[e], this._model.screener_type).format(m.fields[e].values[m.fields[e].values.length - 1])
                }
            }, {
                key: "_highlightActiveItems",
                value: function(e) {
                    if (!e.find(".js-filter-checkbox:checked").size())
                        return e.find(".tv-control-select__option-wrap").removeClass("i-active"),
                        void e.find(".js-item-wrap-any .tv-control-select__option-wrap").addClass("i-active");
                    e.find(".js-filter-checkbox:checked, .js-filter-checkbox-any:checked").each(function() {
                        e.find(".tv-control-select__option-wrap").removeClass("i-active"),
                        $(this).closest(".tv-control-select__option-wrap").addClass("i-active")
                    })
                }
            }, {
                key: "_closeDropdown",
                value: function(e) {
                    e.tvDropdown("close"),
                    this.$inplaceEditor && this.$inplaceEditor.focus()
                }
            }, {
                key: "_createMultiSelectItems",
                value: function(e, t, i, n) {
                    var o, s, r, a, l, c, d, h, u = (m.fields[e].useDefaultRange ? m.fields[e].defaultRange : m.fields[e].range).slice().sort(function(t, i) {
                        var n = m.fields[e].value === t || Array.isArray(m.fields[e].value) && ~m.fields[e].value.indexOf(t)
                          , o = m.fields[e].value === i || Array.isArray(m.fields[e].value) && ~m.fields[e].value.indexOf(i);
                        return n && !o ? -1 : o && !n ? 1 : !1 === m.fields[e].sortable ? 0 : t > i ? 1 : -1
                    });
                    for (o = null === i ? 0 : -1; o < u.length; ++o)
                        s = -1 === o ? $.t("Any") : u[o],
                        r = $('<input type="checkbox" name="' + s + '" class="js-filter-checkbox' + (-1 === o ? "-any" : "") + '"' + (m.fields[e].value === s || Array.isArray(m.fields[e].value) && ~m.fields[e].value.indexOf(s) ? "checked" : "") + ">"),
                        -1 === o && (i = r),
                        a = m.fields[e].rangeTitles,
                        l = a && a[s] && a[s][2],
                        c = this._getFieldValueFromRangeTitles(s, e),
                        d = l && !0 === l.nowrap ? '<span class="tv-control-checkbox__label--nowrap">' + c + "</span>" : c,
                        h = $('<div class="tv-dropdown-behavior__item js-item-wrap' + (-1 === o ? "-any" : "") + '">').appendTo(t),
                        $('<label data-field="' + e + '" class="tv-control-select__option-wrap ' + n + '__dropdown-checkbox-item">').append(r).append('<span class="tv-control-checkbox__label">' + d + "</span>").appendTo(h),
                        r.tvControlCheckbox();
                    return i
                }
            }, {
                key: "_createMultiSelectItemsElement",
                value: function(e, t, i, n) {
                    var o = arguments.length > 4 && void 0 !== arguments[4] && arguments[4]
                      , s = this
                      , r = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : function() {}
                      , a = arguments.length > 6 && void 0 !== arguments[6] && arguments[6]
                      , l = {
                        changed: !1,
                        resetOptions: null
                    }
                      , c = $()
                      , d = $()
                      , h = function(i) {
                        var n = t.find(".js-filter-checkbox:checked")
                          , h = !n.size();
                        a ? c && c.prop("checked", !0) : d.prop("checked", h),
                        o && s._highlightActiveItems(t),
                        i || s._resetField(e),
                        s._model.update(),
                        l.changed = !i,
                        r(t, h)
                    }
                      , u = $();
                    return l.resetOptions = function(i) {
                        t.empty(),
                        d = s._createMultiSelectItems(e, t, a ? null : d, n),
                        !0 !== i && h(!0),
                        u = $()
                    }
                    ,
                    l.resetOptions(),
                    t.on("change", ".js-filter-checkbox", function(n) {
                        var r = $(n.target)
                          , l = r.attr("name");
                        if (o && m.fields[e].value === l)
                            return r.prop("checked", !0),
                            void s._closeDropdown(i);
                        c = $(),
                        r.prop("checked") ? m.fields[e].value ? o ? (t.find(".js-filter-checkbox").not(r).prop("checked", !1),
                        m.fields[e].value = l) : (Array.isArray(m.fields[e].value) || (m.fields[e].value = [m.fields[e].value]),
                        m.fields[e].value.push(l)) : m.fields[e].value = l : Array.isArray(m.fields[e].value) ? (m.fields[e].value.splice(m.fields[e].value.indexOf(l), 1),
                        1 === m.fields[e].value.length ? m.fields[e].value = m.fields[e].value[0] : m.fields[e].value.length || (a ? (c = r,
                        m.fields[e].value = l) : m.fields[e].value = null)) : a ? (c = r,
                        m.fields[e].value = l) : m.fields[e].value = null,
                        h(),
                        o && s._closeDropdown(i)
                    }),
                    a || t.on("click touchend", ".js-filter-checkbox-any", function(n) {
                        n.preventDefault(),
                        setTimeout(function() {
                            if (!m.fields[e].value)
                                return d.prop("checked", !0),
                                void s._closeDropdown(i);
                            d.prop("checked") ? (u.prop("checked", !0),
                            m.fields[e].value = u.toArray().map(function(e) {
                                return e.name
                            }),
                            m.fields[e].value.length ? 1 === m.fields[e].value.length && (m.fields[e].value = m.fields[e].value[0]) : m.fields[e].value = null) : (u = t.find(".js-filter-checkbox:checked"),
                            t.find(".js-filter-checkbox").prop("checked", !1),
                            m.fields[e].value = null),
                            h(),
                            o && s._closeDropdown(i)
                        }, 0)
                    }),
                    l
                }
            }, {
                key: "_createMultiselectFilter",
                value: function(e, t, n, o) {
                    var s, r, a, l, c, d, h = this, u = arguments.length > 4 && void 0 !== arguments[4] && arguments[4], p = $('<div class="' + o + "__selectbox-container js-filter-field-" + e.replace(/\W/g, "") + ' js-dropdown-toggle">').appendTo(t), f = $('<i class="' + o + '__selectbox-dropdown-toggle">').append($(i(1832)).attr({
                        width: 12,
                        height: 7
                    })), g = $('<span class="' + o + "__selectbox-caption " + o + '__selectbox-caption--text-overflow">\n\t\t\t<span class="' + o + '__selectbox-caption-label js-label"></span>\n\t\t</span>').append(f).appendTo(p), _ = g.find(".js-label"), v = $('<div class="tv-dropdown__body tv-dropdown-behavior__body">'), y = $();
                    (m.fields[e].useDefaultRange ? m.fields[e].defaultRange : m.fields[e].range).length >= V && (s = $('<div class="' + o + '__search-wrap">').appendTo(v),
                    y = $('<input type="text" placeholder="' + $.t("Search") + '" class="' + o + '__search-input">').appendTo(s),
                    r = $('<div class="tv-control-select__option-wrap ' + o + '__search-no-matches js-hidden">No matches</div>').appendTo(v),
                    y.on("change input", function(e) {
                        var t = y.val().trim().toLowerCase();
                        t ? l.find(".js-item-wrap").each(function() {
                            var e = $(this);
                            e.toggleClass("js-hidden", !~e.text().toLowerCase().indexOf(t))
                        }) : l.find(".js-item-wrap").removeClass("js-hidden"),
                        l.find(".js-item-wrap-any").toggleClass("js-hidden", !!l.find(".js-item-wrap.js-hidden").size()),
                        r.toggleClass("js-hidden", !!l.find(".js-item-wrap:not(.js-hidden)").size()),
                        p.tvDropdown("updateScroll")
                    })),
                    a = $('<div class="tv-dropdown-behavior__scroll">').appendTo(v),
                    l = $('<div class="tv-screener-fields-popup__items-wrap tv-dropdown-behavior__inscroll">').appendTo(a),
                    c = this._createMultiSelectItemsElement(e, l, p, o, u, function() {
                        _.empty(),
                        l.find(".js-filter-checkbox:checked, .js-filter-checkbox-any:checked").each(function(t, i) {
                            _.append($('<span class="tv-screener-dialog__filter-field-content-value">').text(h._getFieldValueFromRangeTitles($(i).attr("name"), e)))
                        }),
                        p.focus()
                    }),
                    d = function(e) {
                        var t, i, o, s;
                        if (!0 === e || p.is(".i-opened")) {
                            if (t = p.closest(".i-scrollable"),
                            t.size() && (p.offset().top + p.height() < t.offset().top || p.offset().top > t.offset().top + t.height()))
                                return void p.tvDropdown("close");
                            i = n.offset(),
                            o = p.offset(),
                            s = $(window).height() - o.top + $(window).scrollTop() - W,
                            y.size() && (s -= z),
                            a.css("maxHeight", s),
                            v.css({
                                top: o.top - i.top + N,
                                left: o.left - i.left
                            }).appendTo(n)
                        }
                    }
                    ,
                    p.tvDropdown({
                        $wrap: g,
                        $body: v,
                        scroll: !0,
                        closeWithEsc: !0
                    }).on("resetPosition", d).on("beforeOpenMenu", function() {
                        c.changed && (c.resetOptions(!0),
                        c.changed = !1),
                        d(!0),
                        u && (l.find(".tv-control-checkbox__box, .js-filter-checkbox, .js-filter-checkbox-any").hide(),
                        h._highlightActiveItems(l),
                        l.find(".tv-control-checkbox__label").css("margin-right", 0)),
                        f.addClass(o + "__selectbox-dropdown-toggle--open")
                    }).on("afterOpenMenu", function() {
                        y.size() && setTimeout(function() {
                            y.focus().on("focusout", function() {
                                y.focus(),
                                setTimeout(function() {
                                    y.focus()
                                }, 10)
                            }),
                            y.add(".tv-screener-inplace-editor__dropdown-checkbox-item").on("keypress keyup", function(e) {
                                e.keyCode === b.ESC && h._closeDropdown(p)
                            })
                        }, 0)
                    }).on("beforeCloseMenu", function() {
                        f.removeClass(o + "__selectbox-dropdown-toggle--open"),
                        y.off("focusout keypress keyup")
                    }).on("afterCloseMenu", function() {
                        v.detach()
                    }).on("reset", c.resetOptions).on("mousedownoutside", function() {
                        p.tvDropdown("close")
                    }),
                    v.on("mousedown", function(e) {
                        return e.stopPropagation()
                    })
                }
            }, {
                key: "_applySelectbox",
                value: function(e, t) {
                    var n, o, s, r, a, l, c, d, h = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, u = h.classPrefix || "tv-screener-dialog", p = $('<label class="' + u + '__selectbox-container js-dropdown-toggle">');
                    return h.addClass && p.addClass(h.addClass),
                    p.insertAfter(e),
                    e.appendTo(p),
                    n = $('<i class="' + u + '__selectbox-dropdown-toggle">').append($(i(1832)).attr({
                        width: 12,
                        height: 7
                    })),
                    o = $('<span class="' + u + '__selectbox-caption">\n\t\t\t<span class="' + u + '__selectbox-caption-label js-label"></span>\n\t\t</span>').append(n).appendTo(p),
                    s = $('<div class="tv-dropdown__body tv-dropdown-behavior__body">'),
                    r = $('<div class="tv-dropdown-behavior__scroll">').appendTo(s),
                    a = $('<div class="tv-screener-fields-popup__items-wrap tv-dropdown-behavior__inscroll">').appendTo(r),
                    l = function() {
                        var t, i;
                        s.find(".js-option-selected").removeClass("i-active js-option-selected"),
                        t = s.find('[data-value="' + e.val() + '"]'),
                        i = !t.data("value"),
                        t.addClass("i-active js-option-selected").toggleClass(u + "__selectbox-option--no-value", i),
                        o.find(".js-label").toggleClass(u + "__selectbox-caption--no-value", i).text(t.text())
                    }
                    ,
                    c = function() {
                        var t, i;
                        for (a.empty(),
                        t = e.get(0).childNodes,
                        i = 0; i < t.length; ++i)
                            $('<span data-value="' + t[i].value + '" class="tv-dropdown-behavior__item tv-control-select__option js-option">\n\t\t\t\t\t<span class="tv-control-select__option-wrap ' + u + '__selectbox-option-wrap">' + t[i].textContent + "</span>\n\t\t\t\t</span>").appendTo(a);
                        l()
                    }
                    ,
                    c(),
                    e.on("change", l),
                    d = function(e) {
                        var i, n, o;
                        if (!0 === e || p.is(".i-opened")) {
                            if (i = p.closest(".i-scrollable"),
                            i.size() && (p.offset().top + p.height() < i.offset().top || p.offset().top > i.offset().top + i.height()))
                                return void p.tvDropdown("close");
                            n = t.offset(),
                            o = p.offset(),
                            r.css("maxHeight", $(window).height() - o.top + $(window).scrollTop() - W),
                            s.css({
                                top: o.top - n.top + N,
                                left: o.left - n.left
                            }).appendTo(t)
                        }
                    }
                    ,
                    p.on("resetPosition", d).on("beforeOpenMenu", function() {
                        d(!0),
                        n.addClass(u + "__selectbox-dropdown-toggle--open")
                    }).on("beforeCloseMenu", function() {
                        return n.removeClass(u + "__selectbox-dropdown-toggle--open")
                    }).on("afterCloseMenu", function() {
                        s.detach()
                    }).tvDropdown({
                        $wrap: o,
                        $body: s,
                        scroll: !0,
                        closeWithEsc: !0
                    }),
                    a.on("click", ".js-option", function(t) {
                        var i = $(t.currentTarget)
                          , n = i.data("value");
                        e.val() !== n && (e.val(n),
                        e.trigger("change")),
                        p.tvDropdown("close")
                    }),
                    s.on("mousedown", function(e) {
                        return e.stopPropagation()
                    }),
                    e.on("reset", c),
                    p
                }
            }, {
                key: "_isFilterValueEmpty",
                value: function(e) {
                    var t = m.fields[e].value;
                    return t && "condition" === m.fields[e].control ? "" === t.value || null == t.value : !(t && (!Array.isArray(t) || t.length) && ("object" !== (void 0 === t ? "undefined" : r(t)) || Object.keys(t).find(function(e) {
                        return !!t[e]
                    })))
                }
            }, {
                key: "addFieldFilter",
                value: function(e, t) {
                    var n, o, s, r = this, a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "tv-screener-dialog", l = arguments[3], d = $('<div class="' + a + "__filter-field js-filter-field js-filter-field-" + e.replace(/\W/g, "") + " " + a + "__filter-field--cat" + m.fields[e].category + ' js-wrap">'), h = !this._isFilterValueEmpty(e);
                    return h ? (n = t.find(".tv-screener-dialog__filter-field--active"),
                    n.length > 0 ? d.insertAfter(n.last()) : t.prepend(d)) : d.appendTo(t),
                    l && (h ? t.removeClass("tv-screener-inplace-editor__without-reset") : (d.addClass("tv-screener-inplace-editor__filter-without-reset"),
                    t.addClass("tv-screener-inplace-editor__without-reset"))),
                    o = m.fields[e].filterTitle || m.fields[e].title,
                    "toggle" === m.fields[e].control && (o = $.t("New {0}").format(o)),
                    $('<div class="' + a + "__filter-field-title js-filter-field-title-" + e.replace(/\W/g, "") + '">' + o + "</div>").appendTo(d),
                    this.setFieldActive(e, h, d),
                    s = $('<div class="' + a + "__filter-field-content " + a + "__filter-field-content--" + m.fields[e].control + ' js-filter-field-_content">').appendTo(d),
                    $('<div class="' + a + "__filter-field-reset " + (h || !l ? "" : "i-hidden ") + 'apply-common-tooltip js-reset" data-field="' + e + '" title="' + $.t("Reset") + '">').append($(i(1837))).appendTo(d),
                    new Promise(function(t) {
                        setTimeout(function() {
                            var i, n, o, c, d, h, u, p, f, g, _, v, y, b, w, C, A, x, S, k, F, E, T, B;
                            if ("select" === m.fields[e].control)
                                r._createMultiselectFilter(e, s, l ? r._bridge.$body : r._dialog.$dialogContainer, a, m.fields[e].isSingle);
                            else if ("range" === m.fields[e].control)
                                i = {
                                    range: !0
                                },
                                n = m.fields[e].range[0],
                                o = m.fields[e].range[1],
                                m.fields[e].values ? (i.min = 0,
                                i.max = m.fields[e].values.length + 1,
                                m.fields[e].value && Array.isArray(m.fields[e].value) ? (i.values = r.approximateSliderValues(e, m.fields[e].value),
                                n = r._rangeLeftValue(e),
                                o = r._rangeRightValue(e)) : (i.values = [0, m.fields[e].values.length + 1],
                                n = r._rangeMinValue(e),
                                o = r._rangeMaxValue(e))) : (i.min = m.fields[e].range[0],
                                i.max = m.fields[e].range[1],
                                i.values = m.fields[e].value || [m.fields[e].range[0], m.fields[e].range[1]]),
                                $('<div class="tv-slider" data-field="' + e + '">\n\t\t\t\t\t\t<div class="tv-slider__labels">\n\t\t\t\t\t\t\t<input type="text" data-field="' + e + '" data-bound="0" class="tv-slider__label tv-slider__label--left" value="' + n + '"/>\n\t\t\t\t\t\t\t<input type="text" data-field="' + e + '" data-bound="1" class="tv-slider__label tv-slider__label--right" value="' + o + '"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>').slider(i).appendTo(s);
                            else if ("condition" === m.fields[e].control) {
                                c = $('<select name="' + e + '" class="js-filter-operator js-hidden">').appendTo(s),
                                d = !0;
                                for (h in L)
                                    m.fields[e].hiddenOperators && -1 !== m.fields[e].hiddenOperators.indexOf(h) || (d && !m.fields[e].value && (d = !1,
                                    m.fields[e].value = {
                                        operator: h
                                    }),
                                    $('<option value="' + h + '"' + (h === (m.fields[e].value && m.fields[e].value.operator) ? " selected" : "") + ">" + L[h] + "</option>").appendTo(c));
                                if (r._applySelectbox(c, l ? r._bridge.$body : r._dialog.$dialogContainer, {
                                    classPrefix: a,
                                    addClass: a + "__filter-field-content--left"
                                }),
                                u = void 0,
                                u = m.fields[e].conditionFields ? Array.isArray(m.fields[e].conditionFields) ? m.fields[e].conditionFields : m.fields[e].conditionFields[r._model.screener_type] || m.fields[e].conditionFields.default || R : R,
                                p = $('<select name="' + e + '" class="js-filter-operator-value js-hidden">').appendTo(s),
                                $('<option value="">' + $.t("Value") + "</option>").appendTo(p),
                                f = void 0,
                                0 === u.length)
                                    f = $('<label class="' + a + "__selectbox-container js-dropdown-toggle " + a + '__filter-field-content--middle js-hidden" tabindex="0">\n\t\t\t\t\t\t\t<span class="' + a + "__selectbox-caption-label js-label " + a + '__selectbox-caption--no-value">' + $.t("Value") + "</span>\n\t\t\t\t\t\t</label>").appendTo(s);
                                else {
                                    for (g = 0; g < u.length; ++g)
                                        _ = u[g],
                                        $('<option value="' + _ + '"' + (_ === (m.fields[e].value && m.fields[e].value.operator && m.fields[e].value.value) ? " selected" : "") + ">" + m.fields[_].title + "</option>").appendTo(p);
                                    f = r._applySelectbox(p, l ? r._bridge.$body : r._dialog.$dialogContainer, {
                                        classPrefix: a,
                                        addClass: a + "__filter-field-content--middle js-hidden"
                                    })
                                }
                                v = $('<input type="text" name="' + e + '" class="' + a + "__filter-field-content--right " + a + '__filter-field-text js-filter-operator-arb-value">').appendTo(s),
                                m.fields[e].value && "number" == typeof m.fields[e].value.value && v.val("" + m.fields[e].value.value),
                                y = function(e) {
                                    e.ctrlKey || e.metaKey || !e.charCode || !e.which || e.which < 32 || /[\d.-]/.test(String.fromCharCode(e.charCode)) || e.preventDefault()
                                }
                                ,
                                b = function(e) {
                                    var t = {
                                        value: e.val()
                                    };
                                    return e.on("keypress", y).on("change input", D(function(i) {
                                        e.val() !== t.value && (e.trigger("update", i),
                                        t.value = e.val())
                                    }, 500)),
                                    t
                                }
                                ,
                                w = $('<input type="text" name="' + e + '" class="' + a + "__filter-field-content--right " + a + '__filter-between-input js-filter-operator-between-left js-hidden">').appendTo(s),
                                m.fields[e].value && "in_range" === m.fields[e].value.operator && w.val("" + (-1e100 === m.fields[e].value.value[0] || r._isLessThenMin(m.fields[e].value.value[0], e) ? "" : m.fields[e].value.value[0])),
                                C = b(w),
                                A = $('<span class="' + a + '__filter-between-separator js-hidden">—</span>').appendTo(s),
                                x = $('<input type="text" name="' + e + '" class="' + a + "__filter-field-content--right " + a + '__filter-between-input js-filter-operator-between-right js-hidden">').appendTo(s),
                                m.fields[e].value && "in_range" === m.fields[e].value.operator && x.val("" + (1e100 === m.fields[e].value.value[1] || r._isGreaterThenMax(m.fields[e].value.value[1], e) ? "" : m.fields[e].value.value[1])),
                                S = b(x),
                                k = b(v),
                                F = function() {
                                    var e = c.val() && "in_range" !== c.val();
                                    f.toggleClass("js-hidden", !e),
                                    e || (k.value = "",
                                    v.val(""),
                                    p.val("").trigger("change"))
                                }
                                ,
                                E = function(e) {
                                    var t = c.val() && "in_range" !== c.val() && !p.val();
                                    v.toggleClass("js-hidden", !t),
                                    t && !0 !== e && setTimeout(function() {
                                        v.focus()
                                    }, 50)
                                }
                                ,
                                T = function(e) {
                                    var t = "in_range" === c.val();
                                    w.toggleClass("js-hidden", !t),
                                    A.toggleClass("js-hidden", !t),
                                    x.toggleClass("js-hidden", !t),
                                    t && !0 !== e && setTimeout(function() {
                                        w.focus()
                                    }, 50),
                                    t || !0 === e || (C.value = "",
                                    S.value = "",
                                    w.val(""),
                                    x.val(""),
                                    p.val("").trigger("change"))
                                }
                                ,
                                "in_range" === c.val() ? T(!0) : F(),
                                E(!0),
                                c.on("change", F).on("change", E).on("change", T),
                                p.on("change", E)
                            } else
                                "toggle" === m.fields[e].control && (B = $('<label class="' + a + '__filter-toggle">\n\t\t\t\t\t\t<input type="checkbox" name="' + e + '" class="' + a + '__filter-dropdown-item-input tv-screener-filter-rollup__item-input js-filter-toggle" ' + (m.fields[e].value ? "checked" : "") + '>\n\t\t\t\t\t\t<span class="' + a + '__filter-toggle-checkbox-title tv-control-checkbox__label">\n\t\t\t\t\t\t\t' + (-1 !== e.toLowerCase().indexOf("high") ? $.t("New High") : $.t("New Low")) + "\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</label>").appendTo(s),
                                B.find(".js-filter-toggle").tvControlCheckbox());
                            t()
                        }, l ? 0 : c.dur / 3.5)
                    }
                    )
                }
            }, {
                key: "showInplaceEditor",
                value: function(e, t) {
                    var i = this;
                    m.fields[e] && (this._inplaceEditorField = e,
                    this.$inplaceEditorTarget = t,
                    this.$inplaceEditor || (this.$inplaceEditor = $('<div class="tv-screener-inplace-editor tv-screener-inplace-editor--hidden">').on("mousedownoutside", function(e) {
                        var t, n = m.fields[i._inplaceEditorField];
                        if ("condition" === n.control && n.value && ((0,
                        m.isValueAbsent)(n.value.value) || (0,
                        m.isValueAbsent)(n.value.operator)) && (n.value = null),
                        t = i.$inplaceEditor.find(".js-dropdown-toggle.i-opened"),
                        !t.size())
                            return void i.$inplaceEditor.addClass("tv-screener-inplace-editor--hidden");
                        t.one("afterCloseMenu", function() {
                            setTimeout(function() {
                                return i.$inplaceEditor.addClass("tv-screener-inplace-editor--hidden")
                            }, 50)
                        })
                    }).on("transitionend", function() {
                        i.$inplaceEditor.is(".tv-screener-inplace-editor--hidden") && i.$inplaceEditor.addClass("js-hidden")
                    }).on("keypress keyup", function(e) {
                        e.keyCode !== b.ESC || $(".tv-dropdown__body.i-opened").length || i.$inplaceEditor.trigger("mousedownoutside")
                    }).attr("tabIndex", "0").appendTo(this._bridge.$body),
                    this._bridge.standalone && (this.$inplaceEditor.addClass("tv-screener-inplace-editor--standalone"),
                    $(document).on("scroll", function() {
                        i.$inplaceEditor.is(".js-hidden") || i.$inplaceEditor.css("top", i.$inplaceEditorTarget.offset().top - i._bridge.$body.offset().top)
                    }))),
                    this.$inplaceEditor.empty().removeClass("tv-screener-inplace-editor__without-reset").removeClass("js-hidden").toggleClass("tv-screener-inplace-editor--slim", "toggle" === m.fields[e].control).toggleClass("tv-screener-inplace-editor--wide", "condition" === m.fields[e].control),
                    this.addFieldFilter(e, this.$inplaceEditor, "tv-screener-inplace-editor", !0).then(function() {
                        i.initFilterHandlers(i.$inplaceEditor)
                    }),
                    this.$inplaceEditor.css({
                        top: t.offset().top - this._bridge.$body.offset().top,
                        left: (m.fields[e].inplaceEditorLeftOffset || 0) + Math.min(t.position().left - this.$content.scrollLeft(), this._getInplaceEditorRightBorder())
                    }).removeClass("tv-screener-inplace-editor--hidden").focus(),
                    this._model.trackEvent("Open inplace editor"))
                }
            }, {
                key: "_getInplaceEditorRightBorder",
                value: function() {
                    var e, t, i = this._bridge.$body.width() - this.$inplaceEditor.outerWidth() + $(document).scrollLeft();
                    return this._bridge.standalone && (e = this._getResizerBridgeWidth(),
                    t = this._table.$element.width() + e,
                    $(window).width() < t && (i = $(window).width() - e - this.$inplaceEditor.outerWidth() + $(document).scrollLeft())),
                    i
                }
            }, {
                key: "setFilterSet",
                value: function(e) {
                    var t = this._model.getFilterSetById(e);
                    this.$filterSetsButton.removeClass("tv-screener-toolbar__button--unsaved"),
                    this.$filterSetsButtonTitle.text(t.title),
                    this._popups.$filterSetsPopup && (this._popups.$filterSetsPopup.find(".tv-screener-popup__item").removeClass("tv-screener-popup__item--active"),
                    this._popups.$filterSetsPopup.find('[data-set="' + e + '"]').addClass("tv-screener-popup__item--active"))
                }
            }, {
                key: "setFieldSet",
                value: function(e) {
                    var t = this._model.getFieldSetById(e);
                    this.$fieldSetsButton.removeClass("tv-screener-toolbar__button--unsaved").text(t.title)
                }
            }, {
                key: "setDropdownToolbarBehavior",
                value: function(e) {
                    var t = this;
                    e.on("beforeOpenMenu", function(e) {
                        t._openedDropdownCount++,
                        t.$toolbar.toggleClass("tv-screener-toolbar--popup_open", t._openedDropdownCount > 0)
                    }).on("afterCloseMenu", function(e) {
                        t._openedDropdownCount--,
                        t.$toolbar.toggleClass("tv-screener-toolbar--popup_open", t._openedDropdownCount > 0)
                    })
                }
            }, {
                key: "addSelect",
                value: function(e) {
                    var t, i, n, o, s = e.$before, r = void 0 === s ? null : s, a = e.$appendTo, l = void 0 === a ? null : a, c = e.$dropdownContainer, d = void 0 === c ? null : c, h = e.beforeMakingSelectPopup, u = void 0 === h ? function() {}
                    : h, p = e.makeSelectPopup, f = void 0 === p ? function() {}
                    : p, g = e.afterMakingSelectPopup, m = void 0 === g ? function() {}
                    : g, _ = e.afterSelectPopupAppend, v = void 0 === _ ? function() {}
                    : _, y = {
                        $dropdownContainer: d
                    };
                    return u(),
                    t = f(y),
                    i = t.$wrap,
                    n = t.$button,
                    o = t.$dropdownContent,
                    m(i, n, o),
                    (r || l) && (r ? i.insertBefore(r) : i.appendTo(l),
                    v(i, n, o)),
                    n
                }
            }, {
                key: "updateIntervalButton",
                value: function(e, t) {
                    e || (e = this._$selectIntervalButton),
                    t || (t = this._model.selectedIntervalId);
                    var i = (0,
                    x.getIntervalById)(t);
                    i && e.html(i.shortTitle)
                }
            }, {
                key: "addIntervalSelect",
                value: function(e) {
                    var t = this
                      , i = e.$before
                      , n = void 0 === i ? null : i
                      , o = e.$appendTo
                      , r = void 0 === o ? null : o
                      , a = e.$dropdownContainer
                      , l = void 0 === a ? null : a
                      , c = e.classSuffix
                      , d = void 0 === c ? null : c;
                    return this.addSelect({
                        $before: n,
                        $appendTo: r,
                        $dropdownContainer: l,
                        makeSelectPopup: function(e) {
                            var i = {
                                wrapClass: d ? "tv-screener-interval-select tv-screener-interval-select" + d : "tv-screener-interval-select",
                                buttonClass: "tv-screener-toolbar__button tv-screener-toolbar__button--arrow-down tv-screener-toolbar__button--with-state apply-common-tooltip common-tooltip-fixed i-disabled",
                                dropdownClass: "tv-screener-interval-select__body"
                            };
                            return t._popups.setSelectPopup(i, s({
                                buttonTitle: $.t("Time Interval")
                            }, e))
                        },
                        afterMakingSelectPopup: function(e, i, n) {
                            t._popups.setSelectIntervalContent(e, n, function(e) {
                                t._model.setSelectedIntervalId(e.id),
                                t.updateIntervalButton(i, e.id),
                                t.updateToolbarButtons(),
                                t.preventHighlightChanges(),
                                t.refresh()
                            })
                        },
                        afterSelectPopupAppend: function(e, i) {
                            t._model.loadingComplete.subscribe(null, function() {
                                i.removeClass("i-disabled"),
                                t.updateIntervalButton(i, t._model.selectedIntervalId)
                            }, !0)
                        }
                    })
                }
            }, {
                key: "updateGroupsButton",
                value: function(e, t) {
                    if (t.length === m.fields.sector.sourceRange.length)
                        e.append($('<span class="tv-screener-dialog__filter-field-content-value">').text($.t("All Pairs")));
                    else {
                        t.sort(function(e, t) {
                            return m.fields.sector.sourceRange.indexOf(e) > m.fields.sector.sourceRange.indexOf(t) ? 1 : -1
                        });
                        for (var i = 0; i < t.length; i++)
                            e.append($('<span class="tv-screener-dialog__filter-field-content-value">').text(t[i] + (i === t.length - 1 ? " " + $.t("Pairs") : "")))
                    }
                }
            }, {
                key: "addGroupSelect",
                value: function(e) {
                    var t = this
                      , i = e.$before
                      , n = void 0 === i ? null : i
                      , o = e.$appendTo
                      , r = void 0 === o ? null : o
                      , a = e.$dropdownContainer
                      , l = void 0 === a ? null : a
                      , c = e.classSuffix
                      , d = void 0 === c ? null : c;
                    return this.addSelect({
                        $before: n,
                        $appendTo: r,
                        $dropdownContainer: l,
                        beforeMakingSelectPopup: function() {
                            "forex" === t._model.screener_type && (m.fields.sector.value = t._model.selectedGroups)
                        },
                        makeSelectPopup: function(e) {
                            var i = {
                                wrapClass: d ? "tv-screener-group-select tv-screener-group-select" + d : "tv-screener-group-select",
                                buttonClass: "tv-screener-toolbar__button tv-screener-toolbar__button--space_right tv-screener-toolbar__button--arrow-down tv-screener-toolbar__button--with-state apply-common-tooltip common-tooltip-fixed i-disabled",
                                dropdownClass: "tv-screener-group-select__body"
                            };
                            return "forex" !== t._model.screener_type && (i.wrapClass += " i-hidden"),
                            t._popups.setSelectPopup(i, s({
                                buttonTitle: $.t("Groups")
                            }, e))
                        },
                        afterMakingSelectPopup: function(e, i, n) {
                            i.on("click", function() {
                                n.off("change click touchend"),
                                t._createMultiSelectItemsElement("sector", n, e, "tv-screener-inplace-editor", !1, function(e) {
                                    var n, o;
                                    i.empty(),
                                    n = [],
                                    o = e.find(".js-filter-checkbox:checked, .js-filter-checkbox-any:checked"),
                                    o.each(function(e, t) {
                                        var i = $(t).attr("name");
                                        n.push(i)
                                    }),
                                    t._model.setSelectedGroups(n),
                                    t.updateGroupsButton(i, n),
                                    t.updateToolbarButtons()
                                }, !0)
                            })
                        },
                        afterSelectPopupAppend: function(e, i) {
                            t._$groupSelect = e,
                            t._model.loadingComplete.subscribe(null, function() {
                                i.removeClass("i-disabled"),
                                t.updateGroupsButton(i, t._model.selectedGroups)
                            }, !0)
                        }
                    })
                }
            }, {
                key: "updateMarketButton",
                value: function(e, t) {
                    e || (e = this._model.market);
                    var i = (0,
                    _.getMarketsByScreenerType)(this._model.screener_type);
                    $(".js-screener-market-button").html((0,
                    A.flagHtml)(i[e].flag)),
                    t && t.append('<span class="tv-screener-market-select__button-title">\n\t\t\t\t' + i[e].title + '\n\t\t\t</span><span class="tv-caret">')
                }
            }, {
                key: "addMarketSelect",
                value: function(e) {
                    var t = this
                      , i = e.$before
                      , n = void 0 === i ? null : i
                      , o = e.$appendTo
                      , s = void 0 === o ? null : o
                      , r = e.$dropdownContainer
                      , a = void 0 === r ? null : r
                      , l = e.caption
                      , c = void 0 !== l && l
                      , d = e.classSuffix
                      , h = void 0 === d ? null : d;
                    this.addSelect({
                        $before: n,
                        $appendTo: s,
                        $dropdownContainer: a,
                        beforeMakingSelectPopup: function() {
                            t._popups.setMarketsList((0,
                            _.getMarketsByScreenerType)(t._model.screener_type))
                        },
                        makeSelectPopup: function(e) {
                            var i = {
                                wrapClass: h ? "tv-screener-market-select tv-screener-market-select" + h : "tv-screener-market-select",
                                buttonClass: "tv-screener-market-select__button js-screener-market-button apply-common-tooltip common-tooltip-fixed",
                                dropdownClass: "tv-screener-market-select__body"
                            };
                            return t._popups.setMarketSelectPopup(i, e)
                        },
                        afterMakingSelectPopup: function(e, i, n) {
                            n.on("click", ".js-dropdown__item", function(n) {
                                var o = $(n.currentTarget).data("market");
                                t._dialog.destroy(),
                                t.$filterSetsButton.toggleClass("i-disabled", !0),
                                t.$fieldSetsButton.toggleClass("i-disabled", !0),
                                t._model.setMarket(o).then(function() {
                                    t.$filterSetsButton.toggleClass("i-disabled", !1),
                                    t.$fieldSetsButton.toggleClass("i-disabled", !1),
                                    e.tvDropdown("enable"),
                                    t.updateMarketButton(o, c && i || null)
                                }).catch(function(t) {
                                    e.tvDropdown("enable"),
                                    t && B.logError(t)
                                }),
                                e.tvDropdown("close"),
                                e.tvDropdown("disable")
                            }),
                            n.on("click", ".js-dropdown__switch-item", function(n) {
                                var o = $(n.currentTarget).data("new-type");
                                t._dialog.destroy(),
                                t._model.changeScreenerType(o).then(function() {
                                    t._lastSetId = null,
                                    t._popups.setMarketsList((0,
                                    _.getMarketsByScreenerType)(t._model.screener_type)),
                                    "forex" === t._model.screener_type ? t._$groupSelect.removeClass("i-hidden") : t._$groupSelect.addClass("i-hidden"),
                                    e.tvDropdown("enable"),
                                    t._popups.updateRefreshIntervalsPopupContent()
                                }).then(function() {
                                    return t.updateMarketButton("forex" === t._model.screener_type ? "forex" : t._model.market, c && i || null)
                                }).catch(function(t) {
                                    e.tvDropdown("enable"),
                                    t && B.logError(t)
                                }),
                                e.tvDropdown("close"),
                                e.tvDropdown("disable")
                            }),
                            t._popups.setMarketsList((0,
                            _.getMarketsByScreenerType)(t._model.screener_type))
                        },
                        afterSelectPopupAppend: function(e, i) {
                            t.updateMarketButton(t._model.market, c && i || null)
                        }
                    })
                }
            }, {
                key: "refresh",
                value: function() {
                    this._data && (this._prevData = this._data.slice()),
                    this._model.invalidateRequest(),
                    this._model.update(null, !1, !1, !1)
                }
            }, {
                key: "resetRefreshCounter",
                value: function(e) {
                    var t, i, n, o = this;
                    clearInterval(this._refreshCounterIntervalId),
                    !0 !== e && (t = this._model.refreshInterval,
                    i = -1 === t || !user.is_pro && "forex" !== this._model.screener_type,
                    this.$refreshButton.toggleClass("tv-screener-toolbar__button--with-counter", !i && "forex" !== this._model.screener_type).toggleClass("tv-screener-toolbar__button--active", !i),
                    i || (n = function() {
                        var e, i;
                        if ("forex" !== o._model.screener_type && (e = t / 60 | 0,
                        i = t % 60,
                        o.$refreshCounter.text(("00" + e).slice(-2) + ":" + ("00" + i).slice(-2))),
                        t <= 0)
                            return void o.refresh();
                        --t
                    }
                    ,
                    n(),
                    t >= 0 && (this._refreshCounterIntervalId = setInterval(n, 1e3))))
                }
            }, {
                key: "preventHighlightChanges",
                value: function() {
                    this._preventHighlightChanges = !0
                }
            }, {
                key: "highlightChanges",
                value: function() {
                    var e, t, i, n, o, s, r, a, l, c, d, h = this;
                    if (this._preventHighlightChanges)
                        return void (this._preventHighlightChanges = !1);
                    if (this._prevData && this._data && !this._model.marketChangeProcess) {
                        for (e = {},
                        t = 0; t < (this._prevData || []).length; ++t)
                            e[this._prevData[t].s] = this._prevData[t].d;
                        if (delete this._prevData,
                        "forex" !== this._model.screener_type) {
                            for (o = [],
                            s = 0; s < this._data.length; ++s)
                                if (r = this._data[s].s,
                                a = this._data[s].d,
                                l = e[r]) {
                                    for (c = !1,
                                    d = 0; d < a.length; ++d)
                                        if (a[d] !== l[d]) {
                                            c = !0;
                                            break
                                        }
                                    c && o.push(r)
                                }
                            o.length && this._table.$tbody.find('tr[data-symbol="' + o.join('"],tr[data-symbol="') + '"]').addClass("tv-screener-table__result-row--flick")
                        } else
                            for (i = function(t) {
                                var i, n, o, s, r = h._data[t].s, a = h._data[t].d, l = e[r];
                                if (!l)
                                    return "continue";
                                for (i = ["bid", "ask", "close"],
                                n = 0; n < i.length; ++n)
                                    o = i[n],
                                    s = h._table.fieldsOrder.indexOf(o),
                                    a[s] !== l[s] && h._table.$tbody.find('tr[data-symbol="' + r + '"] td').eq(s).find("span").addClass(a[s] > l[s] ? "tv-screener-table__cell--growing" : "tv-screener-table__cell--falling");
                                setTimeout(function() {
                                    h._table.$tbody.find('tr[data-symbol="' + r + '"] td span').removeClass("tv-screener-table__cell--growing tv-screener-table__cell--falling")
                                }, 1e3)
                            }
                            ,
                            n = 0; n < this._data.length; ++n) {
                                i(n)
                            }
                    }
                }
            }, {
                key: "totalCount",
                get: function() {
                    return this._totalCount
                }
            }, {
                key: "itemsCount",
                get: function() {
                    return this._itemsCount
                },
                set: function(e) {
                    return this._itemsCount = +e,
                    this._itemsCount
                }
            }, {
                key: "lastSetId",
                set: function(e) {
                    this._lastSetId = e
                }
            }, {
                key: "popups",
                get: function() {
                    return this._popups
                }
            }, {
                key: "table",
                get: function() {
                    return this._table
                }
            }, {
                key: "refreshIntervals",
                get: function() {
                    return "forex" === this._model.screener_type ? P : I
                }
            }, {
                key: "conditionOperators",
                get: function() {
                    return L
                }
            }]),
            e
        }()
    },
    2045: function(e, t, i) {
        (function(e) {
            "use strict";
            function n(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            function o(e) {
                var t, i;
                if (e && e.__esModule)
                    return e;
                if (t = {},
                null != e)
                    for (i in e)
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                return t.default = e,
                t
            }
            function s(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(e, t) {
                if (!e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !t || "object" != typeof t && "function" != typeof t ? e : t
            }
            function a(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            function l() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return new y(c({}, _, e))
            }
            var c, d, h, u, p, f, g, m, _, v, y;
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
            c = Object.assign || function(e) {
                var t, i, n;
                for (t = 1; t < arguments.length; t++) {
                    i = arguments[t];
                    for (n in i)
                        Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n])
                }
                return e
            }
            ,
            d = function() {
                function e(e, t) {
                    var i, n;
                    for (i = 0; i < t.length; i++)
                        n = t[i],
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(e, n.key, n)
                }
                return function(t, i, n) {
                    return i && e(t.prototype, i),
                    n && e(t, n),
                    t
                }
            }(),
            t.createScreenerAlertsListDialog = l,
            i(2012),
            h = i(7),
            u = o(h),
            p = i(81),
            f = i(64),
            g = n(f),
            m = {
                table: '<table class="tv-screener-alerts-list-dialog__table tv-screener-alerts-list-dialog__table--space-bottom">\n\t\t<colgroup>\n\t\t\t<col span="2">\n\t\t\t<col width="160" class="i-collapsing">\n\t\t\t<col width="50">\n\t\t</colgroup>\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th class="tv-screener-alerts-list-dialog__table-head">' + $.t("Screen") + '</th>\n\t\t\t\t<th class="tv-screener-alerts-list-dialog__table-head">' + $.t("Symbols") + '</th>\n\t\t\t\t<th class="tv-screener-alerts-list-dialog__table-head i-collapsing">' + $.t("Fired") + '</th>\n\t\t\t\t<th class="tv-screener-alerts-list-dialog__table-head">&nbsp;</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody class="js-rows-container"></tbody>\n\t</table>',
                row: '<tr data-id="{{id}}" data-alert-id="{{alert_id}}" class="tv-screener-alerts-list-dialog__row js-item-row{{#new_item}} js-new-item{{/new_item}}">\n\t\t<td class="tv-screener-alerts-list-dialog__table-cell">\n\t\t\t<div class="tv-screener-alerts-list-dialog__table-cell-wrap apply-overflow-tooltip apply-overflow-tooltip--allow-text"><span data-filter="{{filter_set_id}}" data-market="{{market}}" class="tv-screener-alerts-list-dialog__link js-filter">{{filter_name}}</span></div>\n\t\t</td>\n\t\t<td class="tv-screener-alerts-list-dialog__table-cell">\n\t\t\t<div class="tv-screener-alerts-list-dialog__table-cell-wrap apply-overflow-tooltip apply-overflow-tooltip--allow-text">{{#symbols}}<span\n\t\t\t\tdata-symbol="{{full}}" class="tv-screener-alerts-list-dialog__link js-symbol">{{short}}</span>{{^last}}, {{/last}}{{/symbols}}\n\t\t\t</div>\n\t\t</td>\n\t\t<td class="tv-screener-alerts-list-dialog__table-cell i-collapsing">\n\t\t\t<div class="tv-screener-alerts-list-dialog__table-cell-wrap">{{fired}}</div>\n\t\t</td>\n\t\t<td class="tv-screener-alerts-list-dialog__table-cell">\n\t\t\t<div class="tv-screener-alerts-list-dialog__alert-controls">\n\t\t\t\t<span class="tv-screener-alerts-list-dialog__alert-controls-icon tv-screener-alerts-list-dialog__alert-controls-icon--settings js-icon-edit apply-common-tooltip" title="' + $.t("Edit Alert Settings") + '">\n\t\t\t\t\t' + i(956) + "\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</td>\n\t</tr>"
            },
            _ = {
                title: $.t("Alerts Log"),
                width: 600,
                contentWrapTemplate: m.table,
                closeOnOutsideClick: !1,
                closeOnClickAtOtherDialogs: !1,
                destroyOnClose: !0
            },
            v = 100,
            y = function(t) {
                function i() {
                    var e, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    return s(this, i),
                    e = r(this, (i.__proto__ || Object.getPrototypeOf(i)).call(this, t)),
                    e.$rowsContainer = e.$content.find(".js-rows-container"),
                    e.$rowsContainer.on("click", ".js-icon-edit", function(t) {
                        var i = $(t.currentTarget).closest(".js-item-row");
                        e.trigger("editClick", i.attr("data-id"), i.attr("data-alert-id"))
                    }).on("click", ".js-symbol", function(t) {
                        e.trigger("symbolClick", $(t.currentTarget).data("symbol"))
                    }).on("click", ".js-filter", function(t) {
                        e.trigger("filterClick", $(t.currentTarget).data("filter") + "", $(t.currentTarget).data("market"))
                    }),
                    e.updateView = (0,
                    g.default)(function() {
                        e.calcHeight(),
                        e.fixPos()
                    }, 0),
                    e
                }
                return a(i, t),
                d(i, [{
                    key: "clearRows",
                    value: function() {
                        this.$rowsContainer.empty()
                    }
                }, {
                    key: "addRows",
                    value: function(e) {
                        var t, i, n = this;
                        return this.removeEmptyStub(),
                        !this.opened && e.length > v ? (t = e.slice(),
                        i = t.splice(v, 1 / 0),
                        this._appendRows(t),
                        this.updateView(),
                        new Promise(function(e) {
                            n.once("afterOpen", function() {
                                n._appendRows(i),
                                e()
                            })
                        }
                        )) : (this._appendRows(e),
                        this.updateView(),
                        Promise.resolve())
                    }
                }, {
                    key: "hasRow",
                    value: function(e) {
                        return !!this.$rowsContainer.find('[data-id="' + e + '"]').size()
                    }
                }, {
                    key: "highlightNew",
                    value: function() {
                        var e = this.$rowsContainer.find(".js-new-item");
                        e.size() && (e.removeClass("js-new-item").addClass("tv-screener-alerts-list-dialog__row--highlighted"),
                        setTimeout(function() {
                            return e.removeClass("tv-screener-alerts-list-dialog__row--highlighted")
                        }, u.dur))
                    }
                }, {
                    key: "setEmptyStub",
                    value: function() {
                        this.$content.addClass("js-hidden"),
                        $('<div class="tv-screener-alerts-list-dialog__empty-stub js-empty-stub">').text($.t("No alerts triggered")).insertAfter(this.$content)
                    }
                }, {
                    key: "removeEmptyStub",
                    value: function() {
                        this.$el.find(".js-empty-stub").remove(),
                        this.$content.removeClass("js-hidden")
                    }
                }, {
                    key: "_appendRows",
                    value: function(t) {
                        var i, n, o = "";
                        for (i = 0; i < t.length; ++i)
                            n = Object.assign({}, t[i]),
                            Array.isArray(n.symbols) && (n.symbols = n.symbols.slice(),
                            n.symbols[n.symbols.length - 1].last = !0),
                            o += e.render(m.row, n);
                        this.$rowsContainer.get(0).insertAdjacentHTML("beforeend", o)
                    }
                }]),
                i
            }(p.TVPopup)
        }
        ).call(t, i(5))
    },
    2085: function(e, t, i) {
        "use strict";
        i(2089),
        i(2091),
        i(2090),
        i(2092),
        i(2093),
        i(2094)
    },
    2089: function(e, t) {
        !function() {
            function e(e) {
                var n = function(e, t) {
                    return i("", e, t)
                }
                  , o = r;
                e && (r[e] || (r[e] = {}),
                o = r[e]),
                o.define && o.define.packaged || (t.original = o.define,
                o.define = t,
                o.define.packaged = !0),
                o.require && o.require.packaged || (i.original = o.require,
                o.require = n,
                o.require.packaged = !0)
            }
            var t, i, n, o, s = "", r = function() {
                return this || window
            }();
            (s || "undefined" == typeof requirejs) && (t = function(e, i, n) {
                if ("string" != typeof e)
                    return void (t.original ? t.original.apply(window, arguments) : (console.error("dropping module because define wasn't a string."),
                    console.trace()));
                2 == arguments.length && (n = i),
                t.modules || (t.modules = {},
                t.payloads = {}),
                t.payloads[e] = n,
                t.modules[e] = null
            }
            ,
            i = function(e, t, n) {
                var s, r, a, l, c;
                if ("[object Array]" === Object.prototype.toString.call(t)) {
                    for (s = [],
                    r = 0,
                    a = t.length; r < a; ++r) {
                        if (!(l = o(e, t[r])) && i.original)
                            return i.original.apply(window, arguments);
                        s.push(l)
                    }
                    n && n.apply(null, s)
                } else {
                    if ("string" == typeof t)
                        return !(c = o(e, t)) && i.original ? i.original.apply(window, arguments) : (n && n(),
                        c);
                    if (i.original)
                        return i.original.apply(window, arguments)
                }
            }
            ,
            n = function(e, t) {
                var i, o, s;
                if (-1 !== t.indexOf("!"))
                    return i = t.split("!"),
                    n(e, i[0]) + "!" + n(e, i[1]);
                if ("." == t.charAt(0))
                    for (o = e.split("/").slice(0, -1).join("/"),
                    t = o + "/" + t; -1 !== t.indexOf(".") && s != t; )
                        s = t,
                        t = t.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "");
                return t
            }
            ,
            o = function(e, o) {
                var s, r, a, l, c;
                return o = n(e, o),
                s = t.modules[o],
                s || (s = t.payloads[o],
                "function" == typeof s && (r = {},
                a = {
                    id: o,
                    uri: "",
                    exports: r,
                    packaged: !0
                },
                l = function(e, t) {
                    return i(o, e, t)
                }
                ,
                c = s(l, r, a),
                r = c || a.exports,
                t.modules[o] = r,
                delete t.payloads[o]),
                s = t.modules[o] = r || s),
                s
            }
            ,
            e(s))
        }(),
        define("ace/ace", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/dom", "ace/lib/event", "ace/editor", "ace/edit_session", "ace/undomanager", "ace/virtual_renderer", "ace/multi_select", "ace/worker/worker_client", "ace/keyboard/hash_handler", "ace/placeholder", "ace/mode/folding/fold_mode", "ace/config"], function(e, t, i) {
            var n, o, s, r, a, l, c;
            e("./lib/fixoldbrowsers"),
            n = e("./lib/dom"),
            o = e("./lib/event"),
            s = e("./editor").Editor,
            r = e("./edit_session").EditSession,
            a = e("./undomanager").UndoManager,
            l = e("./virtual_renderer").VirtualRenderer,
            c = e("./multi_select").MultiSelect,
            e("./worker/worker_client"),
            e("./keyboard/hash_handler"),
            e("./placeholder"),
            e("./mode/folding/fold_mode"),
            t.config = e("./config"),
            t.require = e,
            t.edit = function(e) {
                var i, r, a, d;
                if ("string" == typeof e && (i = e,
                !(e = document.getElementById(i))))
                    throw Error("ace.edit can't find div #" + i);
                return e.env && e.env.editor instanceof s ? e.env.editor : (r = t.createEditSession(n.getInnerText(e)),
                e.innerHTML = "",
                a = new s(new l(e)),
                new c(a),
                a.setSession(r),
                d = {
                    document: r,
                    editor: a,
                    onResize: a.resize.bind(a, null)
                },
                o.addListener(window, "resize", d.onResize),
                a.on("destroy", function() {
                    o.removeListener(window, "resize", d.onResize)
                }),
                e.env = a.env = d,
                a)
            }
            ,
            t.createEditSession = function(e, t) {
                var i = new r(e,t);
                return i.setUndoManager(new a),
                i
            }
            ,
            t.EditSession = r,
            t.UndoManager = a
        }),
        define("ace/lib/fixoldbrowsers", ["require", "exports", "module", "ace/lib/regexp"], function(e, t, i) {
            e("./regexp")
        }),
        define("ace/lib/regexp", ["require", "exports", "module"], function(e, t, i) {
            function n(e) {
                return (e.global ? "g" : "") + (e.ignoreCase ? "i" : "") + (e.multiline ? "m" : "") + (e.extended ? "x" : "") + (e.sticky ? "y" : "")
            }
            function o(e, t, i) {
                if (Array.prototype.indexOf)
                    return e.indexOf(t, i);
                for (var n = i || 0; n < e.length; n++)
                    if (e[n] === t)
                        return n;
                return -1
            }
            var s = {
                exec: RegExp.prototype.exec,
                test: RegExp.prototype.test,
                match: String.prototype.match,
                replace: String.prototype.replace,
                split: String.prototype.split
            }
              , r = void 0 === s.exec.call(/()??/, "")[1]
              , a = function() {
                var e = /^/g;
                return s.test.call(e, ""),
                !e.lastIndex
            }();
            a && r || (RegExp.prototype.exec = function(e) {
                var t, i, l, c = s.exec.apply(this, arguments);
                if ("string" == typeof e && c) {
                    if (!r && c.length > 1 && o(c, "") > -1 && (i = RegExp(this.source, s.replace.call(n(this), "g", "")),
                    s.replace.call(e.slice(c.index), i, function() {
                        for (var e = 1; e < arguments.length - 2; e++)
                            void 0 === arguments[e] && (c[e] = void 0)
                    })),
                    this._xregexp && this._xregexp.captureNames)
                        for (l = 1; l < c.length; l++)
                            (t = this._xregexp.captureNames[l - 1]) && (c[t] = c[l]);
                    !a && this.global && !c[0].length && this.lastIndex > c.index && this.lastIndex--
                }
                return c
            }
            ,
            a || (RegExp.prototype.test = function(e) {
                var t = s.exec.call(this, e);
                return t && this.global && !t[0].length && this.lastIndex > t.index && this.lastIndex--,
                !!t
            }
            ))
        }),
        define("ace/lib/dom", ["require", "exports", "module"], function(e, t, i) {
            if ("undefined" != typeof document) {
                var n = "http://www.w3.org/1999/xhtml";
                t.getDocumentHead = function(e) {
                    return e || (e = document),
                    e.head || e.getElementsByTagName("head")[0] || e.documentElement
                }
                ,
                t.createElement = function(e, t) {
                    return document.createElementNS ? document.createElementNS(t || n, e) : document.createElement(e)
                }
                ,
                t.hasCssClass = function(e, t) {
                    return -1 !== e.className.split(/\s+/g).indexOf(t)
                }
                ,
                t.addCssClass = function(e, i) {
                    t.hasCssClass(e, i) || (e.className += " " + i)
                }
                ,
                t.removeCssClass = function(e, t) {
                    for (var i, n = e.className.split(/\s+/g); ; ) {
                        if (-1 == (i = n.indexOf(t)))
                            break;
                        n.splice(i, 1)
                    }
                    e.className = n.join(" ")
                }
                ,
                t.toggleCssClass = function(e, t) {
                    for (var i, n = e.className.split(/\s+/g), o = !0; ; ) {
                        if (-1 == (i = n.indexOf(t)))
                            break;
                        o = !1,
                        n.splice(i, 1)
                    }
                    return o && n.push(t),
                    e.className = n.join(" "),
                    o
                }
                ,
                t.setCssClass = function(e, i, n) {
                    n ? t.addCssClass(e, i) : t.removeCssClass(e, i)
                }
                ,
                t.hasCssString = function(e, t) {
                    var i, n = 0;
                    if (t = t || document,
                    t.createStyleSheet && (i = t.styleSheets)) {
                        for (; n < i.length; )
                            if (i[n++].owningElement.id === e)
                                return !0
                    } else if (i = t.getElementsByTagName("style"))
                        for (; n < i.length; )
                            if (i[n++].id === e)
                                return !0;
                    return !1
                }
                ,
                t.importCssString = function(e, i, o) {
                    if (o = o || document,
                    i && t.hasCssString(i, o))
                        return null;
                    var s;
                    o.createStyleSheet ? (s = o.createStyleSheet(),
                    s.cssText = e,
                    i && (s.owningElement.id = i)) : (s = o.createElementNS ? o.createElementNS(n, "style") : o.createElement("style"),
                    s.appendChild(o.createTextNode(e)),
                    i && (s.id = i),
                    t.getDocumentHead(o).appendChild(s))
                }
                ,
                t.importCssStylsheet = function(e, i) {
                    if (i.createStyleSheet)
                        i.createStyleSheet(e);
                    else {
                        var n = t.createElement("link");
                        n.rel = "stylesheet",
                        n.href = e,
                        t.getDocumentHead(i).appendChild(n)
                    }
                }
                ,
                t.getInnerWidth = function(e) {
                    return parseInt(t.computedStyle(e, "paddingLeft"), 10) + parseInt(t.computedStyle(e, "paddingRight"), 10) + e.clientWidth
                }
                ,
                t.getInnerHeight = function(e) {
                    return parseInt(t.computedStyle(e, "paddingTop"), 10) + parseInt(t.computedStyle(e, "paddingBottom"), 10) + e.clientHeight
                }
                ,
                void 0 !== window.pageYOffset ? (t.getPageScrollTop = function() {
                    return window.pageYOffset
                }
                ,
                t.getPageScrollLeft = function() {
                    return window.pageXOffset
                }
                ) : (t.getPageScrollTop = function() {
                    return document.body.scrollTop
                }
                ,
                t.getPageScrollLeft = function() {
                    return document.body.scrollLeft
                }
                ),
                window.getComputedStyle ? t.computedStyle = function(e, t) {
                    return t ? (window.getComputedStyle(e, "") || {})[t] || "" : window.getComputedStyle(e, "") || {}
                }
                : t.computedStyle = function(e, t) {
                    return t ? e.currentStyle[t] : e.currentStyle
                }
                ,
                t.scrollbarWidth = function(e) {
                    var i, n, o, s, r, a = t.createElement("ace_inner");
                    return a.style.width = "100%",
                    a.style.minWidth = "0px",
                    a.style.height = "200px",
                    a.style.display = "block",
                    i = t.createElement("ace_outer"),
                    n = i.style,
                    n.position = "absolute",
                    n.left = "-10000px",
                    n.overflow = "hidden",
                    n.width = "200px",
                    n.minWidth = "0px",
                    n.height = "150px",
                    n.display = "block",
                    i.appendChild(a),
                    o = e.documentElement,
                    o.appendChild(i),
                    s = a.offsetWidth,
                    n.overflow = "scroll",
                    r = a.offsetWidth,
                    s == r && (r = i.clientWidth),
                    o.removeChild(i),
                    s - r
                }
                ,
                t.setInnerHtml = function(e, t) {
                    var i = e.cloneNode(!1);
                    return i.innerHTML = t,
                    e.parentNode.replaceChild(i, e),
                    i
                }
                ,
                "textContent"in document.documentElement ? (t.setInnerText = function(e, t) {
                    e.textContent = t
                }
                ,
                t.getInnerText = function(e) {
                    return e.textContent
                }
                ) : (t.setInnerText = function(e, t) {
                    e.innerText = t
                }
                ,
                t.getInnerText = function(e) {
                    return e.innerText
                }
                ),
                t.getParentWindow = function(e) {
                    return e.defaultView || e.parentWindow
                }
            }
        }),
        define("ace/lib/event", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent", "ace/lib/dom"], function(e, t, i) {
            function n(e, t, i) {
                var n, r, c = 0;
                if (c = !l.isOpera || "KeyboardEvent"in window || !l.isMac ? 0 | (t.ctrlKey ? 1 : 0) | (t.altKey ? 2 : 0) | (t.shiftKey ? 4 : 0) | (t.metaKey ? 8 : 0) : 0 | (t.metaKey ? 1 : 0) | (t.altKey ? 2 : 0) | (t.shiftKey ? 4 : 0) | (t.ctrlKey ? 8 : 0),
                !l.isMac && o) {
                    if ((o[91] || o[92]) && (c |= 8),
                    o.altGr) {
                        if (3 == (3 & c))
                            return;
                        o.altGr = 0
                    }
                    18 !== i && 17 !== i || (n = t.location || t.keyLocation,
                    17 === i && 1 === n ? s = t.timeStamp : 18 === i && 3 === c && 2 === n && (r = -s,
                    s = t.timeStamp,
                    (r += s) < 3 && (o.altGr = !0)))
                }
                if (i in a.MODIFIER_KEYS) {
                    switch (a.MODIFIER_KEYS[i]) {
                    case "Alt":
                        c = 2;
                        break;
                    case "Shift":
                        c = 4;
                        break;
                    case "Ctrl":
                        c = 1;
                        break;
                    default:
                        c = 8
                    }
                    i = 0
                }
                if (8 & c && (91 === i || 93 === i) && (i = 0),
                c || 13 !== i || !t.location && 3 !== t.keyLocation || (e(t, c, -i),
                !t.defaultPrevented))
                    return !!(c || i in a.FUNCTION_KEYS || i in a.PRINTABLE_KEYS) && e(t, c, i)
            }
            var o, s, r, a = e("./keys"), l = e("./useragent");
            e("./dom");
            t.addListener = function(e, t, i) {
                if (e.addEventListener)
                    return e.addEventListener(t, i, !1);
                if (e.attachEvent) {
                    var n = function() {
                        i.call(e, window.event)
                    };
                    i._wrapper = n,
                    e.attachEvent("on" + t, n)
                }
            }
            ,
            t.removeListener = function(e, t, i) {
                if (e.removeEventListener)
                    return e.removeEventListener(t, i, !1);
                e.detachEvent && e.detachEvent("on" + t, i._wrapper || i)
            }
            ,
            t.stopEvent = function(e) {
                return t.stopPropagation(e),
                t.preventDefault(e),
                !1
            }
            ,
            t.stopPropagation = function(e) {
                e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
            }
            ,
            t.preventDefault = function(e) {
                e.preventDefault ? e.preventDefault() : e.returnValue = !1
            }
            ,
            t.getButton = function(e) {
                return "dblclick" == e.type ? 0 : "contextmenu" == e.type || e.ctrlKey && l.isMac ? 2 : e.preventDefault ? e.button : {
                    1: 0,
                    2: 2,
                    4: 1
                }[e.button]
            }
            ,
            t.capture = function(e, i, n) {
                function o(e) {
                    i && i(e),
                    n && n(e),
                    t.removeListener(document, "mousemove", i, !0),
                    t.removeListener(document, "mouseup", o, !0),
                    t.removeListener(document, "dragstart", o, !0)
                }
                t.addListener(document, "mousemove", i, !0),
                t.addListener(document, "mouseup", o, !0),
                t.addListener(document, "dragstart", o, !0)
            }
            ,
            t.addMouseWheelListener = function(e, i) {
                if ("onmousewheel"in e) {
                    var n = 8;
                    t.addListener(e, "mousewheel", function(e) {
                        void 0 !== e.wheelDeltaX ? (e.wheelX = -e.wheelDeltaX / n,
                        e.wheelY = -e.wheelDeltaY / n) : (e.wheelX = 0,
                        e.wheelY = -e.wheelDelta / n),
                        i(e)
                    })
                } else
                    "onwheel"in e ? t.addListener(e, "wheel", function(e) {
                        e.wheelX = 5 * (e.deltaX || 0),
                        e.wheelY = 5 * (e.deltaY || 0),
                        i(e)
                    }) : t.addListener(e, "DOMMouseScroll", function(e) {
                        e.axis && e.axis == e.HORIZONTAL_AXIS ? (e.wheelX = 5 * (e.detail || 0),
                        e.wheelY = 0) : (e.wheelX = 0,
                        e.wheelY = 5 * (e.detail || 0)),
                        i(e)
                    })
            }
            ,
            t.addMultiMouseDownListener = function(e, i, n, o) {
                var s, r, a, c = 0, d = {
                    2: "dblclick",
                    3: "tripleclick",
                    4: "quadclick"
                };
                t.addListener(e, "mousedown", function(e) {
                    if (0 != t.getButton(e) ? c = 0 : e.detail > 1 ? ++c > 4 && (c = 1) : c = 1,
                    l.isIE) {
                        (Math.abs(e.clientX - s) > 5 || Math.abs(e.clientY - r) > 5) && (c = 1),
                        1 == c && (s = e.clientX,
                        r = e.clientY)
                    }
                    if (n[o]("mousedown", e),
                    c > 4)
                        c = 0;
                    else if (c > 1)
                        return n[o](d[c], e)
                }),
                l.isOldIE && t.addListener(e, "dblclick", function(e) {
                    c = 2,
                    a && clearTimeout(a),
                    a = setTimeout(function() {
                        a = null
                    }, i[c - 1] || 600),
                    n[o]("mousedown", e),
                    n[o](d[c], e)
                })
            }
            ,
            o = null,
            s = 0,
            t.addCommandKeyListener = function(e, i) {
                var s, r, a = t.addListener;
                l.isOldGecko || l.isOpera && !("KeyboardEvent"in window) ? (s = null,
                a(e, "keydown", function(e) {
                    s = e.keyCode
                }),
                a(e, "keypress", function(e) {
                    return n(i, e, s)
                })) : (r = null,
                a(e, "keydown", function(e) {
                    o[e.keyCode] = !0;
                    var t = n(i, e, e.keyCode);
                    return r = e.defaultPrevented,
                    t
                }),
                a(e, "keypress", function(e) {
                    r && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey) && (t.stopEvent(e),
                    r = null)
                }),
                a(e, "keyup", function(e) {
                    o[e.keyCode] = null
                }),
                o || (o = Object.create(null),
                a(window, "focus", function(e) {
                    o = Object.create(null)
                })))
            }
            ,
            window.postMessage && !l.isOldIE && (r = 1,
            t.nextTick = function(e, i) {
                i = i || window;
                var n = "zero-timeout-message-" + r;
                t.addListener(i, "message", function o(s) {
                    s.data == n && (t.stopPropagation(s),
                    t.removeListener(i, "message", o),
                    e())
                }),
                i.postMessage(n, "*")
            }
            ),
            t.nextFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame,
            t.nextFrame ? t.nextFrame = t.nextFrame.bind(window) : t.nextFrame = function(e) {
                setTimeout(e, 17)
            }
        }),
        define("ace/lib/keys", ["require", "exports", "module", "ace/lib/oop"], function(e, t, i) {
            var n = e("./oop")
              , o = function() {
                var e, t, i = {
                    MODIFIER_KEYS: {
                        16: "Shift",
                        17: "Ctrl",
                        18: "Alt",
                        224: "Meta"
                    },
                    KEY_MODS: {
                        ctrl: 1,
                        alt: 2,
                        option: 2,
                        shift: 4,
                        meta: 8,
                        command: 8,
                        cmd: 8
                    },
                    FUNCTION_KEYS: {
                        8: "Backspace",
                        9: "Tab",
                        13: "Return",
                        19: "Pause",
                        27: "Esc",
                        32: "Space",
                        33: "PageUp",
                        34: "PageDown",
                        35: "End",
                        36: "Home",
                        37: "Left",
                        38: "Up",
                        39: "Right",
                        40: "Down",
                        44: "Print",
                        45: "Insert",
                        46: "Delete",
                        96: "Numpad0",
                        97: "Numpad1",
                        98: "Numpad2",
                        99: "Numpad3",
                        100: "Numpad4",
                        101: "Numpad5",
                        102: "Numpad6",
                        103: "Numpad7",
                        104: "Numpad8",
                        105: "Numpad9",
                        "-13": "NumpadEnter",
                        111: "Numpad/",
                        112: "F1",
                        113: "F2",
                        114: "F3",
                        115: "F4",
                        116: "F5",
                        117: "F6",
                        118: "F7",
                        119: "F8",
                        120: "F9",
                        121: "F10",
                        122: "F11",
                        123: "F12",
                        144: "Numlock",
                        145: "Scrolllock"
                    },
                    PRINTABLE_KEYS: {
                        32: " ",
                        48: "0",
                        49: "1",
                        50: "2",
                        51: "3",
                        52: "4",
                        53: "5",
                        54: "6",
                        55: "7",
                        56: "8",
                        57: "9",
                        59: ";",
                        61: "=",
                        65: "a",
                        66: "b",
                        67: "c",
                        68: "d",
                        69: "e",
                        70: "f",
                        71: "g",
                        72: "h",
                        73: "i",
                        74: "j",
                        75: "k",
                        76: "l",
                        77: "m",
                        78: "n",
                        79: "o",
                        80: "p",
                        81: "q",
                        82: "r",
                        83: "s",
                        84: "t",
                        85: "u",
                        86: "v",
                        87: "w",
                        88: "x",
                        89: "y",
                        90: "z",
                        107: "+",
                        109: "-",
                        110: ".",
                        188: ",",
                        190: ".",
                        191: "/",
                        192: "`",
                        219: "[",
                        220: "\\",
                        221: "]",
                        222: "'"
                    }
                };
                for (e in i.FUNCTION_KEYS)
                    t = i.FUNCTION_KEYS[e].toLowerCase(),
                    i[t] = parseInt(e, 10);
                return n.mixin(i, i.MODIFIER_KEYS),
                n.mixin(i, i.PRINTABLE_KEYS),
                n.mixin(i, i.FUNCTION_KEYS),
                i.enter = i.return,
                i.escape = i.esc,
                i.del = i.delete,
                i[173] = "-",
                i
            }();
            n.mixin(t, o),
            t.keyCodeToString = function(e) {
                return (o[e] || String.fromCharCode(e)).toLowerCase()
            }
        }),
        define("ace/lib/oop", ["require", "exports", "module"], function(e, t, i) {
            t.inherits = function() {
                var e = function() {};
                return function(t, i) {
                    e.prototype = i.prototype,
                    t.super_ = i.prototype,
                    t.prototype = new e,
                    t.prototype.constructor = t
                }
            }(),
            t.mixin = function(e, t) {
                for (var i in t)
                    e[i] = t[i];
                return e
            }
            ,
            t.implement = function(e, i) {
                t.mixin(e, i)
            }
        }),
        define("ace/lib/useragent", ["require", "exports", "module"], function(e, t, i) {
            var n, o;
            t.OS = {
                LINUX: "LINUX",
                MAC: "MAC",
                WINDOWS: "WINDOWS"
            },
            t.getOS = function() {
                return t.isMac ? t.OS.MAC : t.isLinux ? t.OS.LINUX : t.OS.WINDOWS
            }
            ,
            "object" == typeof navigator && (n = (navigator.platform.match(/mac|win|linux/i) || ["other"])[0].toLowerCase(),
            o = navigator.userAgent,
            t.isWin = "win" == n,
            t.isMac = "mac" == n,
            t.isLinux = "linux" == n,
            t.isIE = ("Microsoft Internet Explorer" == navigator.appName || navigator.appName.indexOf("MSAppHost") >= 0) && parseFloat(navigator.userAgent.match(/MSIE ([0-9]+[\.0-9]+)/)[1]),
            t.isOldIE = t.isIE && t.isIE < 9,
            t.isGecko = t.isMozilla = window.controllers && "Gecko" === window.navigator.product,
            t.isOldGecko = t.isGecko && parseInt((navigator.userAgent.match(/rv\:(\d+)/) || [])[1], 10) < 4,
            t.isOpera = window.opera && "[object Opera]" == Object.prototype.toString.call(window.opera),
            t.isWebKit = parseFloat(o.split("WebKit/")[1]) || void 0,
            t.isChrome = parseFloat(o.split(" Chrome/")[1]) || void 0,
            t.isAIR = o.indexOf("AdobeAIR") >= 0,
            t.isIPad = o.indexOf("iPad") >= 0,
            t.isTouchPad = o.indexOf("TouchPad") >= 0)
        }),
        define("ace/editor", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/keyboard/textinput", "ace/mouse/mouse_handler", "ace/mouse/fold_handler", "ace/keyboard/keybinding", "ace/edit_session", "ace/search", "ace/range", "ace/lib/event_emitter", "ace/commands/command_manager", "ace/commands/default_commands", "ace/config"], function(e, t, i) {
            var n, o, s, r, a, l, c, d, h, u, p, f, g, m, _, v;
            e("./lib/fixoldbrowsers"),
            n = e("./lib/oop"),
            o = e("./lib/dom"),
            s = e("./lib/lang"),
            r = e("./lib/useragent"),
            a = e("./keyboard/textinput").TextInput,
            l = e("./mouse/mouse_handler").MouseHandler,
            c = e("./mouse/fold_handler").FoldHandler,
            d = e("./keyboard/keybinding").KeyBinding,
            h = e("./edit_session").EditSession,
            u = e("./search").Search,
            p = e("./range").Range,
            f = e("./lib/event_emitter").EventEmitter,
            g = e("./commands/command_manager").CommandManager,
            m = e("./commands/default_commands").commands,
            _ = e("./config"),
            v = function(e, t) {
                var i = e.getContainerElement();
                this.container = i,
                this.renderer = e,
                this.commands = new g(r.isMac ? "mac" : "win",m),
                this.textInput = new a(e.getTextAreaContainer(),this),
                this.renderer.textarea = this.textInput.getElement(),
                this.keyBinding = new d(this),
                this.$mouseHandler = new l(this),
                new c(this),
                this.$blockScrolling = 0,
                this.$search = (new u).set({
                    wrap: !0
                }),
                this.$historyTracker = this.$historyTracker.bind(this),
                this.commands.on("exec", this.$historyTracker),
                this.$initOperationListeners(),
                this._$emitInputEvent = s.delayedCall(function() {
                    this._signal("input", {}),
                    this.session.bgTokenizer && this.session.bgTokenizer.scheduleStart()
                }
                .bind(this)),
                this.on("change", function(e, t) {
                    t._$emitInputEvent.schedule(31)
                }),
                this.setSession(t || new h("")),
                _.resetOptions(this),
                _._emit("editor", this)
            }
            ,
            function() {
                n.implement(this, f),
                this.$initOperationListeners = function() {
                    function e(e) {
                        return e[e.length - 1]
                    }
                    this.selections = [],
                    this.commands.on("exec", function(t) {
                        var i, n;
                        this.startOperation(t),
                        i = t.command,
                        "fileJump" == i.group ? (n = this.prevOp) && "fileJump" == n.command.group || (this.lastFileJumpPos = e(this.selections)) : this.lastFileJumpPos = null
                    }
                    .bind(this), !0),
                    this.commands.on("afterExec", function(e) {
                        if ("fileJump" == e.command.group && this.lastFileJumpPos && !this.curOp.selectionChanged)
                            return void this.selection.fromJSON(this.lastFileJumpPos);
                        this.endOperation(e)
                    }
                    .bind(this), !0),
                    this.$opResetTimer = s.delayedCall(this.endOperation.bind(this)),
                    this.on("change", function() {
                        this.curOp || this.startOperation(),
                        this.curOp.docChanged = !0
                    }
                    .bind(this), !0),
                    this.on("changeSelection", function() {
                        this.curOp || this.startOperation(),
                        this.curOp.selectionChanged = !0
                    }
                    .bind(this), !0)
                }
                ,
                this.curOp = null,
                this.prevOp = {},
                this.startOperation = function(e) {
                    if (this.curOp) {
                        if (!e || this.curOp.command)
                            return;
                        this.prevOp = this.curOp
                    }
                    e || (this.previousCommand = null,
                    e = {}),
                    this.$opResetTimer.schedule(),
                    this.curOp = {
                        command: e.command || {},
                        args: e.args
                    },
                    this.selections.push(this.selection.toJSON())
                }
                ,
                this.endOperation = function() {
                    this.curOp && (this.prevOp = this.curOp,
                    this.curOp = null)
                }
                ,
                this.$historyTracker = function(e) {
                    var t, i, n, o;
                    this.$mergeUndoDeltas && (t = this.prevOp,
                    i = ["backspace", "del", "insertstring"],
                    n = t.command && e.command.name == t.command.name,
                    "insertstring" == e.command.name ? (o = e.args,
                    void 0 === this.mergeNextCommand && (this.mergeNextCommand = !0),
                    n = n && this.mergeNextCommand && (!/\s/.test(o) || /\s/.test(t.args)),
                    this.mergeNextCommand = !0) : n = n && -1 !== i.indexOf(e.command.name),
                    "always" != this.$mergeUndoDeltas && Date.now() - this.sequenceStartTime > 2e3 && (n = !1),
                    n ? this.session.mergeUndoDeltas = !0 : -1 !== i.indexOf(e.command.name) && (this.sequenceStartTime = Date.now()))
                }
                ,
                this.setKeyboardHandler = function(e) {
                    if (e)
                        if ("string" == typeof e) {
                            this.$keybindingId = e;
                            var t = this;
                            _.loadModule(["keybinding", e], function(i) {
                                t.$keybindingId == e && t.keyBinding.setKeyboardHandler(i && i.handler)
                            })
                        } else
                            this.$keybindingId = null,
                            this.keyBinding.setKeyboardHandler(e);
                    else
                        this.keyBinding.setKeyboardHandler(null)
                }
                ,
                this.getKeyboardHandler = function() {
                    return this.keyBinding.getKeyboardHandler()
                }
                ,
                this.setSession = function(e) {
                    var t, i;
                    this.session != e && (this.session && (t = this.session,
                    this.session.removeEventListener("change", this.$onDocumentChange),
                    this.session.removeEventListener("changeMode", this.$onChangeMode),
                    this.session.removeEventListener("tokenizerUpdate", this.$onTokenizerUpdate),
                    this.session.removeEventListener("changeTabSize", this.$onChangeTabSize),
                    this.session.removeEventListener("changeWrapLimit", this.$onChangeWrapLimit),
                    this.session.removeEventListener("changeWrapMode", this.$onChangeWrapMode),
                    this.session.removeEventListener("onChangeFold", this.$onChangeFold),
                    this.session.removeEventListener("changeFrontMarker", this.$onChangeFrontMarker),
                    this.session.removeEventListener("changeBackMarker", this.$onChangeBackMarker),
                    this.session.removeEventListener("changeBreakpoint", this.$onChangeBreakpoint),
                    this.session.removeEventListener("changeAnnotation", this.$onChangeAnnotation),
                    this.session.removeEventListener("changeOverwrite", this.$onCursorChange),
                    this.session.removeEventListener("changeScrollTop", this.$onScrollTopChange),
                    this.session.removeEventListener("changeScrollLeft", this.$onScrollLeftChange),
                    i = this.session.getSelection(),
                    i.removeEventListener("changeCursor", this.$onCursorChange),
                    i.removeEventListener("changeSelection", this.$onSelectionChange)),
                    this.session = e,
                    this.$onDocumentChange = this.onDocumentChange.bind(this),
                    e.addEventListener("change", this.$onDocumentChange),
                    this.renderer.setSession(e),
                    this.$onChangeMode = this.onChangeMode.bind(this),
                    e.addEventListener("changeMode", this.$onChangeMode),
                    this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this),
                    e.addEventListener("tokenizerUpdate", this.$onTokenizerUpdate),
                    this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer),
                    e.addEventListener("changeTabSize", this.$onChangeTabSize),
                    this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this),
                    e.addEventListener("changeWrapLimit", this.$onChangeWrapLimit),
                    this.$onChangeWrapMode = this.onChangeWrapMode.bind(this),
                    e.addEventListener("changeWrapMode", this.$onChangeWrapMode),
                    this.$onChangeFold = this.onChangeFold.bind(this),
                    e.addEventListener("changeFold", this.$onChangeFold),
                    this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this),
                    this.session.addEventListener("changeFrontMarker", this.$onChangeFrontMarker),
                    this.$onChangeBackMarker = this.onChangeBackMarker.bind(this),
                    this.session.addEventListener("changeBackMarker", this.$onChangeBackMarker),
                    this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this),
                    this.session.addEventListener("changeBreakpoint", this.$onChangeBreakpoint),
                    this.$onChangeAnnotation = this.onChangeAnnotation.bind(this),
                    this.session.addEventListener("changeAnnotation", this.$onChangeAnnotation),
                    this.$onCursorChange = this.onCursorChange.bind(this),
                    this.session.addEventListener("changeOverwrite", this.$onCursorChange),
                    this.$onScrollTopChange = this.onScrollTopChange.bind(this),
                    this.session.addEventListener("changeScrollTop", this.$onScrollTopChange),
                    this.$onScrollLeftChange = this.onScrollLeftChange.bind(this),
                    this.session.addEventListener("changeScrollLeft", this.$onScrollLeftChange),
                    this.selection = e.getSelection(),
                    this.selection.addEventListener("changeCursor", this.$onCursorChange),
                    this.$onSelectionChange = this.onSelectionChange.bind(this),
                    this.selection.addEventListener("changeSelection", this.$onSelectionChange),
                    this.onChangeMode(),
                    this.$blockScrolling += 1,
                    this.onCursorChange(),
                    this.$blockScrolling -= 1,
                    this.onScrollTopChange(),
                    this.onScrollLeftChange(),
                    this.onSelectionChange(),
                    this.onChangeFrontMarker(),
                    this.onChangeBackMarker(),
                    this.onChangeBreakpoint(),
                    this.onChangeAnnotation(),
                    this.session.getUseWrapMode() && this.renderer.adjustWrapLimit(),
                    this.renderer.updateFull(),
                    this._emit("changeSession", {
                        session: e,
                        oldSession: t
                    }))
                }
                ,
                this.getSession = function() {
                    return this.session
                }
                ,
                this.setValue = function(e, t) {
                    return this.session.doc.setValue(e),
                    t ? 1 == t ? this.navigateFileEnd() : -1 == t && this.navigateFileStart() : this.selectAll(),
                    e
                }
                ,
                this.getValue = function() {
                    return this.session.getValue()
                }
                ,
                this.getSelection = function() {
                    return this.selection
                }
                ,
                this.resize = function(e) {
                    this.renderer.onResize(e)
                }
                ,
                this.setTheme = function(e) {
                    this.renderer.setTheme(e)
                }
                ,
                this.getTheme = function() {
                    return this.renderer.getTheme()
                }
                ,
                this.setStyle = function(e) {
                    this.renderer.setStyle(e)
                }
                ,
                this.unsetStyle = function(e) {
                    this.renderer.unsetStyle(e)
                }
                ,
                this.getFontSize = function() {
                    return this.getOption("fontSize") || o.computedStyle(this.container, "fontSize")
                }
                ,
                this.setFontSize = function(e) {
                    this.setOption("fontSize", e)
                }
                ,
                this.$highlightBrackets = function() {
                    if (this.session.$bracketHighlight1 && (this.session.removeMarker(this.session.$bracketHighlight1),
                    this.session.$bracketHighlight1 = null,
                    this.session.removeMarker(this.session.$bracketHighlight2),
                    this.session.$bracketHighlight2 = null),
                    !this.$highlightPending) {
                        var e = this;
                        this.$highlightPending = !0,
                        setTimeout(function() {
                            var t, i, n, o;
                            e.$highlightPending = !1,
                            t = e.getCursorPosition(),
                            i = new p(t.row,t.column - 1,t.row,t.column),
                            n = e.session.findMatchingBracket(t),
                            n ? o = new p(n.row,n.column,n.row,n.column + 1) : e.session.$mode.getMatching && (o = e.session.$mode.getMatching(e.session)),
                            o && (e.session.$bracketHighlight1 = e.session.addMarker(o, "ace_bracket", "text"),
                            e.session.$bracketHighlight2 = e.session.addMarker(i, "ace_bracket", "text"))
                        }, 50)
                    }
                }
                ,
                this.focus = function() {
                    var e = this;
                    setTimeout(function() {
                        e.textInput.focus()
                    }),
                    this.textInput.focus()
                }
                ,
                this.isFocused = function() {
                    return this.textInput.isFocused()
                }
                ,
                this.blur = function() {
                    this.textInput.blur()
                }
                ,
                this.onFocus = function() {
                    this.$isFocused || (this.$isFocused = !0,
                    this.renderer.showCursor(),
                    this.renderer.visualizeFocus(),
                    this._emit("focus"))
                }
                ,
                this.onBlur = function() {
                    this.$isFocused && (this.$isFocused = !1,
                    this.renderer.hideCursor(),
                    this.renderer.visualizeBlur(),
                    this._emit("blur"))
                }
                ,
                this.$cursorChange = function() {
                    this.renderer.updateCursor()
                }
                ,
                this.onDocumentChange = function(e) {
                    var t, i = e.data, n = i.range;
                    t = n.start.row == n.end.row && "insertLines" != i.action && "removeLines" != i.action ? n.end.row : 1 / 0,
                    this.renderer.updateLines(n.start.row, t),
                    this._emit("change", e),
                    this.$cursorChange()
                }
                ,
                this.onTokenizerUpdate = function(e) {
                    var t = e.data;
                    this.renderer.updateLines(t.first, t.last)
                }
                ,
                this.onScrollTopChange = function() {
                    this.renderer.scrollToY(this.session.getScrollTop())
                }
                ,
                this.onScrollLeftChange = function() {
                    this.renderer.scrollToX(this.session.getScrollLeft())
                }
                ,
                this.onCursorChange = function() {
                    this.$cursorChange(),
                    this.$blockScrolling || this.renderer.scrollCursorIntoView(),
                    this.$highlightBrackets(),
                    this.$updateHighlightActiveLine(),
                    this._emit("changeSelection")
                }
                ,
                this.$updateHighlightActiveLine = function() {
                    var e, t, i = this.getSession();
                    this.$highlightActiveLine && ("line" == this.$selectionStyle && this.selection.isMultiLine() || (e = this.getCursorPosition()),
                    this.renderer.$maxLines && 1 === this.session.getLength() && (e = !1)),
                    i.$highlightLineMarker && !e ? (i.removeMarker(i.$highlightLineMarker.id),
                    i.$highlightLineMarker = null) : !i.$highlightLineMarker && e ? (t = new p(e.row,e.column,e.row,1 / 0),
                    t.id = i.addMarker(t, "ace_active-line", "screenLine"),
                    i.$highlightLineMarker = t) : e && (i.$highlightLineMarker.start.row = e.row,
                    i.$highlightLineMarker.end.row = e.row,
                    i.$highlightLineMarker.start.column = e.column,
                    i._emit("changeBackMarker"))
                }
                ,
                this.onSelectionChange = function(e) {
                    var t, i, n, o = this.session;
                    o.$selectionMarker && o.removeMarker(o.$selectionMarker),
                    o.$selectionMarker = null,
                    this.selection.isEmpty() ? this.$updateHighlightActiveLine() : (t = this.selection.getRange(),
                    i = this.getSelectionStyle(),
                    o.$selectionMarker = o.addMarker(t, "ace_selection", i)),
                    n = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp(),
                    this.session.highlight(n),
                    this._emit("changeSelection")
                }
                ,
                this.$getSelectionHighLightRegexp = function() {
                    var e, t, i, n, o, s = this.session, r = this.getSelectionRange();
                    if (!r.isEmpty() && !r.isMultiLine() && (e = r.start.column - 1,
                    t = r.end.column + 1,
                    i = s.getLine(r.start.row),
                    n = i.length,
                    o = i.substring(Math.max(e, 0), Math.min(t, n)),
                    !(e >= 0 && /^[\w\d]/.test(o) || t <= n && /[\w\d]$/.test(o)) && (o = i.substring(r.start.column, r.end.column),
                    /^[\w\d]+$/.test(o))))
                        return this.$search.$assembleRegExp({
                            wholeWord: !0,
                            caseSensitive: !0,
                            needle: o
                        })
                }
                ,
                this.onChangeFrontMarker = function() {
                    this.renderer.updateFrontMarkers()
                }
                ,
                this.onChangeBackMarker = function() {
                    this.renderer.updateBackMarkers()
                }
                ,
                this.onChangeBreakpoint = function() {
                    this.renderer.updateBreakpoints()
                }
                ,
                this.onChangeAnnotation = function() {
                    this.renderer.setAnnotations(this.session.getAnnotations())
                }
                ,
                this.onChangeMode = function(e) {
                    this.renderer.updateText(),
                    this._emit("changeMode", e)
                }
                ,
                this.onChangeWrapLimit = function() {
                    this.renderer.updateFull()
                }
                ,
                this.onChangeWrapMode = function() {
                    this.renderer.onResize(!0)
                }
                ,
                this.onChangeFold = function() {
                    this.$updateHighlightActiveLine(),
                    this.renderer.updateFull()
                }
                ,
                this.getSelectedText = function() {
                    return this.session.getTextRange(this.getSelectionRange())
                }
                ,
                this.getCopyText = function() {
                    var e = this.getSelectedText();
                    return this._signal("copy", e),
                    e
                }
                ,
                this.onCopy = function() {
                    this.commands.exec("copy", this)
                }
                ,
                this.onCut = function() {
                    this.commands.exec("cut", this)
                }
                ,
                this.onPaste = function(e) {
                    this.$readOnly || (this._emit("paste", e),
                    this.insert(e))
                }
                ,
                this.execCommand = function(e, t) {
                    this.commands.exec(e, this, t)
                }
                ,
                this.insert = function(e) {
                    var t, i, n, o, s, r, a, l, c = this.session, d = c.getMode(), h = this.getCursorPosition();
                    this.getBehavioursEnabled() && (t = d.transformAction(c.getState(h.row), "insertion", this, c, e)) && (e !== t.text && (this.session.mergeUndoDeltas = !1,
                    this.$mergeNextCommand = !1),
                    e = t.text),
                    "\t" == e && (e = this.session.getTabString()),
                    this.selection.isEmpty() ? this.session.getOverwrite() && (i = new p.fromPoints(h,h),
                    i.end.column += e.length,
                    this.session.remove(i)) : (i = this.getSelectionRange(),
                    h = this.session.remove(i),
                    this.clearSelection()),
                    "\n" != e && "\r\n" != e || (n = c.getLine(h.row),
                    h.column > n.search(/\S|$/) && (o = n.substr(h.column).search(/\S|$/),
                    c.doc.removeInLine(h.row, h.column, h.column + o))),
                    this.clearSelection(),
                    s = h.column,
                    r = c.getState(h.row),
                    n = c.getLine(h.row),
                    a = d.checkOutdent(r, n, e),
                    c.insert(h, e),
                    t && t.selection && (2 == t.selection.length ? this.selection.setSelectionRange(new p(h.row,s + t.selection[0],h.row,s + t.selection[1])) : this.selection.setSelectionRange(new p(h.row + t.selection[0],t.selection[1],h.row + t.selection[2],t.selection[3]))),
                    c.getDocument().isNewLine(e) && (l = d.getNextLineIndent(r, n.slice(0, h.column), c.getTabString()),
                    c.insert({
                        row: h.row + 1,
                        column: 0
                    }, l)),
                    a && d.autoOutdent(r, c, h.row)
                }
                ,
                this.onTextInput = function(e) {
                    this.keyBinding.onTextInput(e)
                }
                ,
                this.onCommandKey = function(e, t, i) {
                    this.keyBinding.onCommandKey(e, t, i)
                }
                ,
                this.setOverwrite = function(e) {
                    this.session.setOverwrite(e)
                }
                ,
                this.getOverwrite = function() {
                    return this.session.getOverwrite()
                }
                ,
                this.toggleOverwrite = function() {
                    this.session.toggleOverwrite()
                }
                ,
                this.setScrollSpeed = function(e) {
                    this.setOption("scrollSpeed", e)
                }
                ,
                this.getScrollSpeed = function() {
                    return this.getOption("scrollSpeed")
                }
                ,
                this.setDragDelay = function(e) {
                    this.setOption("dragDelay", e)
                }
                ,
                this.getDragDelay = function() {
                    return this.getOption("dragDelay")
                }
                ,
                this.setSelectionStyle = function(e) {
                    this.setOption("selectionStyle", e)
                }
                ,
                this.getSelectionStyle = function() {
                    return this.getOption("selectionStyle")
                }
                ,
                this.setHighlightActiveLine = function(e) {
                    this.setOption("highlightActiveLine", e)
                }
                ,
                this.getHighlightActiveLine = function() {
                    return this.getOption("highlightActiveLine")
                }
                ,
                this.setHighlightGutterLine = function(e) {
                    this.setOption("highlightGutterLine", e)
                }
                ,
                this.getHighlightGutterLine = function() {
                    return this.getOption("highlightGutterLine")
                }
                ,
                this.setHighlightSelectedWord = function(e) {
                    this.setOption("highlightSelectedWord", e)
                }
                ,
                this.getHighlightSelectedWord = function() {
                    return this.$highlightSelectedWord
                }
                ,
                this.setAnimatedScroll = function(e) {
                    this.renderer.setAnimatedScroll(e)
                }
                ,
                this.getAnimatedScroll = function() {
                    return this.renderer.getAnimatedScroll()
                }
                ,
                this.setShowInvisibles = function(e) {
                    this.renderer.setShowInvisibles(e)
                }
                ,
                this.getShowInvisibles = function() {
                    return this.renderer.getShowInvisibles()
                }
                ,
                this.setDisplayIndentGuides = function(e) {
                    this.renderer.setDisplayIndentGuides(e)
                }
                ,
                this.getDisplayIndentGuides = function() {
                    return this.renderer.getDisplayIndentGuides()
                }
                ,
                this.setShowPrintMargin = function(e) {
                    this.renderer.setShowPrintMargin(e)
                }
                ,
                this.getShowPrintMargin = function() {
                    return this.renderer.getShowPrintMargin()
                }
                ,
                this.setPrintMarginColumn = function(e) {
                    this.renderer.setPrintMarginColumn(e)
                }
                ,
                this.getPrintMarginColumn = function() {
                    return this.renderer.getPrintMarginColumn()
                }
                ,
                this.setReadOnly = function(e) {
                    this.setOption("readOnly", e)
                }
                ,
                this.getReadOnly = function() {
                    return this.getOption("readOnly")
                }
                ,
                this.setBehavioursEnabled = function(e) {
                    this.setOption("behavioursEnabled", e)
                }
                ,
                this.getBehavioursEnabled = function() {
                    return this.getOption("behavioursEnabled")
                }
                ,
                this.setWrapBehavioursEnabled = function(e) {
                    this.setOption("wrapBehavioursEnabled", e)
                }
                ,
                this.getWrapBehavioursEnabled = function() {
                    return this.getOption("wrapBehavioursEnabled")
                }
                ,
                this.setShowFoldWidgets = function(e) {
                    this.setOption("showFoldWidgets", e)
                }
                ,
                this.getShowFoldWidgets = function() {
                    return this.getOption("showFoldWidgets")
                }
                ,
                this.setFadeFoldWidgets = function(e) {
                    this.setOption("fadeFoldWidgets", e)
                }
                ,
                this.getFadeFoldWidgets = function() {
                    return this.getOption("fadeFoldWidgets")
                }
                ,
                this.remove = function(e) {
                    var t, i, n, o, s, r;
                    this.selection.isEmpty() && ("left" == e ? this.selection.selectLeft() : this.selection.selectRight()),
                    t = this.getSelectionRange(),
                    this.getBehavioursEnabled() && (i = this.session,
                    n = i.getState(t.start.row),
                    o = i.getMode().transformAction(n, "deletion", this, i, t),
                    0 == t.end.column && (s = i.getTextRange(t),
                    "\n" == s[s.length - 1] && (r = i.getLine(t.end.row),
                    /^\s+$/.test(r) && (t.end.column = r.length))),
                    o && (t = o)),
                    this.session.remove(t),
                    this.clearSelection()
                }
                ,
                this.removeWordRight = function() {
                    this.selection.isEmpty() && this.selection.selectWordRight(),
                    this.session.remove(this.getSelectionRange()),
                    this.clearSelection()
                }
                ,
                this.removeWordLeft = function() {
                    this.selection.isEmpty() && this.selection.selectWordLeft(),
                    this.session.remove(this.getSelectionRange()),
                    this.clearSelection()
                }
                ,
                this.removeToLineStart = function() {
                    this.selection.isEmpty() && this.selection.selectLineStart(),
                    this.session.remove(this.getSelectionRange()),
                    this.clearSelection()
                }
                ,
                this.removeToLineEnd = function() {
                    this.selection.isEmpty() && this.selection.selectLineEnd();
                    var e = this.getSelectionRange();
                    e.start.column == e.end.column && e.start.row == e.end.row && (e.end.column = 0,
                    e.end.row++),
                    this.session.remove(e),
                    this.clearSelection()
                }
                ,
                this.splitLine = function() {
                    this.selection.isEmpty() || (this.session.remove(this.getSelectionRange()),
                    this.clearSelection());
                    var e = this.getCursorPosition();
                    this.insert("\n"),
                    this.moveCursorToPosition(e)
                }
                ,
                this.transposeLetters = function() {
                    var e, t, i, n, o;
                    this.selection.isEmpty() && (e = this.getCursorPosition(),
                    0 !== (t = e.column) && (i = this.session.getLine(e.row),
                    t < i.length ? (n = i.charAt(t) + i.charAt(t - 1),
                    o = new p(e.row,t - 1,e.row,t + 1)) : (n = i.charAt(t - 1) + i.charAt(t - 2),
                    o = new p(e.row,t - 2,e.row,t)),
                    this.session.replace(o, n)))
                }
                ,
                this.toLowerCase = function() {
                    var e, t, i = this.getSelectionRange();
                    this.selection.isEmpty() && this.selection.selectWord(),
                    e = this.getSelectionRange(),
                    t = this.session.getTextRange(e),
                    this.session.replace(e, t.toLowerCase()),
                    this.selection.setSelectionRange(i)
                }
                ,
                this.toUpperCase = function() {
                    var e, t, i = this.getSelectionRange();
                    this.selection.isEmpty() && this.selection.selectWord(),
                    e = this.getSelectionRange(),
                    t = this.session.getTextRange(e),
                    this.session.replace(e, t.toUpperCase()),
                    this.selection.setSelectionRange(i)
                }
                ,
                this.indent = function() {
                    var e, t, i, n, o, r, a, l, c = this.session, d = this.getSelectionRange();
                    if (d.start.row < d.end.row)
                        return e = this.$getSelectedRows(),
                        void c.indentRows(e.first, e.last, "\t");
                    if (d.start.column < d.end.column && (t = c.getTextRange(d),
                    !/^\s+$/.test(t)))
                        return e = this.$getSelectedRows(),
                        void c.indentRows(e.first, e.last, "\t");
                    if (i = c.getLine(d.start.row),
                    n = d.start,
                    o = c.getTabSize(),
                    r = c.documentToScreenColumn(n.row, n.column),
                    this.session.getUseSoftTabs())
                        a = o - r % o,
                        l = s.stringRepeat(" ", a);
                    else {
                        for (a = r % o; " " == i[d.start.column] && a; )
                            d.start.column--,
                            a--;
                        this.selection.setSelectionRange(d),
                        l = "\t"
                    }
                    return this.insert(l)
                }
                ,
                this.blockIndent = function() {
                    var e = this.$getSelectedRows();
                    this.session.indentRows(e.first, e.last, "\t")
                }
                ,
                this.blockOutdent = function() {
                    var e = this.session.getSelection();
                    this.session.outdentRows(e.getRange())
                }
                ,
                this.sortLines = function() {
                    var e, t, i, n = this.$getSelectedRows(), o = this.session, s = [];
                    for (t = n.first; t <= n.last; t++)
                        s.push(o.getLine(t));
                    for (s.sort(function(e, t) {
                        return e.toLowerCase() < t.toLowerCase() ? -1 : e.toLowerCase() > t.toLowerCase() ? 1 : 0
                    }),
                    e = new p(0,0,0,0),
                    t = n.first; t <= n.last; t++)
                        i = o.getLine(t),
                        e.start.row = t,
                        e.end.row = t,
                        e.end.column = i.length,
                        o.replace(e, s[t - n.first])
                }
                ,
                this.toggleCommentLines = function() {
                    var e = this.session.getState(this.getCursorPosition().row)
                      , t = this.$getSelectedRows();
                    this.session.getMode().toggleCommentLines(e, this.session, t.first, t.last)
                }
                ,
                this.toggleBlockComment = function() {
                    var e = this.getCursorPosition()
                      , t = this.session.getState(e.row)
                      , i = this.getSelectionRange();
                    this.session.getMode().toggleBlockComment(t, this.session, i, e)
                }
                ,
                this.getNumberAt = function(e, t) {
                    var i, n, o = /[\-]?[0-9]+(?:\.[0-9]+)?/g;
                    for (o.lastIndex = 0,
                    i = this.session.getLine(e); o.lastIndex < t; )
                        if (n = o.exec(i),
                        n.index <= t && n.index + n[0].length >= t)
                            return {
                                value: n[0],
                                start: n.index,
                                end: n.index + n[0].length
                            };
                    return null
                }
                ,
                this.modifyNumber = function(e) {
                    var t, i, n, o, s, r, a = this.selection.getCursor().row, l = this.selection.getCursor().column, c = new p(a,l - 1,a,l), d = this.session.getTextRange(c);
                    !isNaN(parseFloat(d)) && isFinite(d) && (t = this.getNumberAt(a, l)) && (i = t.value.indexOf(".") >= 0 ? t.start + t.value.indexOf(".") + 1 : t.end,
                    n = t.start + t.value.length - i,
                    o = parseFloat(t.value),
                    o *= Math.pow(10, n),
                    i !== t.end && l < i ? e *= Math.pow(10, t.end - l - 1) : e *= Math.pow(10, t.end - l),
                    o += e,
                    o /= Math.pow(10, n),
                    s = o.toFixed(n),
                    r = new p(a,t.start,a,t.end),
                    this.session.replace(r, s),
                    this.moveCursorTo(a, Math.max(t.start + 1, l + s.length - t.value.length)))
                }
                ,
                this.removeLines = function() {
                    var e, t = this.$getSelectedRows();
                    e = 0 === t.first || t.last + 1 < this.session.getLength() ? new p(t.first,0,t.last + 1,0) : new p(t.first - 1,this.session.getLine(t.first - 1).length,t.last,this.session.getLine(t.last).length),
                    this.session.remove(e),
                    this.clearSelection()
                }
                ,
                this.duplicateSelection = function() {
                    var e, t, i, n = this.selection, o = this.session, s = n.getRange(), r = n.isBackwards();
                    s.isEmpty() ? (e = s.start.row,
                    o.duplicateLines(e, e)) : (t = r ? s.start : s.end,
                    i = o.insert(t, o.getTextRange(s), !1),
                    s.start = t,
                    s.end = i,
                    n.setSelectionRange(s, r))
                }
                ,
                this.moveLinesDown = function() {
                    this.$moveLines(function(e, t) {
                        return this.session.moveLinesDown(e, t)
                    })
                }
                ,
                this.moveLinesUp = function() {
                    this.$moveLines(function(e, t) {
                        return this.session.moveLinesUp(e, t)
                    })
                }
                ,
                this.moveText = function(e, t, i) {
                    return this.session.moveText(e, t, i)
                }
                ,
                this.copyLinesUp = function() {
                    this.$moveLines(function(e, t) {
                        return this.session.duplicateLines(e, t),
                        0
                    })
                }
                ,
                this.copyLinesDown = function() {
                    this.$moveLines(function(e, t) {
                        return this.session.duplicateLines(e, t)
                    })
                }
                ,
                this.$moveLines = function(e) {
                    var t, i, n, o, s, r, a, l, c = this.selection;
                    if (!c.inMultiSelectMode || this.inVirtualSelectionMode)
                        t = c.toOrientedRange(),
                        i = this.$getSelectedRows(t),
                        n = e.call(this, i.first, i.last),
                        t.moveBy(n, 0),
                        c.fromOrientedRange(t);
                    else {
                        for (o = c.rangeList.ranges,
                        c.rangeList.detach(this.session),
                        s = o.length; s--; ) {
                            for (r = s,
                            i = o[s].collapseRows(),
                            a = i.end.row,
                            l = i.start.row; s-- && (i = o[s].collapseRows(),
                            l - i.end.row <= 1); )
                                l = i.end.row;
                            for (s++,
                            n = e.call(this, l, a); r >= s; )
                                o[r].moveBy(n, 0),
                                r--
                        }
                        c.fromOrientedRange(c.ranges[0]),
                        c.rangeList.attach(this.session)
                    }
                }
                ,
                this.$getSelectedRows = function() {
                    var e = this.getSelectionRange().collapseRows();
                    return {
                        first: e.start.row,
                        last: e.end.row
                    }
                }
                ,
                this.onCompositionStart = function(e) {
                    this.renderer.showComposition(this.getCursorPosition())
                }
                ,
                this.onCompositionUpdate = function(e) {
                    this.renderer.setCompositionText(e)
                }
                ,
                this.onCompositionEnd = function() {
                    this.renderer.hideComposition()
                }
                ,
                this.getFirstVisibleRow = function() {
                    return this.renderer.getFirstVisibleRow()
                }
                ,
                this.getLastVisibleRow = function() {
                    return this.renderer.getLastVisibleRow()
                }
                ,
                this.isRowVisible = function(e) {
                    return e >= this.getFirstVisibleRow() && e <= this.getLastVisibleRow()
                }
                ,
                this.isRowFullyVisible = function(e) {
                    return e >= this.renderer.getFirstFullyVisibleRow() && e <= this.renderer.getLastFullyVisibleRow()
                }
                ,
                this.$getVisibleRowCount = function() {
                    return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1
                }
                ,
                this.$moveByPage = function(e, t) {
                    var i, n = this.renderer, o = this.renderer.layerConfig, s = e * Math.floor(o.height / o.lineHeight);
                    this.$blockScrolling++,
                    1 == t ? this.selection.$moveSelection(function() {
                        this.moveCursorBy(s, 0)
                    }) : 0 == t && (this.selection.moveCursorBy(s, 0),
                    this.selection.clearSelection()),
                    this.$blockScrolling--,
                    i = n.scrollTop,
                    n.scrollBy(0, s * o.lineHeight),
                    null != t && n.scrollCursorIntoView(null, .5),
                    n.animateScrolling(i)
                }
                ,
                this.selectPageDown = function() {
                    this.$moveByPage(1, !0)
                }
                ,
                this.selectPageUp = function() {
                    this.$moveByPage(-1, !0)
                }
                ,
                this.gotoPageDown = function() {
                    this.$moveByPage(1, !1)
                }
                ,
                this.gotoPageUp = function() {
                    this.$moveByPage(-1, !1)
                }
                ,
                this.scrollPageDown = function() {
                    this.$moveByPage(1)
                }
                ,
                this.scrollPageUp = function() {
                    this.$moveByPage(-1)
                }
                ,
                this.scrollToRow = function(e) {
                    this.renderer.scrollToRow(e)
                }
                ,
                this.scrollToLine = function(e, t, i, n) {
                    this.renderer.scrollToLine(e, t, i, n)
                }
                ,
                this.centerSelection = function() {
                    var e = this.getSelectionRange()
                      , t = {
                        row: Math.floor(e.start.row + (e.end.row - e.start.row) / 2),
                        column: Math.floor(e.start.column + (e.end.column - e.start.column) / 2)
                    };
                    this.renderer.alignCursor(t, .5)
                }
                ,
                this.getCursorPosition = function() {
                    return this.selection.getCursor()
                }
                ,
                this.getCursorPositionScreen = function() {
                    return this.session.documentToScreenPosition(this.getCursorPosition())
                }
                ,
                this.getSelectionRange = function() {
                    return this.selection.getRange()
                }
                ,
                this.selectAll = function() {
                    this.$blockScrolling += 1,
                    this.selection.selectAll(),
                    this.$blockScrolling -= 1
                }
                ,
                this.clearSelection = function() {
                    this.selection.clearSelection()
                }
                ,
                this.moveCursorTo = function(e, t) {
                    this.selection.moveCursorTo(e, t)
                }
                ,
                this.moveCursorToPosition = function(e) {
                    this.selection.moveCursorToPosition(e)
                }
                ,
                this.jumpToMatching = function(e) {
                    var t, i = this.getCursorPosition(), n = this.session.getBracketRange(i);
                    if (!n) {
                        if (!(n = this.find({
                            needle: /[{}()\[\]]/g,
                            preventScroll: !0,
                            start: {
                                row: i.row,
                                column: i.column - 1
                            }
                        })))
                            return;
                        t = n.start,
                        t.row == i.row && Math.abs(t.column - i.column) < 2 && (n = this.session.getBracketRange(t))
                    }
                    (t = n && n.cursor || t) && (e ? n && n.isEqual(this.getSelectionRange()) ? this.clearSelection() : this.selection.selectTo(t.row, t.column) : (this.clearSelection(),
                    this.moveCursorTo(t.row, t.column)))
                }
                ,
                this.gotoLine = function(e, t, i) {
                    this.selection.clearSelection(),
                    this.session.unfold({
                        row: e - 1,
                        column: t || 0
                    }),
                    this.$blockScrolling += 1,
                    this.exitMultiSelectMode && this.exitMultiSelectMode(),
                    this.moveCursorTo(e - 1, t || 0),
                    this.$blockScrolling -= 1,
                    this.isRowFullyVisible(e - 1) || this.scrollToLine(e - 1, !0, i)
                }
                ,
                this.navigateTo = function(e, t) {
                    this.clearSelection(),
                    this.moveCursorTo(e, t)
                }
                ,
                this.navigateUp = function(e) {
                    if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
                        var t = this.selection.anchor.getPosition();
                        return this.moveCursorToPosition(t)
                    }
                    this.selection.clearSelection(),
                    e = e || 1,
                    this.selection.moveCursorBy(-e, 0)
                }
                ,
                this.navigateDown = function(e) {
                    if (this.selection.isMultiLine() && this.selection.isBackwards()) {
                        var t = this.selection.anchor.getPosition();
                        return this.moveCursorToPosition(t)
                    }
                    this.selection.clearSelection(),
                    e = e || 1,
                    this.selection.moveCursorBy(e, 0)
                }
                ,
                this.navigateLeft = function(e) {
                    if (this.selection.isEmpty())
                        for (e = e || 1; e--; )
                            this.selection.moveCursorLeft();
                    else {
                        var t = this.getSelectionRange().start;
                        this.moveCursorToPosition(t)
                    }
                    this.clearSelection()
                }
                ,
                this.navigateRight = function(e) {
                    if (this.selection.isEmpty())
                        for (e = e || 1; e--; )
                            this.selection.moveCursorRight();
                    else {
                        var t = this.getSelectionRange().end;
                        this.moveCursorToPosition(t)
                    }
                    this.clearSelection()
                }
                ,
                this.navigateLineStart = function() {
                    this.selection.moveCursorLineStart(),
                    this.clearSelection()
                }
                ,
                this.navigateLineEnd = function() {
                    this.selection.moveCursorLineEnd(),
                    this.clearSelection()
                }
                ,
                this.navigateFileEnd = function() {
                    var e = this.renderer.scrollTop;
                    this.selection.moveCursorFileEnd(),
                    this.clearSelection(),
                    this.renderer.animateScrolling(e)
                }
                ,
                this.navigateFileStart = function() {
                    var e = this.renderer.scrollTop;
                    this.selection.moveCursorFileStart(),
                    this.clearSelection(),
                    this.renderer.animateScrolling(e)
                }
                ,
                this.navigateWordRight = function() {
                    this.selection.moveCursorWordRight(),
                    this.clearSelection()
                }
                ,
                this.navigateWordLeft = function() {
                    this.selection.moveCursorWordLeft(),
                    this.clearSelection()
                }
                ,
                this.replace = function(e, t) {
                    var i, n;
                    return t && this.$search.set(t),
                    i = this.$search.find(this.session),
                    n = 0,
                    i ? (this.$tryReplace(i, e) && (n = 1),
                    null !== i && (this.selection.setSelectionRange(i),
                    this.renderer.scrollSelectionIntoView(i.start, i.end)),
                    n) : n
                }
                ,
                this.replaceAll = function(e, t) {
                    var i, n, o, s;
                    if (t && this.$search.set(t),
                    i = this.$search.findAll(this.session),
                    n = 0,
                    !i.length)
                        return n;
                    for (this.$blockScrolling += 1,
                    o = this.getSelectionRange(),
                    this.clearSelection(),
                    this.selection.moveCursorTo(0, 0),
                    s = i.length - 1; s >= 0; --s)
                        this.$tryReplace(i[s], e) && n++;
                    return this.selection.setSelectionRange(o),
                    this.$blockScrolling -= 1,
                    n
                }
                ,
                this.$tryReplace = function(e, t) {
                    var i = this.session.getTextRange(e);
                    return t = this.$search.replace(i, t),
                    null !== t ? (e.end = this.session.replace(e, t),
                    e) : null
                }
                ,
                this.getLastSearchOptions = function() {
                    return this.$search.getOptions()
                }
                ,
                this.find = function(e, t, i) {
                    var o, s;
                    return t || (t = {}),
                    "string" == typeof e || e instanceof RegExp ? t.needle = e : "object" == typeof e && n.mixin(t, e),
                    o = this.selection.getRange(),
                    null == t.needle && (e = this.session.getTextRange(o) || this.$search.$options.needle,
                    e || (o = this.session.getWordRange(o.start.row, o.start.column),
                    e = this.session.getTextRange(o)),
                    this.$search.set({
                        needle: e
                    })),
                    this.$search.set(t),
                    t.start || this.$search.set({
                        start: o
                    }),
                    s = this.$search.find(this.session),
                    t.preventScroll ? s : s ? (this.revealRange(s, i),
                    s) : (t.backwards ? o.start = o.end : o.end = o.start,
                    void this.selection.setRange(o))
                }
                ,
                this.findNext = function(e, t) {
                    this.find({
                        skipCurrent: !0,
                        backwards: !1
                    }, e, t)
                }
                ,
                this.findPrevious = function(e, t) {
                    this.find(e, {
                        skipCurrent: !0,
                        backwards: !0
                    }, t)
                }
                ,
                this.revealRange = function(e, t) {
                    this.$blockScrolling += 1,
                    this.session.unfold(e),
                    this.selection.setSelectionRange(e),
                    this.$blockScrolling -= 1;
                    var i = this.renderer.scrollTop;
                    this.renderer.scrollSelectionIntoView(e.start, e.end, .5),
                    0 != t && this.renderer.animateScrolling(i)
                }
                ,
                this.undo = function() {
                    this.$blockScrolling++,
                    this.session.getUndoManager().undo(),
                    this.$blockScrolling--,
                    this.renderer.scrollCursorIntoView(null, .5)
                }
                ,
                this.redo = function() {
                    this.$blockScrolling++,
                    this.session.getUndoManager().redo(),
                    this.$blockScrolling--,
                    this.renderer.scrollCursorIntoView(null, .5)
                }
                ,
                this.destroy = function() {
                    this.renderer.destroy(),
                    this._emit("destroy", this)
                }
                ,
                this.setAutoScrollEditorIntoView = function(e) {
                    var t, i, n, o, s, r, a;
                    !1 !== e && (i = this,
                    n = !1,
                    this.$scrollAnchor || (this.$scrollAnchor = document.createElement("div")),
                    o = this.$scrollAnchor,
                    o.style.cssText = "position:absolute",
                    this.container.insertBefore(o, this.container.firstChild),
                    s = this.on("changeSelection", function() {
                        n = !0
                    }),
                    r = this.renderer.on("beforeRender", function() {
                        n && (t = i.renderer.container.getBoundingClientRect())
                    }),
                    a = this.renderer.on("afterRender", function() {
                        var e, s, r, a;
                        n && t && i.isFocused() && (e = i.renderer,
                        s = e.$cursorLayer.$pixelPos,
                        r = e.layerConfig,
                        a = s.top - r.offset,
                        n = s.top >= 0 && a + t.top < 0 || !(s.top < r.height && s.top + t.top + r.lineHeight > window.innerHeight) && null,
                        null != n && (o.style.top = a + "px",
                        o.style.left = s.left + "px",
                        o.style.height = r.lineHeight + "px",
                        o.scrollIntoView(n)),
                        n = t = null)
                    }),
                    this.setAutoScrollEditorIntoView = function(e) {
                        !0 !== e && (delete this.setAutoScrollEditorIntoView,
                        this.removeEventListener("changeSelection", s),
                        this.renderer.removeEventListener("afterRender", a),
                        this.renderer.removeEventListener("beforeRender", r))
                    }
                    )
                }
                ,
                this.$resetCursorStyle = function() {
                    var e = this.$cursorStyle || "ace"
                      , t = this.renderer.$cursorLayer;
                    t && (t.setSmoothBlinking("smooth" == e),
                    t.isBlinking = !this.$readOnly && "wide" != e)
                }
            }
            .call(v.prototype),
            _.defineOptions(v.prototype, "editor", {
                selectionStyle: {
                    set: function(e) {
                        this.onSelectionChange(),
                        this._emit("changeSelectionStyle", {
                            data: e
                        })
                    },
                    initialValue: "line"
                },
                highlightActiveLine: {
                    set: function() {
                        this.$updateHighlightActiveLine()
                    },
                    initialValue: !0
                },
                highlightSelectedWord: {
                    set: function(e) {
                        this.$onSelectionChange()
                    },
                    initialValue: !0
                },
                readOnly: {
                    set: function(e) {
                        this.textInput.setReadOnly(e),
                        this.$resetCursorStyle()
                    },
                    initialValue: !1
                },
                cursorStyle: {
                    set: function(e) {
                        this.$resetCursorStyle()
                    },
                    values: ["ace", "slim", "smooth", "wide"],
                    initialValue: "ace"
                },
                mergeUndoDeltas: {
                    values: [!1, !0, "always"],
                    initialValue: !0
                },
                behavioursEnabled: {
                    initialValue: !0
                },
                wrapBehavioursEnabled: {
                    initialValue: !0
                },
                hScrollBarAlwaysVisible: "renderer",
                vScrollBarAlwaysVisible: "renderer",
                highlightGutterLine: "renderer",
                animatedScroll: "renderer",
                showInvisibles: "renderer",
                showPrintMargin: "renderer",
                printMarginColumn: "renderer",
                printMargin: "renderer",
                fadeFoldWidgets: "renderer",
                showFoldWidgets: "renderer",
                showGutter: "renderer",
                displayIndentGuides: "renderer",
                fontSize: "renderer",
                fontFamily: "renderer",
                maxLines: "renderer",
                minLines: "renderer",
                scrollPastEnd: "renderer",
                fixedWidthGutter: "renderer",
                scrollSpeed: "$mouseHandler",
                dragDelay: "$mouseHandler",
                dragEnabled: "$mouseHandler",
                focusTimout: "$mouseHandler",
                firstLineNumber: "session",
                overwrite: "session",
                newLineMode: "session",
                useWorker: "session",
                useSoftTabs: "session",
                tabSize: "session",
                wrap: "session",
                foldStyle: "session"
            }),
            t.Editor = v
        }),
        define("ace/lib/lang", ["require", "exports", "module"], function(e, t, i) {
            var n, o;
            t.stringReverse = function(e) {
                return e.split("").reverse().join("")
            }
            ,
            t.stringRepeat = function(e, t) {
                for (var i = ""; t > 0; )
                    1 & t && (i += e),
                    (t >>= 1) && (e += e);
                return i
            }
            ,
            n = /^\s\s*/,
            o = /\s\s*$/,
            t.stringTrimLeft = function(e) {
                return e.replace(n, "")
            }
            ,
            t.stringTrimRight = function(e) {
                return e.replace(o, "")
            }
            ,
            t.copyObject = function(e) {
                var t, i = {};
                for (t in e)
                    i[t] = e[t];
                return i
            }
            ,
            t.copyArray = function(e) {
                var t, i, n = [];
                for (t = 0,
                i = e.length; t < i; t++)
                    e[t] && "object" == typeof e[t] ? n[t] = this.copyObject(e[t]) : n[t] = e[t];
                return n
            }
            ,
            t.deepCopy = function(e) {
                var t, i;
                if ("object" != typeof e)
                    return e;
                t = e.constructor();
                for (i in e)
                    "object" == typeof e[i] ? t[i] = this.deepCopy(e[i]) : t[i] = e[i];
                return t
            }
            ,
            t.arrayToMap = function(e) {
                var t, i = {};
                for (t = 0; t < e.length; t++)
                    i[e[t]] = 1;
                return i
            }
            ,
            t.createMap = function(e) {
                var t, i = Object.create(null);
                for (t in e)
                    i[t] = e[t];
                return i
            }
            ,
            t.arrayRemove = function(e, t) {
                for (var i = 0; i <= e.length; i++)
                    t === e[i] && e.splice(i, 1)
            }
            ,
            t.escapeRegExp = function(e) {
                return e.replace(/([.*+?^${}()|[\]\/\\])/g, "\\$1")
            }
            ,
            t.escapeHTML = function(e) {
                return e.replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;")
            }
            ,
            t.getMatchOffsets = function(e, t) {
                var i = [];
                return e.replace(t, function(e) {
                    i.push({
                        offset: arguments[arguments.length - 2],
                        length: e.length
                    })
                }),
                i
            }
            ,
            t.deferredCall = function(e) {
                var t = null
                  , i = function() {
                    t = null,
                    e()
                }
                  , n = function(e) {
                    return n.cancel(),
                    t = setTimeout(i, e || 0),
                    n
                };
                return n.schedule = n,
                n.call = function() {
                    return this.cancel(),
                    e(),
                    n
                }
                ,
                n.cancel = function() {
                    return clearTimeout(t),
                    t = null,
                    n
                }
                ,
                n
            }
            ,
            t.delayedCall = function(e, t) {
                var i = null
                  , n = function() {
                    i = null,
                    e()
                }
                  , o = function(e) {
                    i && clearTimeout(i),
                    i = setTimeout(n, e || t)
                };
                return o.delay = o,
                o.schedule = function(e) {
                    null == i && (i = setTimeout(n, e || 0))
                }
                ,
                o.call = function() {
                    this.cancel(),
                    e()
                }
                ,
                o.cancel = function() {
                    i && clearTimeout(i),
                    i = null
                }
                ,
                o.isPending = function() {
                    return i
                }
                ,
                o
            }
        }),
        define("ace/keyboard/textinput", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang"], function(e, t, i) {
            var n = e("../lib/event")
              , o = e("../lib/useragent")
              , s = e("../lib/dom")
              , r = e("../lib/lang")
              , a = o.isChrome < 18
              , l = function(e, t) {
                function i(e) {
                    var t, i;
                    if (!f) {
                        S ? (t = 0,
                        i = e ? 0 : O.value.length - 1) : (t = e ? 2 : 1,
                        i = 2);
                        try {
                            O.setSelectionRange(t, i)
                        } catch (e) {}
                    }
                }
                function l() {
                    f || (O.value = d,
                    o.isWebKit && y.schedule())
                }
                function c() {
                    setTimeout(function() {
                        g && (O.style.cssText = g,
                        g = ""),
                        null == t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = !0,
                        t.renderer.$moveTextAreaToCursor())
                    }, 0)
                }
                var d, h, u, p, f, g, m, _, v, y, b, w, $, C, A, x, S, k, F, E, T, D, B, M, L, R, I, P, O = s.createElement("textarea");
                O.className = "ace_text-input",
                o.isTouchPad && O.setAttribute("x-palm-disable-auto-cap", !0),
                O.wrap = "off",
                O.autocorrect = "off",
                O.autocapitalize = "off",
                O.spellcheck = !1,
                O.style.opacity = "0",
                e.insertBefore(O, e.firstChild),
                d = "",
                h = !1,
                u = !1,
                p = !1,
                f = !1,
                g = "",
                m = !0;
                try {
                    _ = document.activeElement === O
                } catch (e) {}
                n.addListener(O, "blur", function() {
                    t.onBlur(),
                    _ = !1
                }),
                n.addListener(O, "focus", function() {
                    _ = !0,
                    t.onFocus(),
                    i()
                }),
                this.focus = function() {
                    O.focus()
                }
                ,
                this.blur = function() {
                    O.blur()
                }
                ,
                this.isFocused = function() {
                    return _
                }
                ,
                v = r.delayedCall(function() {
                    _ && i(m)
                }),
                y = r.delayedCall(function() {
                    f || (O.value = d,
                    _ && i())
                }),
                o.isWebKit || t.addEventListener("changeSelection", function() {
                    t.selection.isEmpty() != m && (m = !m,
                    v.schedule())
                }),
                l(),
                _ && t.onFocus(),
                b = function(e) {
                    return 0 === e.selectionStart && e.selectionEnd === e.value.length
                }
                ,
                !O.setSelectionRange && O.createTextRange && (O.setSelectionRange = function(e, t) {
                    var i = this.createTextRange();
                    i.collapse(!0),
                    i.moveStart("character", e),
                    i.moveEnd("character", t),
                    i.select()
                }
                ,
                b = function(e) {
                    try {
                        var t = e.ownerDocument.selection.createRange()
                    } catch (e) {}
                    return !(!t || t.parentElement() != e) && t.text == e.value
                }
                ),
                o.isOldIE && (w = !1,
                $ = function(e) {
                    if (!w) {
                        var t = O.value;
                        if (!f && t && t != d) {
                            if (e && t == d[0])
                                return C.schedule();
                            F(t),
                            w = !0,
                            l(),
                            w = !1
                        }
                    }
                }
                ,
                C = r.delayedCall($),
                n.addListener(O, "propertychange", $),
                A = {
                    13: 1,
                    27: 1
                },
                n.addListener(O, "keyup", function(e) {
                    if (!f || O.value && !A[e.keyCode] || setTimeout(R, 0),
                    (O.value.charCodeAt(0) || 0) < 129)
                        return C.call();
                    f ? L() : M()
                }),
                n.addListener(O, "keydown", function(e) {
                    C.schedule(50)
                })),
                x = function(e) {
                    h ? h = !1 : u ? u = !1 : b(O) ? (t.selectAll(),
                    i()) : S && i(t.selection.isEmpty())
                }
                ,
                S = null,
                this.setInputHandler = function(e) {
                    S = e
                }
                ,
                this.getInputHandler = function() {
                    return S
                }
                ,
                k = !1,
                F = function(e) {
                    S && (e = S(e),
                    S = null),
                    p ? (i(),
                    e && t.onPaste(e),
                    p = !1) : e == d.charAt(0) ? k && t.execCommand("del", {
                        source: "ace"
                    }) : (e.substring(0, 2) == d ? e = e.substr(2) : e.charAt(0) == d.charAt(0) ? e = e.substr(1) : e.charAt(e.length - 1) == d.charAt(0) && (e = e.slice(0, -1)),
                    e.charAt(e.length - 1) == d.charAt(0) && (e = e.slice(0, -1)),
                    e && t.onTextInput(e)),
                    k && (k = !1)
                }
                ,
                E = function(e) {
                    if (!f) {
                        var t = O.value;
                        F(t),
                        l()
                    }
                }
                ,
                T = function(e) {
                    var o, s, r = t.getCopyText();
                    if (!r)
                        return void n.preventDefault(e);
                    o = e.clipboardData || window.clipboardData,
                    o && !a && (s = o.setData("Text", r)) && (t.onCut(),
                    n.preventDefault(e)),
                    s || (h = !0,
                    O.value = r,
                    O.select(),
                    setTimeout(function() {
                        h = !1,
                        l(),
                        i(),
                        t.onCut()
                    }))
                }
                ,
                D = function(e) {
                    var o, s, r = t.getCopyText();
                    if (!r)
                        return void n.preventDefault(e);
                    o = e.clipboardData || window.clipboardData,
                    o && !a && (s = o.setData("Text", r)) && (t.onCopy(),
                    n.preventDefault(e)),
                    s || (u = !0,
                    O.value = r,
                    O.select(),
                    setTimeout(function() {
                        u = !1,
                        l(),
                        i(),
                        t.onCopy()
                    }))
                }
                ,
                B = function(e) {
                    var s, r = e.clipboardData || window.clipboardData;
                    r ? (s = r.getData("Text"),
                    s && t.onPaste(s),
                    o.isIE && setTimeout(i),
                    n.preventDefault(e)) : (O.value = "",
                    p = !0)
                }
                ,
                n.addCommandKeyListener(O, t.onCommandKey.bind(t)),
                n.addListener(O, "select", x),
                n.addListener(O, "input", E),
                n.addListener(O, "cut", T),
                n.addListener(O, "copy", D),
                n.addListener(O, "paste", B),
                "oncut"in O && "oncopy"in O && "onpaste"in O || n.addListener(e, "keydown", function(e) {
                    if ((!o.isMac || e.metaKey) && e.ctrlKey)
                        switch (e.keyCode) {
                        case 67:
                            D(e);
                            break;
                        case 86:
                            B(e);
                            break;
                        case 88:
                            T(e)
                        }
                }),
                M = function(e) {
                    f || (f = {},
                    t.onCompositionStart(),
                    setTimeout(L, 0),
                    t.on("mousedown", R),
                    t.selection.isEmpty() || (t.insert(""),
                    t.session.markUndoGroup(),
                    t.selection.clearSelection()),
                    t.session.markUndoGroup())
                }
                ,
                L = function() {
                    var e, i;
                    f && (e = O.value.replace(/\x01/g, ""),
                    f.lastValue !== e && (t.onCompositionUpdate(e),
                    f.lastValue && t.undo(),
                    f.lastValue = e,
                    f.lastValue && (i = t.selection.getRange(),
                    t.insert(f.lastValue),
                    t.session.markUndoGroup(),
                    f.range = t.selection.getRange(),
                    t.selection.setRange(i),
                    t.selection.clearSelection())))
                }
                ,
                R = function(e) {
                    var i, n = f;
                    f = !1,
                    i = setTimeout(function() {
                        i = null;
                        var e = O.value.replace(/\x01/g, "");
                        f || (e == n.lastValue ? l() : !n.lastValue && e && (l(),
                        F(e)))
                    }),
                    S = function(e) {
                        return i && clearTimeout(i),
                        (e = e.replace(/\x01/g, "")) == n.lastValue ? "" : (n.lastValue && i && t.undo(),
                        e)
                    }
                    ,
                    t.onCompositionEnd(),
                    t.removeListener("mousedown", R),
                    "compositionend" == e.type && n.range && t.selection.setRange(n.range)
                }
                ,
                I = r.delayedCall(L, 50),
                n.addListener(O, "compositionstart", M),
                o.isGecko ? n.addListener(O, "text", function() {
                    I.schedule()
                }) : (n.addListener(O, "keyup", function() {
                    I.schedule()
                }),
                n.addListener(O, "keydown", function() {
                    I.schedule()
                })),
                n.addListener(O, "compositionend", R),
                this.getElement = function() {
                    return O
                }
                ,
                this.setReadOnly = function(e) {
                    O.readOnly = e
                }
                ,
                this.onContextMenu = function(e) {
                    var r, a, l, d, h, u;
                    k = !0,
                    g || (g = O.style.cssText),
                    O.style.cssText = "z-index:100000;" + (o.isIE ? "opacity:0.1;" : ""),
                    i(t.selection.isEmpty()),
                    t._emit("nativecontextmenu", {
                        target: t,
                        domEvent: e
                    }),
                    r = t.container.getBoundingClientRect(),
                    a = s.computedStyle(t.container),
                    l = r.top + (parseInt(a.borderTopWidth) || 0),
                    d = r.left + (parseInt(r.borderLeftWidth) || 0),
                    h = r.bottom - l - O.clientHeight,
                    u = function(e) {
                        O.style.left = e.clientX - d - 2 + "px",
                        O.style.top = Math.min(e.clientY - l - 2, h) + "px"
                    }
                    ,
                    u(e),
                    "mousedown" == e.type && (t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = null),
                    o.isWin && n.capture(t.container, u, c))
                }
                ,
                this.onContextMenuClose = c,
                o.isGecko && !o.isMac || (P = function(e) {
                    t.textInput.onContextMenu(e),
                    c()
                }
                ,
                n.addListener(t.renderer.scroller, "contextmenu", P),
                n.addListener(O, "contextmenu", P))
            };
            t.TextInput = l
        }),
        define("ace/mouse/mouse_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/mouse/default_handlers", "ace/mouse/default_gutter_handler", "ace/mouse/mouse_event", "ace/mouse/dragdrop_handler", "ace/config"], function(e, t, i) {
            var n = e("../lib/event")
              , o = e("../lib/useragent")
              , s = e("./default_handlers").DefaultHandlers
              , r = e("./default_gutter_handler").GutterHandler
              , a = e("./mouse_event").MouseEvent
              , l = e("./dragdrop_handler").DragdropHandler
              , c = e("../config")
              , d = function(e) {
                var t, i;
                this.editor = e,
                new s(this),
                new r(this),
                new l(this),
                t = e.renderer.getMouseEventTarget(),
                n.addListener(t, "click", this.onMouseEvent.bind(this, "click")),
                n.addListener(t, "mousemove", this.onMouseMove.bind(this, "mousemove")),
                n.addMultiMouseDownListener(t, [300, 300, 250], this, "onMouseEvent"),
                e.renderer.scrollBarV && (n.addMultiMouseDownListener(e.renderer.scrollBarV.inner, [300, 300, 250], this, "onMouseEvent"),
                n.addMultiMouseDownListener(e.renderer.scrollBarH.inner, [300, 300, 250], this, "onMouseEvent")),
                n.addMouseWheelListener(e.container, this.onMouseWheel.bind(this, "mousewheel")),
                i = e.renderer.$gutter,
                n.addListener(i, "mousedown", this.onMouseEvent.bind(this, "guttermousedown")),
                n.addListener(i, "click", this.onMouseEvent.bind(this, "gutterclick")),
                n.addListener(i, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick")),
                n.addListener(i, "mousemove", this.onMouseEvent.bind(this, "guttermousemove")),
                n.addListener(t, "mousedown", function(t) {
                    e.focus()
                }),
                n.addListener(i, "mousedown", function(t) {
                    return e.focus(),
                    n.preventDefault(t)
                })
            };
            (function() {
                this.onMouseEvent = function(e, t) {
                    this.editor._emit(e, new a(t,this.editor))
                }
                ,
                this.onMouseMove = function(e, t) {
                    var i = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
                    i && i.length && this.editor._emit(e, new a(t,this.editor))
                }
                ,
                this.onMouseWheel = function(e, t) {
                    var i = new a(t,this.editor);
                    i.speed = 2 * this.$scrollSpeed,
                    i.wheelX = t.wheelX,
                    i.wheelY = t.wheelY,
                    this.editor._emit(e, i)
                }
                ,
                this.setState = function(e) {
                    this.state = e
                }
                ,
                this.captureMouse = function(e, t) {
                    var i, s, r, a, l, c;
                    if (this.x = e.x,
                    this.y = e.y,
                    this.isMousePressed = !0,
                    i = this.editor.renderer,
                    i.$keepTextAreaAtCursor && (i.$keepTextAreaAtCursor = null),
                    s = this,
                    r = function(e) {
                        s.x = e.clientX,
                        s.y = e.clientY,
                        t && t(e)
                    }
                    ,
                    a = function(e) {
                        clearInterval(c),
                        l(),
                        s[s.state + "End"] && s[s.state + "End"](e),
                        s.$clickSelection = null,
                        null == i.$keepTextAreaAtCursor && (i.$keepTextAreaAtCursor = !0,
                        i.$moveTextAreaToCursor()),
                        s.isMousePressed = !1,
                        s.onMouseEvent("mouseup", e)
                    }
                    ,
                    l = function() {
                        s[s.state] && s[s.state]()
                    }
                    ,
                    o.isOldIE && "dblclick" == e.domEvent.type)
                        return setTimeout(function() {
                            a(e)
                        });
                    n.capture(this.editor.container, r, a),
                    c = setInterval(l, 20)
                }
            }
            ).call(d.prototype),
            c.defineOptions(d.prototype, "mouseHandler", {
                scrollSpeed: {
                    initialValue: 2
                },
                dragDelay: {
                    initialValue: 150
                },
                dragEnabled: {
                    initialValue: !0
                },
                focusTimout: {
                    initialValue: 0
                }
            }),
            t.MouseHandler = d
        }),
        define("ace/mouse/default_handlers", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], function(e, t, i) {
            function n(e) {
                var t, i;
                e.$clickSelection = null,
                t = e.editor,
                t.setDefaultHandler("mousedown", this.onMouseDown.bind(e)),
                t.setDefaultHandler("dblclick", this.onDoubleClick.bind(e)),
                t.setDefaultHandler("tripleclick", this.onTripleClick.bind(e)),
                t.setDefaultHandler("quadclick", this.onQuadClick.bind(e)),
                t.setDefaultHandler("mousewheel", this.onMouseWheel.bind(e)),
                i = ["select", "startSelect", "selectEnd", "selectAllEnd", "selectByWordsEnd", "selectByLinesEnd", "dragWait", "dragWaitEnd", "focusWait"],
                i.forEach(function(t) {
                    e[t] = this[t]
                }, this),
                e.selectByLines = this.extendSelectionBy.bind(e, "getLineRange"),
                e.selectByWords = this.extendSelectionBy.bind(e, "getWordRange")
            }
            function o(e, t, i, n) {
                return Math.sqrt(Math.pow(i - e, 2) + Math.pow(n - t, 2))
            }
            function s(e, t) {
                var i;
                return i = e.start.row == e.end.row ? 2 * t.column - e.start.column - e.end.column : e.start.row != e.end.row - 1 || e.start.column || e.end.column ? 2 * t.row - e.start.row - e.end.row : t.column - 4,
                i < 0 ? {
                    cursor: e.start,
                    anchor: e.end
                } : {
                    cursor: e.end,
                    anchor: e.start
                }
            }
            e("../lib/dom"),
            e("../lib/event"),
            e("../lib/useragent");
            (function() {
                this.onMouseDown = function(e) {
                    var t, i, n, o = e.inSelection(), s = e.getDocumentPosition();
                    return this.mousedownEvent = e,
                    t = this.editor,
                    0 !== e.getButton() ? (i = t.getSelectionRange(),
                    n = i.isEmpty(),
                    n && (t.moveCursorToPosition(s),
                    t.selection.clearSelection()),
                    void t.textInput.onContextMenu(e.domEvent)) : !o || t.isFocused() || (t.focus(),
                    !this.$focusTimout || this.$clickSelection || t.inMultiSelectMode) ? (!o || this.$clickSelection || e.getShiftKey() || t.inMultiSelectMode ? this.startSelect(s) : o && (this.mousedownEvent.time = (new Date).getTime(),
                    this.startSelect(s)),
                    this.captureMouse(e),
                    e.preventDefault()) : (this.mousedownEvent.time = (new Date).getTime(),
                    this.setState("focusWait"),
                    void this.captureMouse(e))
                }
                ,
                this.startSelect = function(e) {
                    e = e || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
                    var t = this.editor;
                    setTimeout(function() {
                        this.mousedownEvent.getShiftKey() ? t.selection.selectToPosition(e) : this.$clickSelection || (t.moveCursorToPosition(e),
                        t.selection.clearSelection())
                    }
                    .bind(this), 0),
                    t.renderer.scroller.setCapture && t.renderer.scroller.setCapture(),
                    t.setStyle("ace_selecting"),
                    this.setState("select")
                }
                ,
                this.select = function() {
                    var e, t, i, n = this.editor, o = n.renderer.screenToTextCoordinates(this.x, this.y);
                    this.$clickSelection && (t = this.$clickSelection.comparePoint(o),
                    -1 == t ? e = this.$clickSelection.end : 1 == t ? e = this.$clickSelection.start : (i = s(this.$clickSelection, o),
                    o = i.cursor,
                    e = i.anchor),
                    n.selection.setSelectionAnchor(e.row, e.column)),
                    n.selection.selectToPosition(o),
                    n.renderer.scrollCursorIntoView()
                }
                ,
                this.extendSelectionBy = function(e) {
                    var t, i, n, o, r = this.editor, a = r.renderer.screenToTextCoordinates(this.x, this.y), l = r.selection[e](a.row, a.column);
                    this.$clickSelection && (i = this.$clickSelection.comparePoint(l.start),
                    n = this.$clickSelection.comparePoint(l.end),
                    -1 == i && n <= 0 ? (t = this.$clickSelection.end,
                    l.end.row == a.row && l.end.column == a.column || (a = l.start)) : 1 == n && i >= 0 ? (t = this.$clickSelection.start,
                    l.start.row == a.row && l.start.column == a.column || (a = l.end)) : -1 == i && 1 == n ? (a = l.end,
                    t = l.start) : (o = s(this.$clickSelection, a),
                    a = o.cursor,
                    t = o.anchor),
                    r.selection.setSelectionAnchor(t.row, t.column)),
                    r.selection.selectToPosition(a),
                    r.renderer.scrollCursorIntoView()
                }
                ,
                this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function() {
                    this.editor.unsetStyle("ace_selecting"),
                    this.editor.renderer.scroller.releaseCapture && this.editor.renderer.scroller.releaseCapture()
                }
                ,
                this.focusWait = function() {
                    var e = o(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y)
                      , t = (new Date).getTime();
                    (e > 0 || t - this.mousedownEvent.time > this.$focusTimout) && this.startSelect(this.mousedownEvent.getDocumentPosition())
                }
                ,
                this.onDoubleClick = function(e) {
                    var t = e.getDocumentPosition()
                      , i = this.editor
                      , n = i.session
                      , o = n.getBracketRange(t);
                    if (o)
                        return o.isEmpty() && (o.start.column--,
                        o.end.column++),
                        this.$clickSelection = o,
                        void this.setState("select");
                    this.$clickSelection = i.selection.getWordRange(t.row, t.column),
                    this.setState("selectByWords")
                }
                ,
                this.onTripleClick = function(e) {
                    var t = e.getDocumentPosition()
                      , i = this.editor;
                    this.setState("selectByLines"),
                    this.$clickSelection = i.selection.getLineRange(t.row)
                }
                ,
                this.onQuadClick = function(e) {
                    var t = this.editor;
                    t.selectAll(),
                    this.$clickSelection = t.getSelectionRange(),
                    this.setState("selectAll")
                }
                ,
                this.onMouseWheel = function(e) {
                    var t, i, n, o;
                    if (!e.getShiftKey() && !e.getAccelKey())
                        return t = e.domEvent.timeStamp,
                        i = t - (this.$lastScrollTime || 0),
                        n = this.editor,
                        o = n.renderer.isScrollableBy(e.wheelX * e.speed, e.wheelY * e.speed),
                        o || i < 200 ? (this.$lastScrollTime = t,
                        n.renderer.scrollBy(e.wheelX * e.speed, e.wheelY * e.speed),
                        e.stop()) : void 0
                }
            }
            ).call(n.prototype),
            t.DefaultHandlers = n
        }),
        define("ace/mouse/default_gutter_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event"], function(e, t, i) {
            function n(e) {
                function t() {
                    c = o.createElement("div"),
                    c.className = "ace_gutter-tooltip",
                    c.style.display = "none",
                    h.container.appendChild(c)
                }
                function i() {
                    var e, i, o, s, a;
                    return c || t(),
                    e = l.getDocumentPosition().row,
                    (i = u.$annotations[e]) ? (o = h.session.getLength(),
                    e == o && (s = h.renderer.pixelToScreenCoordinates(0, l.y).row,
                    a = l.$pos,
                    s > h.session.documentToScreenRow(a.row, a.column)) ? n() : void (d != i && (d = i.text.join("<br/>"),
                    c.style.display = "block",
                    c.innerHTML = d,
                    h.on("mousewheel", n),
                    r(l)))) : n()
                }
                function n() {
                    a && (a = clearTimeout(a)),
                    d && (c.style.display = "none",
                    d = null,
                    h.removeEventListener("mousewheel", n))
                }
                function r(e) {
                    var t, i = h.renderer.$gutter.getBoundingClientRect();
                    c.style.left = e.x + 15 + "px",
                    e.y + 3 * h.renderer.lineHeight + 15 < i.bottom ? (c.style.bottom = "",
                    c.style.top = e.y + 15 + "px") : (c.style.top = "",
                    t = window.innerHeight || document.documentElement.clientHeight,
                    c.style.bottom = t - e.y + 5 + "px")
                }
                var a, l, c, d, h = e.editor, u = h.renderer.$gutterLayer;
                e.editor.setDefaultHandler("guttermousedown", function(t) {
                    var i, n;
                    if (h.isFocused() && 0 == t.getButton() && "foldWidgets" != u.getRegion(t)) {
                        if (i = t.getDocumentPosition().row,
                        n = h.session.selection,
                        t.getShiftKey())
                            n.selectTo(i, 0);
                        else {
                            if (2 == t.domEvent.detail)
                                return h.selectAll(),
                                t.preventDefault();
                            e.$clickSelection = h.selection.getLineRange(i)
                        }
                        return e.setState("selectByLines"),
                        e.captureMouse(t),
                        t.preventDefault()
                    }
                }),
                e.editor.setDefaultHandler("guttermousemove", function(t) {
                    var s = t.domEvent.target || t.domEvent.srcElement;
                    if (o.hasCssClass(s, "ace_fold-widget"))
                        return n();
                    d && r(t),
                    l = t,
                    a || (a = setTimeout(function() {
                        a = null,
                        l && !e.isMousePressed ? i() : n()
                    }, 50))
                }),
                s.addListener(h.renderer.$gutter, "mouseout", function(e) {
                    l = null,
                    d && !a && (a = setTimeout(function() {
                        a = null,
                        n()
                    }, 50))
                }),
                h.on("changeSession", n)
            }
            var o = e("../lib/dom")
              , s = e("../lib/event");
            t.GutterHandler = n
        }),
        define("ace/mouse/mouse_event", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(e, t, i) {
            var n = e("../lib/event")
              , o = e("../lib/useragent")
              , s = t.MouseEvent = function(e, t) {
                this.domEvent = e,
                this.editor = t,
                this.x = this.clientX = e.clientX,
                this.y = this.clientY = e.clientY,
                this.$pos = null,
                this.$inSelection = null,
                this.propagationStopped = !1,
                this.defaultPrevented = !1
            }
            ;
            (function() {
                this.stopPropagation = function() {
                    n.stopPropagation(this.domEvent),
                    this.propagationStopped = !0
                }
                ,
                this.preventDefault = function() {
                    n.preventDefault(this.domEvent),
                    this.defaultPrevented = !0
                }
                ,
                this.stop = function() {
                    this.stopPropagation(),
                    this.preventDefault()
                }
                ,
                this.getDocumentPosition = function() {
                    return this.$pos ? this.$pos : (this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY),
                    this.$pos)
                }
                ,
                this.inSelection = function() {
                    var e, t, i;
                    return null !== this.$inSelection ? this.$inSelection : (e = this.editor,
                    t = e.getSelectionRange(),
                    t.isEmpty() ? this.$inSelection = !1 : (i = this.getDocumentPosition(),
                    this.$inSelection = t.contains(i.row, i.column)),
                    this.$inSelection)
                }
                ,
                this.getButton = function() {
                    return n.getButton(this.domEvent)
                }
                ,
                this.getShiftKey = function() {
                    return this.domEvent.shiftKey
                }
                ,
                this.getAccelKey = o.isMac ? function() {
                    return this.domEvent.metaKey
                }
                : function() {
                    return this.domEvent.ctrlKey
                }
            }
            ).call(s.prototype)
        }),
        define("ace/mouse/dragdrop_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], function(e, t, i) {
            function n(e) {
                function t(e, t) {
                    var i, n = (new Date).getTime(), s = !t || e.row != t.row, r = !t || e.column != t.column;
                    !F || s || r ? (D.$blockScrolling += 1,
                    D.moveCursorToPosition(e),
                    D.$blockScrolling -= 1,
                    F = n,
                    E = {
                        x: y,
                        y: b
                    }) : (i = o(E.x, E.y, y, b),
                    i > d ? F = null : n - F >= c && (D.renderer.scrollCursorIntoView(),
                    F = null))
                }
                function i(e, t) {
                    var i, n, o, s = (new Date).getTime(), r = D.renderer.layerConfig.lineHeight, a = D.renderer.layerConfig.characterWidth, c = D.renderer.scroller.getBoundingClientRect(), d = {
                        x: {
                            left: y - c.left,
                            right: c.right - y
                        },
                        y: {
                            top: b - c.top,
                            bottom: c.bottom - b
                        }
                    }, h = Math.min(d.x.left, d.x.right), u = Math.min(d.y.top, d.y.bottom), p = {
                        row: e.row,
                        column: e.column
                    };
                    h / a <= 2 && (p.column += d.x.left < d.x.right ? -3 : 2),
                    u / r <= 1 && (p.row += d.y.top < d.y.bottom ? -1 : 1),
                    i = e.row != p.row,
                    n = e.column != p.column,
                    o = !t || e.row != t.row,
                    i || n && !o ? k ? s - k >= l && D.renderer.scrollCursorIntoView(p) : k = s : k = null
                }
                function n() {
                    var e = C;
                    C = D.renderer.screenToTextCoordinates(y, b),
                    t(C, e),
                    i(C, e)
                }
                function h() {
                    $ = D.selection.toOrientedRange(),
                    v = D.session.addMarker($, "ace_selection", D.getSelectionStyle()),
                    D.clearSelection(),
                    D.isFocused() && D.renderer.$cursorLayer.setBlinking(!1),
                    clearInterval(w),
                    w = setInterval(n, 20),
                    A = 0,
                    r.addListener(document, "mousemove", p)
                }
                function u() {
                    clearInterval(w),
                    D.session.removeMarker(v),
                    v = null,
                    D.$blockScrolling += 1,
                    D.selection.fromOrientedRange($),
                    D.$blockScrolling -= 1,
                    D.isFocused() && !S && D.renderer.$cursorLayer.setBlinking(!D.getReadOnly()),
                    $ = null,
                    A = 0,
                    k = null,
                    F = null,
                    r.removeListener(document, "mousemove", p)
                }
                function p() {
                    null == T && (T = setTimeout(function() {
                        null != T && v && u()
                    }, 20))
                }
                function f(e) {
                    var t = e.types;
                    return !t || Array.prototype.some.call(t, function(e) {
                        return "text/plain" == e || "Text" == e
                    })
                }
                function g(e) {
                    var t, i = ["copy", "copymove", "all", "uninitialized"], n = ["move", "copymove", "linkmove", "all", "uninitialized"], o = a.isMac ? e.altKey : e.ctrlKey, s = "uninitialized";
                    try {
                        s = e.dataTransfer.effectAllowed.toLowerCase()
                    } catch (e) {}
                    return t = "none",
                    o && i.indexOf(s) >= 0 ? t = "copy" : n.indexOf(s) >= 0 ? t = "move" : i.indexOf(s) >= 0 && (t = "copy"),
                    t
                }
                var m, _, v, y, b, w, $, C, A, x, S, k, F, E, T, D = e.editor, B = s.createElement("img");
                B.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",
                a.isOpera && (B.style.cssText = "width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),
                m = ["dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag"],
                m.forEach(function(t) {
                    e[t] = this[t]
                }, this),
                D.addEventListener("mousedown", this.onMouseDown.bind(e)),
                _ = D.container,
                A = 0,
                this.onDragStart = function(e) {
                    var t, i;
                    if (this.cancelDrag || !_.draggable)
                        return t = this,
                        setTimeout(function() {
                            t.startSelect(),
                            t.captureMouse(e)
                        }, 0),
                        e.preventDefault();
                    $ = D.getSelectionRange(),
                    i = e.dataTransfer,
                    i.effectAllowed = D.getReadOnly() ? "copy" : "copyMove",
                    a.isOpera && (D.container.appendChild(B),
                    B._top = B.offsetTop),
                    i.setDragImage && i.setDragImage(B, 0, 0),
                    a.isOpera && D.container.removeChild(B),
                    i.clearData(),
                    i.setData("Text", D.session.getTextRange()),
                    S = !0,
                    this.setState("drag")
                }
                ,
                this.onDragEnd = function(e) {
                    if (_.draggable = !1,
                    S = !1,
                    this.setState(null),
                    !D.getReadOnly()) {
                        var t = e.dataTransfer.dropEffect;
                        x || "move" != t || D.session.remove(D.getSelectionRange()),
                        D.renderer.$cursorLayer.setBlinking(!0)
                    }
                    this.editor.unsetStyle("ace_dragging")
                }
                ,
                this.onDragEnter = function(e) {
                    if (!D.getReadOnly() && f(e.dataTransfer))
                        return v || h(),
                        A++,
                        e.dataTransfer.dropEffect = x = g(e),
                        r.preventDefault(e)
                }
                ,
                this.onDragOver = function(e) {
                    if (!D.getReadOnly() && f(e.dataTransfer))
                        return v || (h(),
                        A++),
                        null !== T && (T = null),
                        y = e.clientX,
                        b = e.clientY,
                        e.dataTransfer.dropEffect = x = g(e),
                        r.preventDefault(e)
                }
                ,
                this.onDragLeave = function(e) {
                    if (--A <= 0 && v)
                        return u(),
                        x = null,
                        r.preventDefault(e)
                }
                ,
                this.onDrop = function(e) {
                    var t, i;
                    if (v) {
                        if (t = e.dataTransfer,
                        S)
                            switch (x) {
                            case "move":
                                $ = $.contains(C.row, C.column) ? {
                                    start: C,
                                    end: C
                                } : D.moveText($, C);
                                break;
                            case "copy":
                                $ = D.moveText($, C, !0)
                            }
                        else
                            i = t.getData("Text"),
                            $ = {
                                start: C,
                                end: D.session.insert(C, i)
                            },
                            D.focus(),
                            x = null;
                        return u(),
                        r.preventDefault(e)
                    }
                }
                ,
                r.addListener(_, "dragstart", this.onDragStart.bind(e)),
                r.addListener(_, "dragend", this.onDragEnd.bind(e)),
                r.addListener(_, "dragenter", this.onDragEnter.bind(e)),
                r.addListener(_, "dragover", this.onDragOver.bind(e)),
                r.addListener(_, "dragleave", this.onDragLeave.bind(e)),
                r.addListener(_, "drop", this.onDrop.bind(e)),
                T = null
            }
            function o(e, t, i, n) {
                return Math.sqrt(Math.pow(i - e, 2) + Math.pow(n - t, 2))
            }
            var s = e("../lib/dom")
              , r = e("../lib/event")
              , a = e("../lib/useragent")
              , l = 200
              , c = 200
              , d = 5;
            (function() {
                this.dragWait = function() {
                    (new Date).getTime() - this.mousedownEvent.time > this.editor.getDragDelay() && this.startDrag()
                }
                ,
                this.dragWaitEnd = function() {
                    this.editor.container.draggable = !1,
                    this.startSelect(this.mousedownEvent.getDocumentPosition()),
                    this.selectEnd()
                }
                ,
                this.dragReadyEnd = function(e) {
                    this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),
                    this.editor.unsetStyle("ace_dragging"),
                    this.dragWaitEnd()
                }
                ,
                this.startDrag = function() {
                    this.cancelDrag = !1,
                    this.editor.container.draggable = !0,
                    this.editor.renderer.$cursorLayer.setBlinking(!1),
                    this.editor.setStyle("ace_dragging"),
                    this.setState("dragReady")
                }
                ,
                this.onMouseDrag = function(e) {
                    var t = this.editor.container;
                    a.isIE && "dragReady" == this.state && o(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y) > 3 && t.dragDrop(),
                    "dragWait" === this.state && o(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y) > 0 && (t.draggable = !1,
                    this.startSelect(this.mousedownEvent.getDocumentPosition()))
                }
                ,
                this.onMouseDown = function(e) {
                    var t, i, n, o, s;
                    this.$dragEnabled && (this.mousedownEvent = e,
                    t = this.editor,
                    i = e.inSelection(),
                    n = e.getButton(),
                    1 === (e.domEvent.detail || 1) && 0 === n && i && (this.mousedownEvent.time = (new Date).getTime(),
                    o = e.domEvent.target || e.domEvent.srcElement,
                    "unselectable"in o && (o.unselectable = "on"),
                    t.getDragDelay() ? (a.isWebKit && (self.cancelDrag = !0,
                    s = t.container,
                    s.draggable = !0),
                    this.setState("dragWait")) : this.startDrag(),
                    this.captureMouse(e, this.onMouseDrag.bind(this)),
                    e.defaultPrevented = !0))
                }
            }
            ).call(n.prototype),
            t.DragdropHandler = n
        }),
        define("ace/config", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/lib/net", "ace/lib/event_emitter"], function(e, t, i) {
            "no use strict";
            function n(e) {
                return e.replace(/-(.)/g, function(e, t) {
                    return t.toUpperCase()
                })
            }
            var o, s, r = e("./lib/lang"), a = e("./lib/oop"), l = e("./lib/net"), c = e("./lib/event_emitter").EventEmitter, d = function() {
                return this || window
            }(), h = {
                packaged: !1,
                workerPath: null,
                modePath: null,
                themePath: null,
                basePath: "",
                suffix: ".js",
                $moduleUrls: {}
            };
            t.get = function(e) {
                if (!h.hasOwnProperty(e))
                    throw Error("Unknown config key: " + e);
                return h[e]
            }
            ,
            t.set = function(e, t) {
                if (!h.hasOwnProperty(e))
                    throw Error("Unknown config key: " + e);
                h[e] = t
            }
            ,
            t.all = function() {
                return r.copyObject(h)
            }
            ,
            a.implement(t, c),
            t.moduleUrl = function(e, t) {
                var i, n, o, s, r;
                return h.$moduleUrls[e] ? h.$moduleUrls[e] : (i = e.split("/"),
                t = t || i[i.length - 2] || "",
                n = "snippets" == t ? "/" : "-",
                o = i[i.length - 1],
                "-" == n && (s = RegExp("^" + t + "[\\-_]|[\\-_]" + t + "$", "g"),
                o = o.replace(s, "")),
                (!o || o == t) && i.length > 1 && (o = i[i.length - 2]),
                r = h[t + "Path"],
                null == r ? r = h.basePath : "/" == n && (t = n = ""),
                r && "/" != r.slice(-1) && (r += "/"),
                r + t + n + o + this.get("suffix"))
            }
            ,
            t.setModuleUrl = function(e, t) {
                return h.$moduleUrls[e] = t
            }
            ,
            t.$loading = {},
            t.loadModule = function(i, n) {
                var o, s, r;
                Array.isArray(i) && (s = i[0],
                i = i[1]);
                try {
                    o = e(i)
                } catch (e) {}
                if (o && !t.$loading[i])
                    return n && n(o);
                if (t.$loading[i] || (t.$loading[i] = []),
                t.$loading[i].push(n),
                !(t.$loading[i].length > 1)) {
                    if (r = function() {
                        e([i], function(e) {
                            t._emit("load.module", {
                                name: i,
                                module: e
                            });
                            var n = t.$loading[i];
                            t.$loading[i] = null,
                            n.forEach(function(t) {
                                t && t(e)
                            })
                        })
                    }
                    ,
                    !t.get("packaged"))
                        return r();
                    l.loadScript(t.moduleUrl(i, s), r)
                }
            }
            ,
            t.init = function() {
                var o, s, r, a, l, c, u, p, f, g, m, _;
                if (h.packaged = e.packaged || i.packaged || d.define && define.packaged,
                !d.document)
                    return "";
                for (o = {},
                s = "",
                r = document.getElementsByTagName("script"),
                a = 0; a < r.length; a++)
                    if (l = r[a],
                    c = l.src || l.getAttribute("src")) {
                        for (u = l.attributes,
                        p = 0,
                        f = u.length; p < f; p++)
                            g = u[p],
                            0 === g.name.indexOf("data-ace-") && (o[n(g.name.replace(/^data-ace-/, ""))] = g.value);
                        m = c.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/),
                        m && (s = m[1])
                    }
                s && (o.base = o.base || s,
                o.packaged = !0),
                o.basePath = o.base,
                o.workerPath = o.workerPath || o.base,
                o.modePath = o.modePath || o.base,
                o.themePath = o.themePath || o.base,
                delete o.base;
                for (_ in o)
                    void 0 !== o[_] && t.set(_, o[_])
            }
            ,
            o = {
                setOptions: function(e) {
                    Object.keys(e).forEach(function(t) {
                        this.setOption(t, e[t])
                    }, this)
                },
                getOptions: function(e) {
                    var t = {};
                    return e ? Array.isArray(e) || (t = e,
                    e = Object.keys(t)) : e = Object.keys(this.$options),
                    e.forEach(function(e) {
                        t[e] = this.getOption(e)
                    }, this),
                    t
                },
                setOption: function(e, t) {
                    if (this["$" + e] !== t) {
                        var i = this.$options[e];
                        if (!i)
                            return void ("undefined" != typeof console && console.warn && console.warn('misspelled option "' + e + '"'));
                        if (i.forwardTo)
                            return this[i.forwardTo] && this[i.forwardTo].setOption(e, t);
                        i.handlesSet || (this["$" + e] = t),
                        i && i.set && i.set.call(this, t)
                    }
                },
                getOption: function(e) {
                    var t = this.$options[e];
                    return t ? t.forwardTo ? this[t.forwardTo] && this[t.forwardTo].getOption(e) : t && t.get ? t.get.call(this) : this["$" + e] : void ("undefined" != typeof console && console.warn && console.warn('misspelled option "' + e + '"'))
                }
            },
            s = {},
            t.defineOptions = function(e, t, i) {
                return e.$options || (s[t] = e.$options = {}),
                Object.keys(i).forEach(function(t) {
                    var n = i[t];
                    "string" == typeof n && (n = {
                        forwardTo: n
                    }),
                    n.name || (n.name = t),
                    e.$options[n.name] = n,
                    "initialValue"in n && (e["$" + n.name] = n.initialValue)
                }),
                a.implement(e, o),
                this
            }
            ,
            t.resetOptions = function(e) {
                Object.keys(e.$options).forEach(function(t) {
                    var i = e.$options[t];
                    "value"in i && e.setOption(t, i.value)
                })
            }
            ,
            t.setDefaultValue = function(e, i, n) {
                var o = s[e] || (s[e] = {});
                o[i] && (o.forwardTo ? t.setDefaultValue(o.forwardTo, i, n) : o[i].value = n)
            }
            ,
            t.setDefaultValues = function(e, i) {
                Object.keys(i).forEach(function(n) {
                    t.setDefaultValue(e, n, i[n])
                })
            }
        }),
        define("ace/lib/net", ["require", "exports", "module", "ace/lib/dom"], function(e, t, i) {
            var n = e("./dom");
            t.get = function(e, t) {
                var i = new XMLHttpRequest;
                i.open("GET", e, !0),
                i.onreadystatechange = function() {
                    4 === i.readyState && t(i.responseText)
                }
                ,
                i.send(null)
            }
            ,
            t.loadScript = function(e, t) {
                var i = n.getDocumentHead()
                  , o = document.createElement("script");
                o.src = e,
                i.appendChild(o),
                o.onload = o.onreadystatechange = function(e, i) {
                    !i && o.readyState && "loaded" != o.readyState && "complete" != o.readyState || (o = o.onload = o.onreadystatechange = null,
                    i || t())
                }
            }
        }),
        define("ace/lib/event_emitter", ["require", "exports", "module"], function(e, t, i) {
            var n = {}
              , o = function() {
                this.propagationStopped = !0
            }
              , s = function() {
                this.defaultPrevented = !0
            };
            n._emit = n._dispatchEvent = function(e, t) {
                var i, n, r;
                if (this._eventRegistry || (this._eventRegistry = {}),
                this._defaultHandlers || (this._defaultHandlers = {}),
                i = this._eventRegistry[e] || [],
                n = this._defaultHandlers[e],
                i.length || n) {
                    for ("object" == typeof t && t || (t = {}),
                    t.type || (t.type = e),
                    t.stopPropagation || (t.stopPropagation = o),
                    t.preventDefault || (t.preventDefault = s),
                    i = i.slice(),
                    r = 0; r < i.length && (i[r](t, this),
                    !t.propagationStopped); r++)
                        ;
                    return n && !t.defaultPrevented ? n(t, this) : void 0
                }
            }
            ,
            n._signal = function(e, t) {
                var i, n = (this._eventRegistry || {})[e];
                if (n)
                    for (n = n.slice(),
                    i = 0; i < n.length; i++)
                        n[i](t, this)
            }
            ,
            n.once = function(e, t) {
                var i = this;
                t && this.addEventListener(e, function n() {
                    i.removeEventListener(e, n),
                    t.apply(null, arguments)
                })
            }
            ,
            n.setDefaultHandler = function(e, t) {
                var i, n, o, s = this._defaultHandlers;
                s || (s = this._defaultHandlers = {
                    _disabled_: {}
                }),
                s[e] && (i = s[e],
                n = s._disabled_[e],
                n || (s._disabled_[e] = n = []),
                n.push(i),
                -1 != (o = n.indexOf(t)) && n.splice(o, 1)),
                s[e] = t
            }
            ,
            n.removeDefaultHandler = function(e, t) {
                var i, n, o = this._defaultHandlers;
                o && (i = o._disabled_[e],
                o[e] == t ? (o[e],
                i && this.setDefaultHandler(e, i.pop())) : i && -1 != (n = i.indexOf(t)) && i.splice(n, 1))
            }
            ,
            n.on = n.addEventListener = function(e, t, i) {
                this._eventRegistry = this._eventRegistry || {};
                var n = this._eventRegistry[e];
                return n || (n = this._eventRegistry[e] = []),
                -1 == n.indexOf(t) && n[i ? "unshift" : "push"](t),
                t
            }
            ,
            n.off = n.removeListener = n.removeEventListener = function(e, t) {
                var i, n;
                this._eventRegistry = this._eventRegistry || {},
                (i = this._eventRegistry[e]) && -1 !== (n = i.indexOf(t)) && i.splice(n, 1)
            }
            ,
            n.removeAllListeners = function(e) {
                this._eventRegistry && (this._eventRegistry[e] = [])
            }
            ,
            t.EventEmitter = n
        }),
        define("ace/mouse/fold_handler", ["require", "exports", "module"], function(e, t, i) {
            function n(e) {
                e.on("click", function(t) {
                    var i = t.getDocumentPosition()
                      , n = e.session
                      , o = n.getFoldAt(i.row, i.column, 1);
                    o && (t.getAccelKey() ? n.removeFold(o) : n.expandFold(o),
                    t.stop())
                }),
                e.on("gutterclick", function(t) {
                    var i, n;
                    "foldWidgets" == e.renderer.$gutterLayer.getRegion(t) && (i = t.getDocumentPosition().row,
                    n = e.session,
                    n.foldWidgets && n.foldWidgets[i] && e.session.onFoldWidgetClick(i, t),
                    e.isFocused() || e.focus(),
                    t.stop())
                }),
                e.on("gutterdblclick", function(t) {
                    var i, n, o, s, r;
                    "foldWidgets" == e.renderer.$gutterLayer.getRegion(t) && (i = t.getDocumentPosition().row,
                    n = e.session,
                    o = n.getParentFoldRangeData(i, !0),
                    s = o.range || o.firstRange,
                    s && (i = s.start.row,
                    r = n.getFoldAt(i, n.getLine(i).length, 1),
                    r ? n.removeFold(r) : (n.addFold("...", s),
                    e.renderer.scrollCursorIntoView({
                        row: s.start.row,
                        column: 0
                    }))),
                    t.stop())
                })
            }
            t.FoldHandler = n
        }),
        define("ace/keyboard/keybinding", ["require", "exports", "module", "ace/lib/keys", "ace/lib/event"], function(e, t, i) {
            var n = e("../lib/keys")
              , o = e("../lib/event")
              , s = function(e) {
                this.$editor = e,
                this.$data = {},
                this.$handlers = [],
                this.setDefaultHandler(e.commands)
            };
            (function() {
                this.setDefaultHandler = function(e) {
                    this.removeKeyboardHandler(this.$defaultHandler),
                    this.$defaultHandler = e,
                    this.addKeyboardHandler(e, 0),
                    this.$data = {
                        editor: this.$editor
                    }
                }
                ,
                this.setKeyboardHandler = function(e) {
                    var t = this.$handlers;
                    if (t[t.length - 1] != e) {
                        for (; t[t.length - 1] && t[t.length - 1] != this.$defaultHandler; )
                            this.removeKeyboardHandler(t[t.length - 1]);
                        this.addKeyboardHandler(e, 1)
                    }
                }
                ,
                this.addKeyboardHandler = function(e, t) {
                    if (e) {
                        var i = this.$handlers.indexOf(e);
                        -1 != i && this.$handlers.splice(i, 1),
                        void 0 == t ? this.$handlers.push(e) : this.$handlers.splice(t, 0, e),
                        -1 == i && e.attach && e.attach(this.$editor)
                    }
                }
                ,
                this.removeKeyboardHandler = function(e) {
                    var t = this.$handlers.indexOf(e);
                    return -1 != t && (this.$handlers.splice(t, 1),
                    e.detach && e.detach(this.$editor),
                    !0)
                }
                ,
                this.getKeyboardHandler = function() {
                    return this.$handlers[this.$handlers.length - 1]
                }
                ,
                this.$callKeyboardHandlers = function(e, t, i, n) {
                    var s, r, a = !1, l = this.$editor.commands;
                    for (r = this.$handlers.length; r-- && !((s = this.$handlers[r].handleKeyboard(this.$data, e, t, i, n)) && s.command && (a = "null" == s.command || l.exec(s.command, this.$editor, s.args, n),
                    a && n && -1 != e && 1 != s.passEvent && 1 != s.command.passEvent && o.stopEvent(n),
                    a)); )
                        ;
                    return a
                }
                ,
                this.onCommandKey = function(e, t, i) {
                    var o = n.keyCodeToString(i);
                    this.$callKeyboardHandlers(t, o, i, e)
                }
                ,
                this.onTextInput = function(e) {
                    this.$callKeyboardHandlers(-1, e) || this.$editor.commands.exec("insertstring", this.$editor, e)
                }
            }
            ).call(s.prototype),
            t.KeyBinding = s
        }),
        define("ace/edit_session", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/config", "ace/lib/event_emitter", "ace/selection", "ace/mode/text", "ace/range", "ace/document", "ace/background_tokenizer", "ace/search_highlight", "ace/edit_session/folding", "ace/edit_session/bracket_match"], function(e, t, i) {
            var n = e("./lib/oop")
              , o = e("./lib/lang")
              , s = e("./config")
              , r = e("./lib/event_emitter").EventEmitter
              , a = e("./selection").Selection
              , l = e("./mode/text").Mode
              , c = e("./range").Range
              , d = e("./document").Document
              , h = e("./background_tokenizer").BackgroundTokenizer
              , u = e("./search_highlight").SearchHighlight
              , p = function(e, t) {
                this.$breakpoints = [],
                this.$decorations = [],
                this.$frontMarkers = {},
                this.$backMarkers = {},
                this.$markerId = 1,
                this.$undoSelect = !0,
                this.$foldData = [],
                this.$foldData.toString = function() {
                    return this.join("\n")
                }
                ,
                this.on("changeFold", this.onChangeFold.bind(this)),
                this.$onChange = this.onChange.bind(this),
                "object" == typeof e && e.getLine || (e = new d(e)),
                this.setDocument(e),
                this.selection = new a(this),
                s.resetOptions(this),
                this.setMode(t),
                s._emit("session", this)
            };
            (function() {
                function t(e) {
                    return !(e < 4352) && (e >= 4352 && e <= 4447 || e >= 4515 && e <= 4519 || e >= 4602 && e <= 4607 || e >= 9001 && e <= 9002 || e >= 11904 && e <= 11929 || e >= 11931 && e <= 12019 || e >= 12032 && e <= 12245 || e >= 12272 && e <= 12283 || e >= 12288 && e <= 12350 || e >= 12353 && e <= 12438 || e >= 12441 && e <= 12543 || e >= 12549 && e <= 12589 || e >= 12593 && e <= 12686 || e >= 12688 && e <= 12730 || e >= 12736 && e <= 12771 || e >= 12784 && e <= 12830 || e >= 12832 && e <= 12871 || e >= 12880 && e <= 13054 || e >= 13056 && e <= 19903 || e >= 19968 && e <= 42124 || e >= 42128 && e <= 42182 || e >= 43360 && e <= 43388 || e >= 44032 && e <= 55203 || e >= 55216 && e <= 55238 || e >= 55243 && e <= 55291 || e >= 63744 && e <= 64255 || e >= 65040 && e <= 65049 || e >= 65072 && e <= 65106 || e >= 65108 && e <= 65126 || e >= 65128 && e <= 65131 || e >= 65281 && e <= 65376 || e >= 65504 && e <= 65510)
                }
                n.implement(this, r),
                this.setDocument = function(e) {
                    this.doc && this.doc.removeListener("change", this.$onChange),
                    this.doc = e,
                    e.on("change", this.$onChange),
                    this.bgTokenizer && this.bgTokenizer.setDocument(this.getDocument()),
                    this.resetCaches()
                }
                ,
                this.getDocument = function() {
                    return this.doc
                }
                ,
                this.$resetRowCache = function(e) {
                    var t, i;
                    if (!e)
                        return this.$docRowCache = [],
                        void (this.$screenRowCache = []);
                    t = this.$docRowCache.length,
                    i = this.$getRowCacheIndex(this.$docRowCache, e) + 1,
                    t > i && (this.$docRowCache.splice(i, t),
                    this.$screenRowCache.splice(i, t))
                }
                ,
                this.$getRowCacheIndex = function(e, t) {
                    for (var i, n, o = 0, s = e.length - 1; o <= s; )
                        if (i = o + s >> 1,
                        n = e[i],
                        t > n)
                            o = i + 1;
                        else {
                            if (!(t < n))
                                return i;
                            s = i - 1
                        }
                    return o - 1
                }
                ,
                this.resetCaches = function() {
                    this.$modified = !0,
                    this.$wrapData = [],
                    this.$rowLengthCache = [],
                    this.$resetRowCache(0),
                    this.bgTokenizer && this.bgTokenizer.start(0)
                }
                ,
                this.onChangeFold = function(e) {
                    var t = e.data;
                    this.$resetRowCache(t.start.row)
                }
                ,
                this.onChange = function(e) {
                    var t, i = e.data;
                    this.$modified = !0,
                    this.$resetRowCache(i.range.start.row),
                    t = this.$updateInternalDataOnChange(e),
                    this.$fromUndo || !this.$undoManager || i.ignore || (this.$deltasDoc.push(i),
                    t && 0 != t.length && this.$deltasFold.push({
                        action: "removeFolds",
                        folds: t
                    }),
                    this.$informUndoManager.schedule()),
                    this.bgTokenizer.$updateOnChange(i),
                    this._emit("change", e)
                }
                ,
                this.setValue = function(e) {
                    this.doc.setValue(e),
                    this.selection.moveCursorTo(0, 0),
                    this.selection.clearSelection(),
                    this.$resetRowCache(0),
                    this.$deltas = [],
                    this.$deltasDoc = [],
                    this.$deltasFold = [],
                    this.getUndoManager().reset()
                }
                ,
                this.getValue = this.toString = function() {
                    return this.doc.getValue()
                }
                ,
                this.getSelection = function() {
                    return this.selection
                }
                ,
                this.getState = function(e) {
                    return this.bgTokenizer.getState(e)
                }
                ,
                this.getTokens = function(e) {
                    return this.bgTokenizer.getTokens(e)
                }
                ,
                this.getTokenAt = function(e, t) {
                    var i, n, o = this.bgTokenizer.getTokens(e), s = 0;
                    if (null == t)
                        n = o.length - 1,
                        s = this.getLine(e).length;
                    else
                        for (n = 0; n < o.length && !((s += o[n].value.length) >= t); n++)
                            ;
                    return (i = o[n]) ? (i.index = n,
                    i.start = s - i.value.length,
                    i) : null
                }
                ,
                this.setUndoManager = function(e) {
                    if (this.$undoManager = e,
                    this.$deltas = [],
                    this.$deltasDoc = [],
                    this.$deltasFold = [],
                    this.$informUndoManager && this.$informUndoManager.cancel(),
                    e) {
                        var t = this;
                        this.$syncInformUndoManager = function() {
                            t.$informUndoManager.cancel(),
                            t.$deltasFold.length && (t.$deltas.push({
                                group: "fold",
                                deltas: t.$deltasFold
                            }),
                            t.$deltasFold = []),
                            t.$deltasDoc.length && (t.$deltas.push({
                                group: "doc",
                                deltas: t.$deltasDoc
                            }),
                            t.$deltasDoc = []),
                            t.$deltas.length > 0 && e.execute({
                                action: "aceupdate",
                                args: [t.$deltas, t],
                                merge: t.mergeUndoDeltas
                            }),
                            t.mergeUndoDeltas = !1,
                            t.$deltas = []
                        }
                        ,
                        this.$informUndoManager = o.delayedCall(this.$syncInformUndoManager)
                    }
                }
                ,
                this.markUndoGroup = function() {
                    this.$syncInformUndoManager && this.$syncInformUndoManager()
                }
                ,
                this.$defaultUndoManager = {
                    undo: function() {},
                    redo: function() {},
                    reset: function() {}
                },
                this.getUndoManager = function() {
                    return this.$undoManager || this.$defaultUndoManager
                }
                ,
                this.getTabString = function() {
                    return this.getUseSoftTabs() ? o.stringRepeat(" ", this.getTabSize()) : "\t"
                }
                ,
                this.setUseSoftTabs = function(e) {
                    this.setOption("useSoftTabs", e)
                }
                ,
                this.getUseSoftTabs = function() {
                    return this.$useSoftTabs && !this.$mode.$indentWithTabs
                }
                ,
                this.setTabSize = function(e) {
                    this.setOption("tabSize", e)
                }
                ,
                this.getTabSize = function() {
                    return this.$tabSize
                }
                ,
                this.isTabStop = function(e) {
                    return this.$useSoftTabs && e.column % this.$tabSize == 0
                }
                ,
                this.$overwrite = !1,
                this.setOverwrite = function(e) {
                    this.setOption("overwrite", e)
                }
                ,
                this.getOverwrite = function() {
                    return this.$overwrite
                }
                ,
                this.toggleOverwrite = function() {
                    this.setOverwrite(!this.$overwrite)
                }
                ,
                this.addGutterDecoration = function(e, t) {
                    this.$decorations[e] || (this.$decorations[e] = ""),
                    this.$decorations[e] += " " + t,
                    this._emit("changeBreakpoint", {})
                }
                ,
                this.removeGutterDecoration = function(e, t) {
                    this.$decorations[e] = (this.$decorations[e] || "").replace(" " + t, ""),
                    this._emit("changeBreakpoint", {})
                }
                ,
                this.getBreakpoints = function() {
                    return this.$breakpoints
                }
                ,
                this.setBreakpoints = function(e) {
                    this.$breakpoints = [];
                    for (var t = 0; t < e.length; t++)
                        this.$breakpoints[e[t]] = "ace_breakpoint";
                    this._emit("changeBreakpoint", {})
                }
                ,
                this.clearBreakpoints = function() {
                    this.$breakpoints = [],
                    this._emit("changeBreakpoint", {})
                }
                ,
                this.setBreakpoint = function(e, t) {
                    void 0 === t && (t = "ace_breakpoint"),
                    t ? this.$breakpoints[e] = t : delete this.$breakpoints[e],
                    this._emit("changeBreakpoint", {})
                }
                ,
                this.clearBreakpoint = function(e) {
                    delete this.$breakpoints[e],
                    this._emit("changeBreakpoint", {})
                }
                ,
                this.addMarker = function(e, t, i, n) {
                    var o = this.$markerId++
                      , s = {
                        range: e,
                        type: i || "line",
                        renderer: "function" == typeof i ? i : null,
                        clazz: t,
                        inFront: !!n,
                        id: o
                    };
                    return n ? (this.$frontMarkers[o] = s,
                    this._emit("changeFrontMarker")) : (this.$backMarkers[o] = s,
                    this._emit("changeBackMarker")),
                    o
                }
                ,
                this.addDynamicMarker = function(e, t) {
                    if (e.update) {
                        var i = this.$markerId++;
                        return e.id = i,
                        e.inFront = !!t,
                        t ? (this.$frontMarkers[i] = e,
                        this._emit("changeFrontMarker")) : (this.$backMarkers[i] = e,
                        this._emit("changeBackMarker")),
                        e
                    }
                }
                ,
                this.removeMarker = function(e) {
                    var t, i = this.$frontMarkers[e] || this.$backMarkers[e];
                    i && (t = i.inFront ? this.$frontMarkers : this.$backMarkers,
                    i && (delete t[e],
                    this._emit(i.inFront ? "changeFrontMarker" : "changeBackMarker")))
                }
                ,
                this.getMarkers = function(e) {
                    return e ? this.$frontMarkers : this.$backMarkers
                }
                ,
                this.highlight = function(e) {
                    if (!this.$searchHighlight) {
                        var t = new u(null,"ace_selected-word","text");
                        this.$searchHighlight = this.addDynamicMarker(t)
                    }
                    this.$searchHighlight.setRegexp(e)
                }
                ,
                this.highlightLines = function(e, t, i, n) {
                    "number" != typeof t && (i = t,
                    t = e),
                    i || (i = "ace_step");
                    var o = new c(e,0,t,1 / 0);
                    return o.id = this.addMarker(o, i, "fullLine", n),
                    o
                }
                ,
                this.setAnnotations = function(e) {
                    this.$annotations = e,
                    this._emit("changeAnnotation", {})
                }
                ,
                this.getAnnotations = function() {
                    return this.$annotations || []
                }
                ,
                this.clearAnnotations = function() {
                    this.setAnnotations([])
                }
                ,
                this.$detectNewLine = function(e) {
                    var t = e.match(/^.*?(\r?\n)/m);
                    this.$autoNewLine = t ? t[1] : "\n"
                }
                ,
                this.getWordRange = function(e, t) {
                    var i, n, o, s = this.getLine(e), r = !1;
                    if (t > 0 && (r = !!s.charAt(t - 1).match(this.tokenRe)),
                    r || (r = !!s.charAt(t).match(this.tokenRe)),
                    i = r ? this.tokenRe : /^\s+$/.test(s.slice(t - 1, t + 1)) ? /\s/ : this.nonTokenRe,
                    (n = t) > 0) {
                        do {
                            n--
                        } while (n >= 0 && s.charAt(n).match(i));n++
                    }
                    for (o = t; o < s.length && s.charAt(o).match(i); )
                        o++;
                    return new c(e,n,e,o)
                }
                ,
                this.getAWordRange = function(e, t) {
                    for (var i = this.getWordRange(e, t), n = this.getLine(i.end.row); n.charAt(i.end.column).match(/[ \t]/); )
                        i.end.column += 1;
                    return i
                }
                ,
                this.setNewLineMode = function(e) {
                    this.doc.setNewLineMode(e)
                }
                ,
                this.getNewLineMode = function() {
                    return this.doc.getNewLineMode()
                }
                ,
                this.setUseWorker = function(e) {
                    this.setOption("useWorker", e)
                }
                ,
                this.getUseWorker = function() {
                    return this.$useWorker
                }
                ,
                this.onReloadTokenizer = function(e) {
                    var t = e.data;
                    this.bgTokenizer.start(t.first),
                    this._emit("tokenizerUpdate", e)
                }
                ,
                this.$modes = {},
                this.$mode = null,
                this.$modeId = null,
                this.setMode = function(e, t) {
                    var i, n;
                    if (e && "object" == typeof e) {
                        if (e.getTokenizer)
                            return this.$onChangeMode(e);
                        i = e,
                        n = i.path
                    } else
                        n = e || "ace/mode/text";
                    if (this.$modes["ace/mode/text"] || (this.$modes["ace/mode/text"] = new l),
                    this.$modes[n] && !i)
                        return this.$onChangeMode(this.$modes[n]),
                        void (t && t());
                    this.$modeId = n,
                    s.loadModule(["mode", n], function(e) {
                        return this.$modeId !== n ? t && t() : this.$modes[n] && !i ? this.$onChangeMode(this.$modes[n]) : void (e && e.Mode && (e = new e.Mode(i),
                        i || (this.$modes[n] = e,
                        e.$id = n),
                        this.$onChangeMode(e),
                        t && t()))
                    }
                    .bind(this)),
                    this.$mode || this.$onChangeMode(this.$modes["ace/mode/text"], !0)
                }
                ,
                this.refreshMode = function() {
                    this.$onChangeMode(this.$mode, !1, !0)
                }
                ,
                this.$onChangeMode = function(e, t, i) {
                    var n, o, s;
                    t || (this.$modeId = e.$id),
                    (this.$mode !== e || i) && (this.$mode = e,
                    this.$stopWorker(),
                    this.$useWorker && this.$startWorker(),
                    n = e.getTokenizer(),
                    void 0 !== n.addEventListener && (o = this.onReloadTokenizer.bind(this),
                    n.addEventListener("update", o)),
                    this.bgTokenizer ? this.bgTokenizer.setTokenizer(n) : (this.bgTokenizer = new h(n),
                    s = this,
                    this.bgTokenizer.addEventListener("update", function(e) {
                        s._emit("tokenizerUpdate", e)
                    })),
                    this.bgTokenizer.setDocument(this.getDocument()),
                    this.tokenRe = e.tokenRe,
                    this.nonTokenRe = e.nonTokenRe,
                    this.$options.wrapMethod.set.call(this, this.$wrapMethod),
                    t || (this.$setFolding(e.foldingRules),
                    this._emit("changeMode"),
                    this.bgTokenizer.start(0)))
                }
                ,
                this.$stopWorker = function() {
                    this.$worker && this.$worker.terminate(),
                    this.$worker = null
                }
                ,
                this.$startWorker = function() {
                    if ("undefined" == typeof Worker || e.noWorker)
                        this.$worker = null;
                    else
                        try {
                            this.$worker = this.$mode.createWorker(this)
                        } catch (e) {
                            console.log("Could not load worker"),
                            console.log(e),
                            this.$worker = null
                        }
                }
                ,
                this.getMode = function() {
                    return this.$mode
                }
                ,
                this.$scrollTop = 0,
                this.setScrollTop = function(e) {
                    this.$scrollTop === e || isNaN(e) || (this.$scrollTop = e,
                    this._signal("changeScrollTop", e))
                }
                ,
                this.getScrollTop = function() {
                    return this.$scrollTop
                }
                ,
                this.$scrollLeft = 0,
                this.setScrollLeft = function(e) {
                    this.$scrollLeft === e || isNaN(e) || (this.$scrollLeft = e,
                    this._signal("changeScrollLeft", e))
                }
                ,
                this.getScrollLeft = function() {
                    return this.$scrollLeft
                }
                ,
                this.getScreenWidth = function() {
                    return this.$computeWidth(),
                    this.screenWidth
                }
                ,
                this.$computeWidth = function(e) {
                    var t, i, n, o, s, r, a, l;
                    if (this.$modified || e) {
                        if (this.$modified = !1,
                        this.$useWrapMode)
                            return this.screenWidth = this.$wrapLimit;
                        for (t = this.doc.getAllLines(),
                        i = this.$rowLengthCache,
                        n = 0,
                        o = 0,
                        s = this.$foldData[o],
                        r = s ? s.start.row : 1 / 0,
                        a = t.length,
                        l = 0; l < a; l++) {
                            if (l > r) {
                                if ((l = s.end.row + 1) >= a)
                                    break;
                                s = this.$foldData[o++],
                                r = s ? s.start.row : 1 / 0
                            }
                            null == i[l] && (i[l] = this.$getStringScreenWidth(t[l])[0]),
                            i[l] > n && (n = i[l])
                        }
                        this.screenWidth = n
                    }
                }
                ,
                this.getLine = function(e) {
                    return this.doc.getLine(e)
                }
                ,
                this.getLines = function(e, t) {
                    return this.doc.getLines(e, t)
                }
                ,
                this.getLength = function() {
                    return this.doc.getLength()
                }
                ,
                this.getTextRange = function(e) {
                    return this.doc.getTextRange(e || this.selection.getRange())
                }
                ,
                this.insert = function(e, t) {
                    return this.doc.insert(e, t)
                }
                ,
                this.remove = function(e) {
                    return this.doc.remove(e)
                }
                ,
                this.undoChanges = function(e, t) {
                    var i, n, o;
                    if (e.length) {
                        for (this.$fromUndo = !0,
                        i = null,
                        n = e.length - 1; -1 != n; n--)
                            o = e[n],
                            "doc" == o.group ? (this.doc.revertDeltas(o.deltas),
                            i = this.$getUndoSelection(o.deltas, !0, i)) : o.deltas.forEach(function(e) {
                                this.addFolds(e.folds)
                            }, this);
                        return this.$fromUndo = !1,
                        i && this.$undoSelect && !t && this.selection.setSelectionRange(i),
                        i
                    }
                }
                ,
                this.redoChanges = function(e, t) {
                    var i, n, o;
                    if (e.length) {
                        for (this.$fromUndo = !0,
                        i = null,
                        n = 0; n < e.length; n++)
                            o = e[n],
                            "doc" == o.group && (this.doc.applyDeltas(o.deltas),
                            i = this.$getUndoSelection(o.deltas, !1, i));
                        return this.$fromUndo = !1,
                        i && this.$undoSelect && !t && this.selection.setSelectionRange(i),
                        i
                    }
                }
                ,
                this.setUndoSelect = function(e) {
                    this.$undoSelect = e
                }
                ,
                this.$getUndoSelection = function(e, t, i) {
                    function n(e) {
                        var i = "insertText" === e.action || "insertLines" === e.action;
                        return t ? !i : i
                    }
                    var o, s, r, a, l = e[0];
                    for (n(l) ? (o = c.fromPoints(l.range.start, l.range.end),
                    !0) : (o = c.fromPoints(l.range.start, l.range.start),
                    !1),
                    r = 1; r < e.length; r++)
                        l = e[r],
                        n(l) ? (s = l.range.start,
                        -1 == o.compare(s.row, s.column) && o.setStart(l.range.start),
                        s = l.range.end,
                        1 == o.compare(s.row, s.column) && o.setEnd(l.range.end),
                        !0) : (s = l.range.start,
                        -1 == o.compare(s.row, s.column) && (o = c.fromPoints(l.range.start, l.range.start)),
                        !1);
                    return null != i && (0 == c.comparePoints(i.start, o.start) && (i.start.column += o.end.column - o.start.column,
                    i.end.column += o.end.column - o.start.column),
                    a = i.compareRange(o),
                    1 == a ? o.setStart(i.start) : -1 == a && o.setEnd(i.end)),
                    o
                }
                ,
                this.replace = function(e, t) {
                    return this.doc.replace(e, t)
                }
                ,
                this.moveText = function(e, t, i) {
                    var n, o, s, r, a = this.getTextRange(e), l = this.getFoldsInRange(e), d = c.fromPoints(t, t);
                    return i || (this.remove(e),
                    n = e.start.row - e.end.row,
                    o = n ? -e.end.column : e.start.column - e.end.column,
                    o && (d.start.row == e.end.row && d.start.column > e.end.column && (d.start.column += o),
                    d.end.row == e.end.row && d.end.column > e.end.column && (d.end.column += o)),
                    n && d.start.row >= e.end.row && (d.start.row += n,
                    d.end.row += n)),
                    d.end = this.insert(d.start, a),
                    l.length && (s = e.start,
                    r = d.start,
                    n = r.row - s.row,
                    o = r.column - s.column,
                    this.addFolds(l.map(function(e) {
                        return e = e.clone(),
                        e.start.row == s.row && (e.start.column += o),
                        e.end.row == s.row && (e.end.column += o),
                        e.start.row += n,
                        e.end.row += n,
                        e
                    }))),
                    d
                }
                ,
                this.indentRows = function(e, t, i) {
                    i = i.replace(/\t/g, this.getTabString());
                    for (var n = e; n <= t; n++)
                        this.insert({
                            row: n,
                            column: 0
                        }, i)
                }
                ,
                this.outdentRows = function(e) {
                    var t, i, n, o = e.collapseRows(), s = new c(0,0,0,0), r = this.getTabSize();
                    for (t = o.start.row; t <= o.end.row; ++t) {
                        for (i = this.getLine(t),
                        s.start.row = t,
                        s.end.row = t,
                        n = 0; n < r && " " == i.charAt(n); ++n)
                            ;
                        n < r && "\t" == i.charAt(n) ? (s.start.column = n,
                        s.end.column = n + 1) : (s.start.column = 0,
                        s.end.column = n),
                        this.remove(s)
                    }
                }
                ,
                this.$moveLines = function(e, t, i) {
                    var n, o, s, r, a;
                    if (e = this.getRowFoldStart(e),
                    t = this.getRowFoldEnd(t),
                    i < 0) {
                        if ((n = this.getRowFoldStart(e + i)) < 0)
                            return 0;
                        o = n - e
                    } else if (i > 0) {
                        if ((n = this.getRowFoldEnd(t + i)) > this.doc.getLength() - 1)
                            return 0;
                        o = n - t
                    } else
                        e = this.$clipRowToDocument(e),
                        t = this.$clipRowToDocument(t),
                        o = t - e + 1;
                    return s = new c(e,0,t,Number.MAX_VALUE),
                    r = this.getFoldsInRange(s).map(function(e) {
                        return e = e.clone(),
                        e.start.row += o,
                        e.end.row += o,
                        e
                    }),
                    a = 0 == i ? this.doc.getLines(e, t) : this.doc.removeLines(e, t),
                    this.doc.insertLines(e + o, a),
                    r.length && this.addFolds(r),
                    o
                }
                ,
                this.moveLinesUp = function(e, t) {
                    return this.$moveLines(e, t, -1)
                }
                ,
                this.moveLinesDown = function(e, t) {
                    return this.$moveLines(e, t, 1)
                }
                ,
                this.duplicateLines = function(e, t) {
                    return this.$moveLines(e, t, 0)
                }
                ,
                this.$clipRowToDocument = function(e) {
                    return Math.max(0, Math.min(e, this.doc.getLength() - 1))
                }
                ,
                this.$clipColumnToRow = function(e, t) {
                    return t < 0 ? 0 : Math.min(this.doc.getLine(e).length, t)
                }
                ,
                this.$clipPositionToDocument = function(e, t) {
                    if (t = Math.max(0, t),
                    e < 0)
                        e = 0,
                        t = 0;
                    else {
                        var i = this.doc.getLength();
                        e >= i ? (e = i - 1,
                        t = this.doc.getLine(i - 1).length) : t = Math.min(this.doc.getLine(e).length, t)
                    }
                    return {
                        row: e,
                        column: t
                    }
                }
                ,
                this.$clipRangeToDocument = function(e) {
                    e.start.row < 0 ? (e.start.row = 0,
                    e.start.column = 0) : e.start.column = this.$clipColumnToRow(e.start.row, e.start.column);
                    var t = this.doc.getLength() - 1;
                    return e.end.row > t ? (e.end.row = t,
                    e.end.column = this.doc.getLine(t).length) : e.end.column = this.$clipColumnToRow(e.end.row, e.end.column),
                    e
                }
                ,
                this.$wrapLimit = 80,
                this.$useWrapMode = !1,
                this.$wrapLimitRange = {
                    min: null,
                    max: null
                },
                this.setUseWrapMode = function(e) {
                    var t, i;
                    if (e != this.$useWrapMode) {
                        if (this.$useWrapMode = e,
                        this.$modified = !0,
                        this.$resetRowCache(0),
                        e) {
                            for (t = this.getLength(),
                            this.$wrapData = [],
                            i = 0; i < t; i++)
                                this.$wrapData.push([]);
                            this.$updateWrapData(0, t - 1)
                        }
                        this._emit("changeWrapMode")
                    }
                }
                ,
                this.getUseWrapMode = function() {
                    return this.$useWrapMode
                }
                ,
                this.setWrapLimitRange = function(e, t) {
                    this.$wrapLimitRange.min === e && this.$wrapLimitRange.max === t || (this.$wrapLimitRange = {
                        min: e,
                        max: t
                    },
                    this.$modified = !0,
                    this._emit("changeWrapMode"))
                }
                ,
                this.adjustWrapLimit = function(e, t) {
                    var i, n = this.$wrapLimitRange;
                    return n.max < 0 && (n = {
                        min: t,
                        max: t
                    }),
                    (i = this.$constrainWrapLimit(e, n.min, n.max)) != this.$wrapLimit && i > 1 && (this.$wrapLimit = i,
                    this.$modified = !0,
                    this.$useWrapMode && (this.$updateWrapData(0, this.getLength() - 1),
                    this.$resetRowCache(0),
                    this._emit("changeWrapLimit")),
                    !0)
                }
                ,
                this.$constrainWrapLimit = function(e, t, i) {
                    return t && (e = Math.max(t, e)),
                    i && (e = Math.min(i, e)),
                    e
                }
                ,
                this.getWrapLimit = function() {
                    return this.$wrapLimit
                }
                ,
                this.setWrapLimit = function(e) {
                    this.setWrapLimitRange(e, e)
                }
                ,
                this.getWrapLimitRange = function() {
                    return {
                        min: this.$wrapLimitRange.min,
                        max: this.$wrapLimitRange.max
                    }
                }
                ,
                this.$updateInternalDataOnChange = function(e) {
                    var t, i, n, o, s, r, a, l, c = this.$useWrapMode, d = e.data.action, h = e.data.range.start.row, u = e.data.range.end.row, p = e.data.range.start, f = e.data.range.end, g = null;
                    if (-1 != d.indexOf("Lines") ? (u = "insertLines" == d ? h + e.data.lines.length : h,
                    t = e.data.lines ? e.data.lines.length : u - h) : t = u - h,
                    this.$updating = !0,
                    0 != t)
                        if (-1 != d.indexOf("remove")) {
                            for (this[c ? "$wrapData" : "$rowLengthCache"].splice(h, t),
                            i = this.$foldData,
                            g = this.getFoldsInRange(e.data.range),
                            this.removeFolds(g),
                            n = this.getFoldLine(f.row),
                            o = 0,
                            n && (n.addRemoveChars(f.row, f.column, p.column - f.column),
                            n.shiftRow(-t),
                            s = this.getFoldLine(h),
                            s && s !== n && (s.merge(n),
                            n = s),
                            o = i.indexOf(n) + 1),
                            o; o < i.length; o++)
                                n = i[o],
                                n.start.row >= f.row && n.shiftRow(-t);
                            u = h
                        } else {
                            if (c) {
                                for (r = [h, 0],
                                a = 0; a < t; a++)
                                    r.push([]);
                                this.$wrapData.splice.apply(this.$wrapData, r)
                            } else
                                r = Array(t),
                                r.unshift(h, 0),
                                this.$rowLengthCache.splice.apply(this.$rowLengthCache, r);
                            for (i = this.$foldData,
                            n = this.getFoldLine(h),
                            o = 0,
                            n && (l = n.range.compareInside(p.row, p.column),
                            0 == l ? (n = n.split(p.row, p.column),
                            n.shiftRow(t),
                            n.addRemoveChars(u, 0, f.column - p.column)) : -1 == l && (n.addRemoveChars(h, 0, f.column - p.column),
                            n.shiftRow(t)),
                            o = i.indexOf(n) + 1),
                            o; o < i.length; o++)
                                n = i[o],
                                n.start.row >= h && n.shiftRow(t)
                        }
                    else
                        t = Math.abs(e.data.range.start.column - e.data.range.end.column),
                        -1 != d.indexOf("remove") && (g = this.getFoldsInRange(e.data.range),
                        this.removeFolds(g),
                        t = -t),
                        (n = this.getFoldLine(h)) && n.addRemoveChars(h, p.column, t);
                    return c && this.$wrapData.length != this.doc.getLength() && console.error("doc.getLength() and $wrapData.length have to be the same!"),
                    this.$updating = !1,
                    c ? this.$updateWrapData(h, u) : this.$updateRowLengthCache(h, u),
                    g
                }
                ,
                this.$updateRowLengthCache = function(e, t, i) {
                    this.$rowLengthCache[e] = null,
                    this.$rowLengthCache[t] = null
                }
                ,
                this.$updateWrapData = function(e, t) {
                    var i, n, o = this.doc.getAllLines(), s = this.getTabSize(), r = this.$wrapData, l = this.$wrapLimit, c = e;
                    for (t = Math.min(t, o.length - 1); c <= t; )
                        n = this.getFoldLine(c, n),
                        n ? (i = [],
                        n.walk(function(e, t, n, s) {
                            var r, l;
                            if (null != e)
                                for (r = this.$getDisplayTokens(e, i.length),
                                r[0] = a,
                                l = 1; l < r.length; l++)
                                    r[l] = d;
                            else
                                r = this.$getDisplayTokens(o[t].substring(s, n), i.length);
                            i = i.concat(r)
                        }
                        .bind(this), n.end.row, o[n.end.row].length + 1),
                        r[n.start.row] = this.$computeWrapSplits(i, l, s),
                        c = n.end.row + 1) : (i = this.$getDisplayTokens(o[c]),
                        r[c] = this.$computeWrapSplits(i, l, s),
                        c++)
                }
                ;
                var i = 1
                  , a = 3
                  , d = 4
                  , p = 9
                  , f = 10
                  , g = 11;
                this.$computeWrapSplits = function(e, t) {
                    function i(t) {
                        var i = e.slice(s, t)
                          , o = i.length;
                        i.join("").replace(/12/g, function() {
                            o -= 1
                        }).replace(/2/g, function() {
                            o -= 1
                        }),
                        r += o,
                        n.push(r),
                        s = t
                    }
                    var n, o, s, r, l, c, h;
                    if (0 == e.length)
                        return [];
                    for (n = [],
                    o = e.length,
                    s = 0,
                    r = 0,
                    l = this.$wrapAsCode; o - s > t; )
                        if (c = s + t,
                        e[c - 1] >= f && e[c] >= f)
                            i(c);
                        else if (e[c] != a && e[c] != d) {
                            for (h = Math.max(c - (l ? 10 : t - (t >> 2)), s - 1); c > h && e[c] < a; )
                                c--;
                            if (l) {
                                for (; c > h && e[c] < a; )
                                    c--;
                                for (; c > h && e[c] == p; )
                                    c--
                            } else
                                for (; c > h && e[c] < f; )
                                    c--;
                            c > h ? i(++c) : (c = s + t,
                            i(c))
                        } else {
                            for (c; c != s - 1 && e[c] != a; c--)
                                ;
                            if (c > s) {
                                i(c);
                                continue
                            }
                            for (c = s + t; c < e.length && e[c] == d; c++)
                                ;
                            if (c == e.length)
                                break;
                            i(c)
                        }
                    return n
                }
                ,
                this.$getDisplayTokens = function(e, n) {
                    var o, s, r, a, l = [];
                    for (n = n || 0,
                    s = 0; s < e.length; s++)
                        if (9 == (r = e.charCodeAt(s)))
                            for (o = this.getScreenTabSize(l.length + n),
                            l.push(g),
                            a = 1; a < o; a++)
                                l.push(12);
                        else
                            32 == r ? l.push(f) : r > 39 && r < 48 || r > 57 && r < 64 ? l.push(p) : r >= 4352 && t(r) ? l.push(i, 2) : l.push(i);
                    return l
                }
                ,
                this.$getStringScreenWidth = function(e, i, n) {
                    if (0 == i)
                        return [0, 0];
                    null == i && (i = 1 / 0),
                    n = n || 0;
                    var o, s;
                    for (s = 0; s < e.length && (o = e.charCodeAt(s),
                    9 == o ? n += this.getScreenTabSize(n) : o >= 4352 && t(o) ? n += 2 : n += 1,
                    !(n > i)); s++)
                        ;
                    return [n, s]
                }
                ,
                this.getRowLength = function(e) {
                    return this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 : 1
                }
                ,
                this.getScreenLastRowColumn = function(e) {
                    var t = this.screenToDocumentPosition(e, Number.MAX_VALUE);
                    return this.documentToScreenColumn(t.row, t.column)
                }
                ,
                this.getDocumentLastRowColumn = function(e, t) {
                    var i = this.documentToScreenRow(e, t);
                    return this.getScreenLastRowColumn(i)
                }
                ,
                this.getDocumentLastRowColumnPosition = function(e, t) {
                    var i = this.documentToScreenRow(e, t);
                    return this.screenToDocumentPosition(i, Number.MAX_VALUE / 10)
                }
                ,
                this.getRowSplitData = function(e) {
                    return this.$useWrapMode ? this.$wrapData[e] : void 0
                }
                ,
                this.getScreenTabSize = function(e) {
                    return this.$tabSize - e % this.$tabSize
                }
                ,
                this.screenToDocumentRow = function(e, t) {
                    return this.screenToDocumentPosition(e, t).row
                }
                ,
                this.screenToDocumentColumn = function(e, t) {
                    return this.screenToDocumentPosition(e, t).column
                }
                ,
                this.screenToDocumentPosition = function(e, t) {
                    var i, n, o, s, r, a, l, c, d, h, u, p, f, g;
                    if (e < 0)
                        return {
                            row: 0,
                            column: 0
                        };
                    for (n = 0,
                    o = 0,
                    r = 0,
                    a = 0,
                    l = this.$screenRowCache,
                    c = this.$getRowCacheIndex(l, e),
                    d = l.length,
                    d && c >= 0 ? (r = l[c],
                    n = this.$docRowCache[c],
                    h = e > l[d - 1]) : h = !d,
                    u = this.getLength() - 1,
                    p = this.getNextFoldLine(n),
                    f = p ? p.start.row : 1 / 0; r <= e && (a = this.getRowLength(n),
                    !(r + a - 1 >= e || n >= u)); )
                        r += a,
                        ++n > f && (n = p.end.row + 1,
                        p = this.getNextFoldLine(n, p),
                        f = p ? p.start.row : 1 / 0),
                        h && (this.$docRowCache.push(n),
                        this.$screenRowCache.push(r));
                    if (p && p.start.row <= n)
                        i = this.getFoldDisplayLine(p),
                        n = p.start.row;
                    else {
                        if (r + a <= e || n > u)
                            return {
                                row: u,
                                column: this.getLine(u).length
                            };
                        i = this.getLine(n),
                        p = null
                    }
                    return this.$useWrapMode && (g = this.$wrapData[n]) && (s = g[e - r],
                    e > r && g.length && (o = g[e - r - 1] || g[g.length - 1],
                    i = i.substring(o))),
                    o += this.$getStringScreenWidth(i, t)[1],
                    this.$useWrapMode && o >= s && (o = s - 1),
                    p ? p.idxToPosition(o) : {
                        row: n,
                        column: o
                    }
                }
                ,
                this.documentToScreenPosition = function(e, t) {
                    var i, n, o, s, r, a, l, c, d, h, u, p, f, g, m;
                    for (i = void 0 === t ? this.$clipPositionToDocument(e.row, e.column) : this.$clipPositionToDocument(e, t),
                    e = i.row,
                    t = i.column,
                    n = 0,
                    o = null,
                    s = null,
                    s = this.getFoldAt(e, t, 1),
                    s && (e = s.start.row,
                    t = s.start.column),
                    a = 0,
                    l = this.$docRowCache,
                    c = this.$getRowCacheIndex(l, e),
                    d = l.length,
                    d && c >= 0 ? (a = l[c],
                    n = this.$screenRowCache[c],
                    h = e > l[d - 1]) : h = !d,
                    u = this.getNextFoldLine(a),
                    p = u ? u.start.row : 1 / 0; a < e; ) {
                        if (a >= p) {
                            if ((r = u.end.row + 1) > e)
                                break;
                            u = this.getNextFoldLine(r, u),
                            p = u ? u.start.row : 1 / 0
                        } else
                            r = a + 1;
                        n += this.getRowLength(a),
                        a = r,
                        h && (this.$docRowCache.push(a),
                        this.$screenRowCache.push(n))
                    }
                    if (f = "",
                    u && a >= p ? (f = this.getFoldDisplayLine(u, e, t),
                    o = u.start.row) : (f = this.getLine(e).substring(0, t),
                    o = e),
                    this.$useWrapMode) {
                        for (g = this.$wrapData[o],
                        m = 0; f.length >= g[m]; )
                            n++,
                            m++;
                        f = f.substring(g[m - 1] || 0, f.length)
                    }
                    return {
                        row: n,
                        column: this.$getStringScreenWidth(f)[0]
                    }
                }
                ,
                this.documentToScreenColumn = function(e, t) {
                    return this.documentToScreenPosition(e, t).column
                }
                ,
                this.documentToScreenRow = function(e, t) {
                    return this.documentToScreenPosition(e, t).row
                }
                ,
                this.getScreenLength = function() {
                    var e, t, i, n, o, s = 0, r = null;
                    if (this.$useWrapMode)
                        for (i = this.$wrapData.length,
                        n = 0,
                        t = 0,
                        r = this.$foldData[t++],
                        o = r ? r.start.row : 1 / 0; n < i; )
                            s += this.$wrapData[n].length + 1,
                            ++n > o && (n = r.end.row + 1,
                            r = this.$foldData[t++],
                            o = r ? r.start.row : 1 / 0);
                    else
                        for (s = this.getLength(),
                        e = this.$foldData,
                        t = 0; t < e.length; t++)
                            r = e[t],
                            s -= r.end.row - r.start.row;
                    return s
                }
            }
            ).call(p.prototype),
            e("./edit_session/folding").Folding.call(p.prototype),
            e("./edit_session/bracket_match").BracketMatch.call(p.prototype),
            s.defineOptions(p.prototype, "session", {
                wrap: {
                    set: function(e) {
                        if (e && "off" != e ? "free" == e ? e = !0 : "printMargin" == e ? e = -1 : "string" == typeof e && (e = parseInt(e, 10) || !1) : e = !1,
                        this.$wrap != e) {
                            if (e) {
                                var t = "number" == typeof e ? e : null;
                                this.setWrapLimitRange(t, t),
                                this.setUseWrapMode(!0)
                            } else
                                this.setUseWrapMode(!1);
                            this.$wrap = e
                        }
                    },
                    get: function() {
                        return this.getUseWrapMode() ? this.getWrapLimitRange().min || "free" : "off"
                    },
                    handlesSet: !0
                },
                wrapMethod: {
                    set: function(e) {
                        this.$wrapAsCode = "auto" == e ? "text" != this.$mode.type : "text" != e
                    },
                    initialValue: "auto"
                },
                firstLineNumber: {
                    set: function() {
                        this._emit("changeBreakpoint")
                    },
                    initialValue: 1
                },
                useWorker: {
                    set: function(e) {
                        this.$useWorker = e,
                        this.$stopWorker(),
                        e && this.$startWorker()
                    },
                    initialValue: !0
                },
                useSoftTabs: {
                    initialValue: !0
                },
                tabSize: {
                    set: function(e) {
                        isNaN(e) || this.$tabSize === e || (this.$modified = !0,
                        this.$rowLengthCache = [],
                        this.$tabSize = e,
                        this._emit("changeTabSize"))
                    },
                    initialValue: 4,
                    handlesSet: !0
                },
                overwrite: {
                    set: function(e) {
                        this._emit("changeOverwrite")
                    },
                    initialValue: !1
                },
                newLineMode: {
                    set: function(e) {
                        this.doc.setNewLineMode(e)
                    },
                    get: function() {
                        return this.doc.getNewLineMode()
                    },
                    handlesSet: !0
                }
            }),
            t.EditSession = p
        }),
        define("ace/selection", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/range"], function(e, t, i) {
            var n = e("./lib/oop")
              , o = e("./lib/lang")
              , s = e("./lib/event_emitter").EventEmitter
              , r = e("./range").Range
              , a = function(e) {
                this.session = e,
                this.doc = e.getDocument(),
                this.clearSelection(),
                this.lead = this.selectionLead = this.doc.createAnchor(0, 0),
                this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);
                var t = this;
                this.lead.on("change", function(e) {
                    t._emit("changeCursor"),
                    t.$isEmpty || t._emit("changeSelection"),
                    t.$keepDesiredColumnOnChange || e.old.column == e.value.column || (t.$desiredColumn = null)
                }),
                this.selectionAnchor.on("change", function() {
                    t.$isEmpty || t._emit("changeSelection")
                })
            };
            (function() {
                n.implement(this, s),
                this.isEmpty = function() {
                    return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column
                }
                ,
                this.isMultiLine = function() {
                    return !this.isEmpty() && this.getRange().isMultiLine()
                }
                ,
                this.getCursor = function() {
                    return this.lead.getPosition()
                }
                ,
                this.setSelectionAnchor = function(e, t) {
                    this.anchor.setPosition(e, t),
                    this.$isEmpty && (this.$isEmpty = !1,
                    this._emit("changeSelection"))
                }
                ,
                this.getSelectionAnchor = function() {
                    return this.$isEmpty ? this.getSelectionLead() : this.anchor.getPosition()
                }
                ,
                this.getSelectionLead = function() {
                    return this.lead.getPosition()
                }
                ,
                this.shiftSelection = function(e) {
                    var t, i, n;
                    if (this.$isEmpty)
                        return void this.moveCursorTo(this.lead.row, this.lead.column + e);
                    t = this.getSelectionAnchor(),
                    i = this.getSelectionLead(),
                    n = this.isBackwards(),
                    n && 0 === t.column || this.setSelectionAnchor(t.row, t.column + e),
                    (n || 0 !== i.column) && this.$moveSelection(function() {
                        this.moveCursorTo(i.row, i.column + e)
                    })
                }
                ,
                this.isBackwards = function() {
                    var e = this.anchor
                      , t = this.lead;
                    return e.row > t.row || e.row == t.row && e.column > t.column
                }
                ,
                this.getRange = function() {
                    var e = this.anchor
                      , t = this.lead;
                    return this.isEmpty() ? r.fromPoints(t, t) : this.isBackwards() ? r.fromPoints(t, e) : r.fromPoints(e, t)
                }
                ,
                this.clearSelection = function() {
                    this.$isEmpty || (this.$isEmpty = !0,
                    this._emit("changeSelection"))
                }
                ,
                this.selectAll = function() {
                    var e = this.doc.getLength() - 1;
                    this.setSelectionAnchor(0, 0),
                    this.moveCursorTo(e, this.doc.getLine(e).length)
                }
                ,
                this.setRange = this.setSelectionRange = function(e, t) {
                    t ? (this.setSelectionAnchor(e.end.row, e.end.column),
                    this.selectTo(e.start.row, e.start.column)) : (this.setSelectionAnchor(e.start.row, e.start.column),
                    this.selectTo(e.end.row, e.end.column)),
                    this.getRange().isEmpty() && (this.$isEmpty = !0),
                    this.$desiredColumn = null
                }
                ,
                this.$moveSelection = function(e) {
                    var t = this.lead;
                    this.$isEmpty && this.setSelectionAnchor(t.row, t.column),
                    e.call(this)
                }
                ,
                this.selectTo = function(e, t) {
                    this.$moveSelection(function() {
                        this.moveCursorTo(e, t)
                    })
                }
                ,
                this.selectToPosition = function(e) {
                    this.$moveSelection(function() {
                        this.moveCursorToPosition(e)
                    })
                }
                ,
                this.selectUp = function() {
                    this.$moveSelection(this.moveCursorUp)
                }
                ,
                this.selectDown = function() {
                    this.$moveSelection(this.moveCursorDown)
                }
                ,
                this.selectRight = function() {
                    this.$moveSelection(this.moveCursorRight)
                }
                ,
                this.selectLeft = function() {
                    this.$moveSelection(this.moveCursorLeft)
                }
                ,
                this.selectLineStart = function() {
                    this.$moveSelection(this.moveCursorLineStart)
                }
                ,
                this.selectLineEnd = function() {
                    this.$moveSelection(this.moveCursorLineEnd)
                }
                ,
                this.selectFileEnd = function() {
                    this.$moveSelection(this.moveCursorFileEnd)
                }
                ,
                this.selectFileStart = function() {
                    this.$moveSelection(this.moveCursorFileStart)
                }
                ,
                this.selectWordRight = function() {
                    this.$moveSelection(this.moveCursorWordRight)
                }
                ,
                this.selectWordLeft = function() {
                    this.$moveSelection(this.moveCursorWordLeft)
                }
                ,
                this.getWordRange = function(e, t) {
                    if (void 0 === t) {
                        var i = e || this.lead;
                        e = i.row,
                        t = i.column
                    }
                    return this.session.getWordRange(e, t)
                }
                ,
                this.selectWord = function() {
                    this.setSelectionRange(this.getWordRange())
                }
                ,
                this.selectAWord = function() {
                    var e = this.getCursor()
                      , t = this.session.getAWordRange(e.row, e.column);
                    this.setSelectionRange(t)
                }
                ,
                this.getLineRange = function(e, t) {
                    var i, n = "number" == typeof e ? e : this.lead.row, o = this.session.getFoldLine(n);
                    return o ? (n = o.start.row,
                    i = o.end.row) : i = n,
                    !0 === t ? new r(n,0,i,this.session.getLine(i).length) : new r(n,0,i + 1,0)
                }
                ,
                this.selectLine = function() {
                    this.setSelectionRange(this.getLineRange())
                }
                ,
                this.moveCursorUp = function() {
                    this.moveCursorBy(-1, 0)
                }
                ,
                this.moveCursorDown = function() {
                    this.moveCursorBy(1, 0)
                }
                ,
                this.moveCursorLeft = function() {
                    var e, t, i = this.lead.getPosition();
                    (e = this.session.getFoldAt(i.row, i.column, -1)) ? this.moveCursorTo(e.start.row, e.start.column) : 0 == i.column ? i.row > 0 && this.moveCursorTo(i.row - 1, this.doc.getLine(i.row - 1).length) : (t = this.session.getTabSize(),
                    this.session.isTabStop(i) && this.doc.getLine(i.row).slice(i.column - t, i.column).split(" ").length - 1 == t ? this.moveCursorBy(0, -t) : this.moveCursorBy(0, -1))
                }
                ,
                this.moveCursorRight = function() {
                    var e, t, i = this.lead.getPosition();
                    (e = this.session.getFoldAt(i.row, i.column, 1)) ? this.moveCursorTo(e.end.row, e.end.column) : this.lead.column == this.doc.getLine(this.lead.row).length ? this.lead.row < this.doc.getLength() - 1 && this.moveCursorTo(this.lead.row + 1, 0) : (t = this.session.getTabSize(),
                    i = this.lead,
                    this.session.isTabStop(i) && this.doc.getLine(i.row).slice(i.column, i.column + t).split(" ").length - 1 == t ? this.moveCursorBy(0, t) : this.moveCursorBy(0, 1))
                }
                ,
                this.moveCursorLineStart = function() {
                    var e = this.lead.row
                      , t = this.lead.column
                      , i = this.session.documentToScreenRow(e, t)
                      , n = this.session.screenToDocumentPosition(i, 0)
                      , o = this.session.getDisplayLine(e, null, n.row, n.column)
                      , s = o.match(/^\s*/);
                    s[0].length == t || this.session.$useEmacsStyleLineStart || (n.column += s[0].length),
                    this.moveCursorToPosition(n)
                }
                ,
                this.moveCursorLineEnd = function() {
                    var e, t, i = this.lead, n = this.session.getDocumentLastRowColumnPosition(i.row, i.column);
                    this.lead.column == n.column && (e = this.session.getLine(n.row),
                    n.column == e.length && (t = e.search(/\s+$/)) > 0 && (n.column = t)),
                    this.moveCursorTo(n.row, n.column)
                }
                ,
                this.moveCursorFileEnd = function() {
                    var e = this.doc.getLength() - 1
                      , t = this.doc.getLine(e).length;
                    this.moveCursorTo(e, t)
                }
                ,
                this.moveCursorFileStart = function() {
                    this.moveCursorTo(0, 0)
                }
                ,
                this.moveCursorLongWordRight = function() {
                    var e, t = this.lead.row, i = this.lead.column, n = this.doc.getLine(t), o = n.substring(i);
                    return this.session.nonTokenRe.lastIndex = 0,
                    this.session.tokenRe.lastIndex = 0,
                    (e = this.session.getFoldAt(t, i, 1)) ? void this.moveCursorTo(e.end.row, e.end.column) : (this.session.nonTokenRe.exec(o) && (i += this.session.nonTokenRe.lastIndex,
                    this.session.nonTokenRe.lastIndex = 0,
                    o = n.substring(i)),
                    i >= n.length ? (this.moveCursorTo(t, n.length),
                    this.moveCursorRight(),
                    void (t < this.doc.getLength() - 1 && this.moveCursorWordRight())) : (this.session.tokenRe.exec(o) && (i += this.session.tokenRe.lastIndex,
                    this.session.tokenRe.lastIndex = 0),
                    void this.moveCursorTo(t, i)))
                }
                ,
                this.moveCursorLongWordLeft = function() {
                    var e, t, i, n = this.lead.row, s = this.lead.column;
                    return (e = this.session.getFoldAt(n, s, -1)) ? void this.moveCursorTo(e.start.row, e.start.column) : (t = this.session.getFoldStringAt(n, s, -1),
                    null == t && (t = this.doc.getLine(n).substring(0, s)),
                    i = o.stringReverse(t),
                    this.session.nonTokenRe.lastIndex = 0,
                    this.session.tokenRe.lastIndex = 0,
                    this.session.nonTokenRe.exec(i) && (s -= this.session.nonTokenRe.lastIndex,
                    i = i.slice(this.session.nonTokenRe.lastIndex),
                    this.session.nonTokenRe.lastIndex = 0),
                    s <= 0 ? (this.moveCursorTo(n, 0),
                    this.moveCursorLeft(),
                    void (n > 0 && this.moveCursorWordLeft())) : (this.session.tokenRe.exec(i) && (s -= this.session.tokenRe.lastIndex,
                    this.session.tokenRe.lastIndex = 0),
                    void this.moveCursorTo(n, s)))
                }
                ,
                this.$shortWordEndIndex = function(e) {
                    var t, i = 0, n = /\s/, o = this.session.tokenRe;
                    if (o.lastIndex = 0,
                    this.session.tokenRe.exec(e))
                        i = this.session.tokenRe.lastIndex;
                    else {
                        for (; (t = e[i]) && n.test(t); )
                            i++;
                        if (i < 1)
                            for (o.lastIndex = 0; (t = e[i]) && !o.test(t); )
                                if (o.lastIndex = 0,
                                i++,
                                n.test(t)) {
                                    if (i > 2) {
                                        i--;
                                        break
                                    }
                                    for (; (t = e[i]) && n.test(t); )
                                        i++;
                                    if (i > 2)
                                        break
                                }
                    }
                    return o.lastIndex = 0,
                    i
                }
                ,
                this.moveCursorShortWordRight = function() {
                    var e, t, i = this.lead.row, n = this.lead.column, o = this.doc.getLine(i), s = o.substring(n), r = this.session.getFoldAt(i, n, 1);
                    if (r)
                        return this.moveCursorTo(r.end.row, r.end.column);
                    if (n == o.length) {
                        e = this.doc.getLength();
                        do {
                            i++,
                            s = this.doc.getLine(i)
                        } while (i < e && /^\s*$/.test(s));/^\s+/.test(s) || (s = ""),
                        n = 0
                    }
                    t = this.$shortWordEndIndex(s),
                    this.moveCursorTo(i, n + t)
                }
                ,
                this.moveCursorShortWordLeft = function() {
                    var e, t, i, n, s = this.lead.row, r = this.lead.column;
                    if (e = this.session.getFoldAt(s, r, -1))
                        return this.moveCursorTo(e.start.row, e.start.column);
                    if (t = this.session.getLine(s).substring(0, r),
                    0 == r) {
                        do {
                            s--,
                            t = this.doc.getLine(s)
                        } while (s > 0 && /^\s*$/.test(t));r = t.length,
                        /\s+$/.test(t) || (t = "")
                    }
                    return i = o.stringReverse(t),
                    n = this.$shortWordEndIndex(i),
                    this.moveCursorTo(s, r - n)
                }
                ,
                this.moveCursorWordRight = function() {
                    this.session.$selectLongWords ? this.moveCursorLongWordRight() : this.moveCursorShortWordRight()
                }
                ,
                this.moveCursorWordLeft = function() {
                    this.session.$selectLongWords ? this.moveCursorLongWordLeft() : this.moveCursorShortWordLeft()
                }
                ,
                this.moveCursorBy = function(e, t) {
                    var i, n = this.session.documentToScreenPosition(this.lead.row, this.lead.column);
                    0 === t && (this.$desiredColumn ? n.column = this.$desiredColumn : this.$desiredColumn = n.column),
                    i = this.session.screenToDocumentPosition(n.row + e, n.column),
                    this.moveCursorTo(i.row, i.column + t, 0 === t)
                }
                ,
                this.moveCursorToPosition = function(e) {
                    this.moveCursorTo(e.row, e.column)
                }
                ,
                this.moveCursorTo = function(e, t, i) {
                    var n = this.session.getFoldAt(e, t, 1);
                    n && (e = n.start.row,
                    t = n.start.column),
                    this.$keepDesiredColumnOnChange = !0,
                    this.lead.setPosition(e, t),
                    this.$keepDesiredColumnOnChange = !1,
                    i || (this.$desiredColumn = null)
                }
                ,
                this.moveCursorToScreen = function(e, t, i) {
                    var n = this.session.screenToDocumentPosition(e, t);
                    this.moveCursorTo(n.row, n.column, i)
                }
                ,
                this.detach = function() {
                    this.lead.detach(),
                    this.anchor.detach(),
                    this.session = this.doc = null
                }
                ,
                this.fromOrientedRange = function(e) {
                    this.setSelectionRange(e, e.cursor == e.start),
                    this.$desiredColumn = e.desiredColumn || this.$desiredColumn
                }
                ,
                this.toOrientedRange = function(e) {
                    var t = this.getRange();
                    return e ? (e.start.column = t.start.column,
                    e.start.row = t.start.row,
                    e.end.column = t.end.column,
                    e.end.row = t.end.row) : e = t,
                    e.cursor = this.isBackwards() ? e.start : e.end,
                    e.desiredColumn = this.$desiredColumn,
                    e
                }
                ,
                this.toJSON = function() {
                    var e;
                    return this.rangeCount ? e = this.ranges.map(function(e) {
                        var t = e.clone();
                        return t.isBackwards = e.cursor == e.start,
                        t
                    }) : (e = this.getRange(),
                    e.isBackwards = this.isBackwards()),
                    e
                }
                ,
                this.fromJSON = function(e) {
                    var t, i;
                    if (void 0 == e.start) {
                        if (this.rangeList) {
                            for (this.toSingleRange(e[0]),
                            t = e.length; t--; )
                                i = r.fromPoints(e[t].start, e[t].end),
                                e.isBackwards && (i.cursor = i.start),
                                this.addRange(i, !0);
                            return
                        }
                        e = e[0]
                    }
                    this.rangeList && this.toSingleRange(e),
                    this.setSelectionRange(e, e.isBackwards)
                }
                ,
                this.isEqual = function(e) {
                    if ((e.length || this.rangeCount) && e.length != this.rangeCount)
                        return !1;
                    if (!e.length || !this.ranges)
                        return this.getRange().isEqual(e);
                    for (var t = this.ranges.length; t--; )
                        if (!this.ranges[t].isEqual(e[t]))
                            return !1;
                    return !0
                }
            }
            ).call(a.prototype),
            t.Selection = a
        }),
        define("ace/range", ["require", "exports", "module"], function(e, t, i) {
            var n = function(e, t) {
                return e.row - t.row || e.column - t.column
            }
              , o = function(e, t, i, n) {
                this.start = {
                    row: e,
                    column: t
                },
                this.end = {
                    row: i,
                    column: n
                }
            };
            (function() {
                this.isEqual = function(e) {
                    return this.start.row === e.start.row && this.end.row === e.end.row && this.start.column === e.start.column && this.end.column === e.end.column
                }
                ,
                this.toString = function() {
                    return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]"
                }
                ,
                this.contains = function(e, t) {
                    return 0 == this.compare(e, t)
                }
                ,
                this.compareRange = function(e) {
                    var t, i = e.end, n = e.start;
                    return t = this.compare(i.row, i.column),
                    1 == t ? (t = this.compare(n.row, n.column),
                    1 == t ? 2 : 0 == t ? 1 : 0) : -1 == t ? -2 : (t = this.compare(n.row, n.column),
                    -1 == t ? -1 : 1 == t ? 42 : 0)
                }
                ,
                this.comparePoint = function(e) {
                    return this.compare(e.row, e.column)
                }
                ,
                this.containsRange = function(e) {
                    return 0 == this.comparePoint(e.start) && 0 == this.comparePoint(e.end)
                }
                ,
                this.intersects = function(e) {
                    var t = this.compareRange(e);
                    return -1 == t || 0 == t || 1 == t
                }
                ,
                this.isEnd = function(e, t) {
                    return this.end.row == e && this.end.column == t
                }
                ,
                this.isStart = function(e, t) {
                    return this.start.row == e && this.start.column == t
                }
                ,
                this.setStart = function(e, t) {
                    "object" == typeof e ? (this.start.column = e.column,
                    this.start.row = e.row) : (this.start.row = e,
                    this.start.column = t)
                }
                ,
                this.setEnd = function(e, t) {
                    "object" == typeof e ? (this.end.column = e.column,
                    this.end.row = e.row) : (this.end.row = e,
                    this.end.column = t)
                }
                ,
                this.inside = function(e, t) {
                    return 0 == this.compare(e, t) && (!this.isEnd(e, t) && !this.isStart(e, t))
                }
                ,
                this.insideStart = function(e, t) {
                    return 0 == this.compare(e, t) && !this.isEnd(e, t)
                }
                ,
                this.insideEnd = function(e, t) {
                    return 0 == this.compare(e, t) && !this.isStart(e, t)
                }
                ,
                this.compare = function(e, t) {
                    return this.isMultiLine() || e !== this.start.row ? e < this.start.row ? -1 : e > this.end.row ? 1 : this.start.row === e ? t >= this.start.column ? 0 : -1 : this.end.row === e ? t <= this.end.column ? 0 : 1 : 0 : t < this.start.column ? -1 : t > this.end.column ? 1 : 0
                }
                ,
                this.compareStart = function(e, t) {
                    return this.start.row == e && this.start.column == t ? -1 : this.compare(e, t)
                }
                ,
                this.compareEnd = function(e, t) {
                    return this.end.row == e && this.end.column == t ? 1 : this.compare(e, t)
                }
                ,
                this.compareInside = function(e, t) {
                    return this.end.row == e && this.end.column == t ? 1 : this.start.row == e && this.start.column == t ? -1 : this.compare(e, t)
                }
                ,
                this.clipRows = function(e, t) {
                    var i, n;
                    return this.end.row > t ? i = {
                        row: t + 1,
                        column: 0
                    } : this.end.row < e && (i = {
                        row: e,
                        column: 0
                    }),
                    this.start.row > t ? n = {
                        row: t + 1,
                        column: 0
                    } : this.start.row < e && (n = {
                        row: e,
                        column: 0
                    }),
                    o.fromPoints(n || this.start, i || this.end)
                }
                ,
                this.extend = function(e, t) {
                    var i, n, s = this.compare(e, t);
                    return 0 == s ? this : (-1 == s ? i = {
                        row: e,
                        column: t
                    } : n = {
                        row: e,
                        column: t
                    },
                    o.fromPoints(i || this.start, n || this.end))
                }
                ,
                this.isEmpty = function() {
                    return this.start.row === this.end.row && this.start.column === this.end.column
                }
                ,
                this.isMultiLine = function() {
                    return this.start.row !== this.end.row
                }
                ,
                this.clone = function() {
                    return o.fromPoints(this.start, this.end)
                }
                ,
                this.collapseRows = function() {
                    return 0 == this.end.column ? new o(this.start.row,0,Math.max(this.start.row, this.end.row - 1),0) : new o(this.start.row,0,this.end.row,0)
                }
                ,
                this.toScreenRange = function(e) {
                    var t = e.documentToScreenPosition(this.start)
                      , i = e.documentToScreenPosition(this.end);
                    return new o(t.row,t.column,i.row,i.column)
                }
                ,
                this.moveBy = function(e, t) {
                    this.start.row += e,
                    this.start.column += t,
                    this.end.row += e,
                    this.end.column += t
                }
            }
            ).call(o.prototype),
            o.fromPoints = function(e, t) {
                return new o(e.row,e.column,t.row,t.column)
            }
            ,
            o.comparePoints = n,
            o.comparePoints = function(e, t) {
                return e.row - t.row || e.column - t.column
            }
            ,
            t.Range = o
        }),
        define("ace/mode/text", ["require", "exports", "module", "ace/tokenizer", "ace/mode/text_highlight_rules", "ace/mode/behaviour", "ace/unicode", "ace/lib/lang", "ace/token_iterator", "ace/range"], function(e, t, i) {
            var n = e("../tokenizer").Tokenizer
              , o = e("./text_highlight_rules").TextHighlightRules
              , s = e("./behaviour").Behaviour
              , r = e("../unicode")
              , a = e("../lib/lang")
              , l = e("../token_iterator").TokenIterator
              , c = e("../range").Range
              , d = function() {
                this.HighlightRules = o,
                this.$behaviour = new s
            };
            (function() {
                this.tokenRe = RegExp("^[" + r.packages.L + r.packages.Mn + r.packages.Mc + r.packages.Nd + r.packages.Pc + "\\$_]+", "g"),
                this.nonTokenRe = RegExp("^(?:[^" + r.packages.L + r.packages.Mn + r.packages.Mc + r.packages.Nd + r.packages.Pc + "\\$_]|s])+", "g"),
                this.getTokenizer = function() {
                    return this.$tokenizer || (this.$highlightRules = new this.HighlightRules,
                    this.$tokenizer = new n(this.$highlightRules.getRules())),
                    this.$tokenizer
                }
                ,
                this.lineCommentStart = "",
                this.blockComment = "",
                this.toggleCommentLines = function(e, t, i, n) {
                    function o(e) {
                        for (var t = i; t <= n; t++)
                            e(m.getLine(t), t)
                    }
                    var s, r, l, c, d, h, u, p, f, g, m = t.doc, _ = !0, v = !0, y = 1 / 0, b = t.getTabSize(), w = !1;
                    if (this.lineCommentStart)
                        Array.isArray(this.lineCommentStart) ? (l = this.lineCommentStart.map(a.escapeRegExp).join("|"),
                        s = this.lineCommentStart[0]) : (l = a.escapeRegExp(this.lineCommentStart),
                        s = this.lineCommentStart),
                        l = RegExp("^(\\s*)(?:" + l + ") ?"),
                        w = t.getUseSoftTabs(),
                        h = function(e, t) {
                            var i, n, o = e.match(l);
                            o && (i = o[1].length,
                            n = o[0].length,
                            f(e, i, n) || " " != o[0][n - 1] || n--,
                            m.removeInLine(t, i, n))
                        }
                        ,
                        p = s + " ",
                        d = function(e, t) {
                            _ && !/\S/.test(e) || (f(e, y, y) ? m.insertInLine({
                                row: t,
                                column: y
                            }, p) : m.insertInLine({
                                row: t,
                                column: y
                            }, s))
                        }
                        ,
                        u = function(e, t) {
                            return l.test(e)
                        }
                        ,
                        f = function(e, t, i) {
                            for (var n = 0; t-- && " " == e.charAt(t); )
                                n++;
                            if (n % b != 0)
                                return !1;
                            for (n = 0; " " == e.charAt(i++); )
                                n++;
                            return b > 2 ? n % b != b - 1 : n % b == 0
                        }
                        ;
                    else {
                        if (!this.blockComment)
                            return !1;
                        s = this.blockComment.start,
                        r = this.blockComment.end,
                        l = RegExp("^(\\s*)(?:" + a.escapeRegExp(s) + ")"),
                        c = RegExp("(?:" + a.escapeRegExp(r) + ")\\s*$"),
                        d = function(e, t) {
                            u(e, t) || _ && !/\S/.test(e) || (m.insertInLine({
                                row: t,
                                column: e.length
                            }, r),
                            m.insertInLine({
                                row: t,
                                column: y
                            }, s))
                        }
                        ,
                        h = function(e, t) {
                            var i;
                            (i = e.match(c)) && m.removeInLine(t, e.length - i[0].length, e.length),
                            (i = e.match(l)) && m.removeInLine(t, i[1].length, i[0].length)
                        }
                        ,
                        u = function(e, i) {
                            var n, o;
                            if (l.test(e))
                                return !0;
                            for (n = t.getTokens(i),
                            o = 0; o < n.length; o++)
                                if ("comment" === n[o].type)
                                    return !0
                        }
                    }
                    g = 1 / 0,
                    o(function(e, t) {
                        var i = e.search(/\S/);
                        -1 !== i ? (i < y && (y = i),
                        v && !u(e, t) && (v = !1)) : g > e.length && (g = e.length)
                    }),
                    y == 1 / 0 && (y = g,
                    _ = !1,
                    v = !1),
                    w && y % b != 0 && (y = Math.floor(y / b) * b),
                    o(v ? h : d)
                }
                ,
                this.toggleBlockComment = function(e, t, i, n) {
                    var o, s, r, a, d, h, u, p, f, g, m = this.blockComment;
                    if (m) {
                        if (!m.start && m[0] && (m = m[0]),
                        o = new l(t,n.row,n.column),
                        s = o.getCurrentToken(),
                        t.selection,
                        r = t.selection.toOrientedRange(),
                        s && /comment/.test(s.type)) {
                            for (; s && /comment/.test(s.type); ) {
                                if (-1 != (p = s.value.indexOf(m.start))) {
                                    f = o.getCurrentTokenRow(),
                                    g = o.getCurrentTokenColumn() + p,
                                    h = new c(f,g,f,g + m.start.length);
                                    break
                                }
                                s = o.stepBackward()
                            }
                            for (o = new l(t,n.row,n.column),
                            s = o.getCurrentToken(); s && /comment/.test(s.type); ) {
                                if (-1 != (p = s.value.indexOf(m.end))) {
                                    f = o.getCurrentTokenRow(),
                                    g = o.getCurrentTokenColumn() + p,
                                    u = new c(f,g,f,g + m.end.length);
                                    break
                                }
                                s = o.stepForward()
                            }
                            u && t.remove(u),
                            h && (t.remove(h),
                            a = h.start.row,
                            d = -m.start.length)
                        } else
                            d = m.start.length,
                            a = i.start.row,
                            t.insert(i.end, m.end),
                            t.insert(i.start, m.start);
                        r.start.row == a && (r.start.column += d),
                        r.end.row == a && (r.end.column += d),
                        t.selection.fromOrientedRange(r)
                    }
                }
                ,
                this.getNextLineIndent = function(e, t, i) {
                    return this.$getIndent(t)
                }
                ,
                this.checkOutdent = function(e, t, i) {
                    return !1
                }
                ,
                this.autoOutdent = function(e, t, i) {}
                ,
                this.$getIndent = function(e) {
                    return e.match(/^\s*/)[0]
                }
                ,
                this.createWorker = function(e) {
                    return null
                }
                ,
                this.createModeDelegates = function(e) {
                    var t, i;
                    this.$embeds = [],
                    this.$modes = {};
                    for (t in e)
                        e[t] && (this.$embeds.push(t),
                        this.$modes[t] = new e[t]);
                    for (i = ["toggleCommentLines", "getNextLineIndent", "checkOutdent", "autoOutdent", "transformAction", "getCompletions"],
                    t = 0; t < i.length; t++)
                        !function(e) {
                            var n = i[t]
                              , o = e[n];
                            e[i[t]] = function() {
                                return this.$delegator(n, arguments, o)
                            }
                        }(this)
                }
                ,
                this.$delegator = function(e, t, i) {
                    var n, o, s, r, a = t[0];
                    for ("string" != typeof a && (a = a[0]),
                    n = 0; n < this.$embeds.length; n++)
                        if (this.$modes[this.$embeds[n]] && (o = a.split(this.$embeds[n]),
                        !o[0] && o[1]))
                            return t[0] = o[1],
                            s = this.$modes[this.$embeds[n]],
                            s[e].apply(s, t);
                    return r = i.apply(this, t),
                    i ? r : void 0
                }
                ,
                this.transformAction = function(e, t, i, n, o) {
                    var s, r, a;
                    if (this.$behaviour) {
                        s = this.$behaviour.getBehaviours();
                        for (r in s)
                            if (s[r][t] && (a = s[r][t].apply(this, arguments)))
                                return a
                    }
                }
                ,
                this.getKeywords = function(e) {
                    var t, i, n, o, s, r, a, l;
                    if (!this.completionKeywords) {
                        t = this.$tokenizer.rules,
                        i = [];
                        for (n in t)
                            for (o = t[n],
                            s = 0,
                            r = o.length; s < r; s++)
                                if ("string" == typeof o[s].token)
                                    /keyword|support|storage/.test(o[s].token) && i.push(o[s].regex);
                                else if ("object" == typeof o[s].token)
                                    for (a = 0,
                                    l = o[s].token.length; a < l; a++)
                                        /keyword|support|storage/.test(o[s].token[a]) && (n = o[s].regex.match(/\(.+?\)/g)[a],
                                        i.push(n.substr(1, n.length - 2)));
                        this.completionKeywords = i
                    }
                    return e ? i.concat(this.$keywordList || []) : this.$keywordList
                }
                ,
                this.$createKeywordList = function() {
                    return this.$highlightRules || this.getTokenizer(),
                    this.$keywordList = this.$highlightRules.$keywordList || []
                }
                ,
                this.getCompletions = function(e, t, i, n) {
                    return (this.$keywordList || this.$createKeywordList()).map(function(e) {
                        return {
                            name: e,
                            value: e,
                            score: 0,
                            meta: "keyword"
                        }
                    })
                }
            }
            ).call(d.prototype),
            t.Mode = d
        }),
        define("ace/tokenizer", ["require", "exports", "module"], function(e, t, i) {
            var n = 1e3
              , o = function(e) {
                var t, i, n, o, s, r, a, l, c, d, h;
                this.states = e,
                this.regExps = {},
                this.matchMappings = {};
                for (t in this.states) {
                    for (i = this.states[t],
                    n = [],
                    o = 0,
                    s = this.matchMappings[t] = {
                        defaultToken: "text"
                    },
                    r = "g",
                    a = [],
                    l = 0; l < i.length; l++)
                        if (c = i[l],
                        c.defaultToken && (s.defaultToken = c.defaultToken),
                        c.caseInsensitive && (r = "gi"),
                        null != c.regex) {
                            if (c.regex instanceof RegExp && (c.regex = ("" + c.regex).slice(1, -1)),
                            d = c.regex,
                            h = RegExp("(?:(" + d + ")|(.))").exec("a").length - 2,
                            Array.isArray(c.token))
                                if (1 == c.token.length || 1 == h)
                                    c.token = c.token[0];
                                else {
                                    if (h - 1 != c.token.length)
                                        throw Error("number of classes and regexp groups in '" + c.token + "'\n'" + c.regex + "' doesn't match\n" + (h - 1) + "!=" + c.token.length);
                                    c.tokenArray = c.token,
                                    c.token = null,
                                    c.onMatch = this.$arrayTokens
                                }
                            else
                                "function" != typeof c.token || c.onMatch || (c.onMatch = h > 1 ? this.$applyToken : c.token);
                            h > 1 && (/\\\d/.test(c.regex) ? d = c.regex.replace(/\\([0-9]+)/g, function(e, t) {
                                return "\\" + (parseInt(t, 10) + o + 1)
                            }) : (h = 1,
                            d = this.removeCapturingGroups(c.regex)),
                            c.splitRegex || "string" == typeof c.token || a.push(c)),
                            s[o] = l,
                            o += h,
                            n.push(d),
                            c.onMatch || (c.onMatch = null),
                            c.__proto__ = null
                        }
                    a.forEach(function(e) {
                        e.splitRegex = this.createSplitterRegexp(e.regex, r)
                    }, this),
                    this.regExps[t] = RegExp("(" + n.join(")|(") + ")|($)", r)
                }
            };
            (function() {
                this.$setMaxTokenCount = function(e) {
                    n = 0 | e
                }
                ,
                this.$applyToken = function(e) {
                    var t, i, n, o = this.splitRegex.exec(e).slice(1), s = this.token.apply(this, o);
                    if ("string" == typeof s)
                        return [{
                            type: s,
                            value: e
                        }];
                    for (t = [],
                    i = 0,
                    n = s.length; i < n; i++)
                        o[i] && (t[t.length] = {
                            type: s[i],
                            value: o[i]
                        });
                    return t
                }
                ,
                this.$arrayTokens = function(e) {
                    var t, i, n, o, s;
                    if (!e)
                        return [];
                    if (!(t = this.splitRegex.exec(e)))
                        return "text";
                    for (i = [],
                    n = this.tokenArray,
                    o = 0,
                    s = n.length; o < s; o++)
                        t[o + 1] && (i[i.length] = {
                            type: n[o],
                            value: t[o + 1]
                        });
                    return i
                }
                ,
                this.removeCapturingGroups = function(e) {
                    return e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g, function(e, t) {
                        return t ? "(?:" : e
                    })
                }
                ,
                this.createSplitterRegexp = function(e, t) {
                    var i, n, o;
                    return -1 != e.indexOf("(?=") && (i = 0,
                    n = !1,
                    o = {},
                    e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function(e, t, s, r, a, l) {
                        return n ? n = "]" != a : a ? n = !0 : r ? (i == o.stack && (o.end = l + 1,
                        o.stack = -1),
                        i--) : s && (i++,
                        1 != s.length && (o.stack = i,
                        o.start = l)),
                        e
                    }),
                    null != o.end && /^\)*$/.test(e.substr(o.end)) && (e = e.substring(0, o.start) + e.substr(o.end))),
                    RegExp(e, (t || "").replace("g", ""))
                }
                ,
                this.getLineTokens = function(e, t) {
                    var i, o, s, r, a, l, c, d, h, u, p, f, g, m, _;
                    for (t && "string" != typeof t ? (i = t.slice(0),
                    t = i[0]) : i = [],
                    o = t || "start",
                    s = this.states[o],
                    r = this.matchMappings[o],
                    a = this.regExps[o],
                    a.lastIndex = 0,
                    c = [],
                    d = 0,
                    h = {
                        type: null,
                        value: ""
                    }; l = a.exec(e); ) {
                        for (u = r.defaultToken,
                        p = null,
                        f = l[0],
                        g = a.lastIndex,
                        g - f.length > d && (m = e.substring(d, g - f.length),
                        h.type == u ? h.value += m : (h.type && c.push(h),
                        h = {
                            type: u,
                            value: m
                        })),
                        _ = 0; _ < l.length - 2; _++)
                            if (void 0 !== l[_ + 1]) {
                                p = s[r[_]],
                                u = p.onMatch ? p.onMatch(f, o, i) : p.token,
                                p.next && (o = "string" == typeof p.next ? p.next : p.next(o, i),
                                s = this.states[o],
                                s || (window.console && console.error && console.error(o, "doesn't exist"),
                                o = "start",
                                s = this.states[o]),
                                r = this.matchMappings[o],
                                d = g,
                                a = this.regExps[o],
                                a.lastIndex = g);
                                break
                            }
                        if (f)
                            if ("string" == typeof u)
                                p && !1 === p.merge || h.type !== u ? (h.type && c.push(h),
                                h = {
                                    type: u,
                                    value: f
                                }) : h.value += f;
                            else if (u)
                                for (h.type && c.push(h),
                                h = {
                                    type: null,
                                    value: ""
                                },
                                _ = 0; _ < u.length; _++)
                                    c.push(u[_]);
                        if (d == e.length)
                            break;
                        if (d = g,
                        c.length > n) {
                            for (; d < e.length; )
                                h.type && c.push(h),
                                h = {
                                    value: e.substring(d, d += 2e3),
                                    type: "overflow"
                                };
                            o = "start",
                            i = [];
                            break
                        }
                    }
                    return h.type && c.push(h),
                    {
                        tokens: c,
                        state: i.length ? i : o
                    }
                }
            }
            ).call(o.prototype),
            t.Tokenizer = o
        }),
        define("ace/mode/text_highlight_rules", ["require", "exports", "module", "ace/lib/lang"], function(e, t, i) {
            var n = e("../lib/lang")
              , o = function() {
                this.$rules = {
                    start: [{
                        token: "empty_line",
                        regex: "^$"
                    }, {
                        defaultToken: "text"
                    }]
                }
            };
            (function() {
                var e, t;
                this.addRules = function(e, t) {
                    var i, n, o, s;
                    if (t)
                        for (i in e) {
                            for (n = e[i],
                            o = 0; o < n.length; o++)
                                s = n[o],
                                s.next && ("string" != typeof s.next ? s.nextState && 0 !== s.nextState.indexOf(t) && (s.nextState = t + s.nextState) : 0 !== s.next.indexOf(t) && (s.next = t + s.next));
                            this.$rules[t + i] = n
                        }
                    else
                        for (i in e)
                            this.$rules[i] = e[i]
                }
                ,
                this.getRules = function() {
                    return this.$rules
                }
                ,
                this.embedRules = function(e, t, i, o, s) {
                    var r, a, l, c = (new e).getRules();
                    if (o)
                        for (r = 0; r < o.length; r++)
                            o[r] = t + o[r];
                    else {
                        o = [];
                        for (a in c)
                            o.push(t + a)
                    }
                    if (this.addRules(c, t),
                    i)
                        for (l = Array.prototype[s ? "push" : "unshift"],
                        r = 0; r < o.length; r++)
                            l.apply(this.$rules[o[r]], n.deepCopy(i));
                    this.$embeds || (this.$embeds = []),
                    this.$embeds.push(t)
                }
                ,
                this.getEmbeds = function() {
                    return this.$embeds
                }
                ,
                e = function(e, t) {
                    return "start" != e && t.unshift(this.nextState, e),
                    this.nextState
                }
                ,
                t = function(e, t) {
                    return t[0] !== e ? "start" : (t.shift(),
                    t.shift())
                }
                ,
                this.normalizeRules = function() {
                    function i(s) {
                        var r, a, l, c, d, h, u, p, f = o[s];
                        for (f.processed = !0,
                        r = 0; r < f.length; r++) {
                            if (a = f[r],
                            !a.regex && a.start && (a.regex = a.start,
                            a.next || (a.next = []),
                            a.next.push({
                                defaultToken: a.token
                            }, {
                                token: a.token + ".end",
                                regex: a.end || a.start,
                                next: "pop"
                            }),
                            a.token = a.token + ".start",
                            a.push = !0),
                            l = a.next || a.push,
                            l && Array.isArray(l) ? (c = a.stateName,
                            c || (c = a.token,
                            "string" != typeof c && (c = c[0] || ""),
                            o[c] && (c += n++)),
                            o[c] = l,
                            a.next = c,
                            i(c)) : "pop" == l && (a.next = t),
                            a.push && (a.nextState = a.next || a.push,
                            a.next = e,
                            delete a.push),
                            a.rules)
                                for (d in a.rules)
                                    o[d] ? o[d].push && o[d].push.apply(o[d], a.rules[d]) : o[d] = a.rules[d];
                            a.include || "string" == typeof a ? (h = a.include || a,
                            u = o[h]) : Array.isArray(a) && (u = a),
                            u && (p = [r, 1].concat(u),
                            a.noEscape && (p = p.filter(function(e) {
                                return !e.next
                            })),
                            f.splice.apply(f, p),
                            r--,
                            u = null),
                            a.keywordMap && (a.token = this.createKeywordMapper(a.keywordMap, a.defaultToken || "text", a.caseInsensitive),
                            delete a.defaultToken)
                        }
                    }
                    var n = 0
                      , o = this.$rules;
                    Object.keys(o).forEach(i, this)
                }
                ,
                this.createKeywordMapper = function(e, t, i, n) {
                    var o = Object.create(null);
                    return Object.keys(e).forEach(function(t) {
                        var s, r, a = e[t];
                        for (i && (a = a.toLowerCase()),
                        s = a.split(n || "|"),
                        r = s.length; r--; )
                            o[s[r]] = t
                    }),
                    Object.getPrototypeOf(o) && (o.__proto__ = null),
                    this.$keywordList = Object.keys(o),
                    e = null,
                    i ? function(e) {
                        return o[e.toLowerCase()] || t
                    }
                    : function(e) {
                        return o[e] || t
                    }
                }
                ,
                this.getKeywords = function() {
                    return this.$keywords
                }
            }
            ).call(o.prototype),
            t.TextHighlightRules = o
        }),
        define("ace/mode/behaviour", ["require", "exports", "module"], function(e, t, i) {
            var n = function() {
                this.$behaviours = {}
            };
            (function() {
                this.add = function(e, t, i) {
                    switch (void 0) {
                    case this.$behaviours:
                        this.$behaviours = {};
                    case this.$behaviours[e]:
                        this.$behaviours[e] = {}
                    }
                    this.$behaviours[e][t] = i
                }
                ,
                this.addBehaviours = function(e) {
                    var t, i;
                    for (t in e)
                        for (i in e[t])
                            this.add(t, i, e[t][i])
                }
                ,
                this.remove = function(e) {
                    this.$behaviours && this.$behaviours[e] && delete this.$behaviours[e]
                }
                ,
                this.inherit = function(e, t) {
                    var i;
                    i = "function" == typeof e ? (new e).getBehaviours(t) : e.getBehaviours(t),
                    this.addBehaviours(i)
                }
                ,
                this.getBehaviours = function(e) {
                    var t, i;
                    if (e) {
                        for (t = {},
                        i = 0; i < e.length; i++)
                            this.$behaviours[e[i]] && (t[e[i]] = this.$behaviours[e[i]]);
                        return t
                    }
                    return this.$behaviours
                }
            }
            ).call(n.prototype),
            t.Behaviour = n
        }),
        define("ace/unicode", ["require", "exports", "module"], function(e, t, i) {
            function n(e) {
                var i, n = /\w{4}/g;
                for (i in e)
                    t.packages[i] = e[i].replace(n, "\\u$&")
            }
            t.packages = {},
            n({
                L: "0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
                Ll: "0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
                Lu: "0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
                Lt: "01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",
                Lm: "02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",
                Lo: "01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
                M: "0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
                Mn: "0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
                Mc: "0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
                Me: "0488048906DE20DD-20E020E2-20E4A670-A672",
                N: "0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
                Nd: "0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
                Nl: "16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",
                No: "00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
                P: "0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
                Pd: "002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",
                Ps: "0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",
                Pe: "0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
                Pi: "00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",
                Pf: "00BB2019201D203A2E032E052E0A2E0D2E1D2E21",
                Pc: "005F203F20402054FE33FE34FE4D-FE4FFF3F",
                Po: "0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
                S: "0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
                Sm: "002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",
                Sc: "002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",
                Sk: "005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
                So: "00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
                Z: "002000A01680180E2000-200A20282029202F205F3000",
                Zs: "002000A01680180E2000-200A202F205F3000",
                Zl: "2028",
                Zp: "2029",
                C: "0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
                Cc: "0000-001F007F-009F",
                Cf: "00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",
                Co: "E000-F8FF",
                Cs: "D800-DFFF",
                Cn: "03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"
            })
        }),
        define("ace/token_iterator", ["require", "exports", "module"], function(e, t, i) {
            var n = function(e, t, i) {
                this.$session = e,
                this.$row = t,
                this.$rowTokens = e.getTokens(t);
                var n = e.getTokenAt(t, i);
                this.$tokenIndex = n ? n.index : -1
            };
            (function() {
                this.stepBackward = function() {
                    for (this.$tokenIndex -= 1; this.$tokenIndex < 0; ) {
                        if (this.$row -= 1,
                        this.$row < 0)
                            return this.$row = 0,
                            null;
                        this.$rowTokens = this.$session.getTokens(this.$row),
                        this.$tokenIndex = this.$rowTokens.length - 1
                    }
                    return this.$rowTokens[this.$tokenIndex]
                }
                ,
                this.stepForward = function() {
                    this.$tokenIndex += 1;
                    for (var e; this.$tokenIndex >= this.$rowTokens.length; ) {
                        if (this.$row += 1,
                        e || (e = this.$session.getLength()),
                        this.$row >= e)
                            return this.$row = e - 1,
                            null;
                        this.$rowTokens = this.$session.getTokens(this.$row),
                        this.$tokenIndex = 0
                    }
                    return this.$rowTokens[this.$tokenIndex]
                }
                ,
                this.getCurrentToken = function() {
                    return this.$rowTokens[this.$tokenIndex]
                }
                ,
                this.getCurrentTokenRow = function() {
                    return this.$row
                }
                ,
                this.getCurrentTokenColumn = function() {
                    var e = this.$rowTokens
                      , t = this.$tokenIndex
                      , i = e[t].start;
                    if (void 0 !== i)
                        return i;
                    for (i = 0; t > 0; )
                        t -= 1,
                        i += e[t].value.length;
                    return i
                }
            }
            ).call(n.prototype),
            t.TokenIterator = n
        }),
        define("ace/document", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter", "ace/range", "ace/anchor"], function(e, t, i) {
            var n = e("./lib/oop")
              , o = e("./lib/event_emitter").EventEmitter
              , s = e("./range").Range
              , r = e("./anchor").Anchor
              , a = function(e) {
                this.$lines = [],
                0 == e.length ? this.$lines = [""] : Array.isArray(e) ? this._insertLines(0, e) : this.insert({
                    row: 0,
                    column: 0
                }, e)
            };
            (function() {
                n.implement(this, o),
                this.setValue = function(e) {
                    var t = this.getLength();
                    this.remove(new s(0,0,t,this.getLine(t - 1).length)),
                    this.insert({
                        row: 0,
                        column: 0
                    }, e)
                }
                ,
                this.getValue = function() {
                    return this.getAllLines().join(this.getNewLineCharacter())
                }
                ,
                this.createAnchor = function(e, t) {
                    return new r(this,e,t)
                }
                ,
                0 == "aaa".split(/a/).length ? this.$split = function(e) {
                    return e.replace(/\r\n|\r/g, "\n").split("\n")
                }
                : this.$split = function(e) {
                    return e.split(/\r\n|\r|\n/)
                }
                ,
                this.$detectNewLine = function(e) {
                    var t = e.match(/^.*?(\r\n|\r|\n)/m);
                    this.$autoNewLine = t ? t[1] : "\n"
                }
                ,
                this.getNewLineCharacter = function() {
                    switch (this.$newLineMode) {
                    case "windows":
                        return "\r\n";
                    case "unix":
                        return "\n";
                    default:
                        return this.$autoNewLine
                    }
                }
                ,
                this.$autoNewLine = "\n",
                this.$newLineMode = "auto",
                this.setNewLineMode = function(e) {
                    this.$newLineMode !== e && (this.$newLineMode = e)
                }
                ,
                this.getNewLineMode = function() {
                    return this.$newLineMode
                }
                ,
                this.isNewLine = function(e) {
                    return "\r\n" == e || "\r" == e || "\n" == e
                }
                ,
                this.getLine = function(e) {
                    return this.$lines[e] || ""
                }
                ,
                this.getLines = function(e, t) {
                    return this.$lines.slice(e, t + 1)
                }
                ,
                this.getAllLines = function() {
                    return this.getLines(0, this.getLength())
                }
                ,
                this.getLength = function() {
                    return this.$lines.length
                }
                ,
                this.getTextRange = function(e) {
                    var t, i;
                    return e.start.row == e.end.row ? this.getLine(e.start.row).substring(e.start.column, e.end.column) : (t = this.getLines(e.start.row, e.end.row),
                    t[0] = (t[0] || "").substring(e.start.column),
                    i = t.length - 1,
                    e.end.row - e.start.row == i && (t[i] = t[i].substring(0, e.end.column)),
                    t.join(this.getNewLineCharacter()))
                }
                ,
                this.$clipPosition = function(e) {
                    var t = this.getLength();
                    return e.row >= t ? (e.row = Math.max(0, t - 1),
                    e.column = this.getLine(t - 1).length) : e.row < 0 && (e.row = 0),
                    e
                }
                ,
                this.insert = function(e, t) {
                    var i, n, o;
                    return t && 0 !== t.length ? (e = this.$clipPosition(e),
                    this.getLength() <= 1 && this.$detectNewLine(t),
                    i = this.$split(t),
                    n = i.splice(0, 1)[0],
                    o = 0 == i.length ? null : i.splice(i.length - 1, 1)[0],
                    e = this.insertInLine(e, n),
                    null !== o && (e = this.insertNewLine(e),
                    e = this._insertLines(e.row, i),
                    e = this.insertInLine(e, o || "")),
                    e) : e
                }
                ,
                this.insertLines = function(e, t) {
                    return e >= this.getLength() ? this.insert({
                        row: e,
                        column: 0
                    }, "\n" + t.join("\n")) : this._insertLines(Math.max(e, 0), t)
                }
                ,
                this._insertLines = function(e, t) {
                    var i, n, o, r;
                    return 0 == t.length ? {
                        row: e,
                        column: 0
                    } : (t.length > 65535 && (i = this._insertLines(e, t.slice(65535)),
                    t = t.slice(0, 65535)),
                    n = [e, 0],
                    n.push.apply(n, t),
                    this.$lines.splice.apply(this.$lines, n),
                    o = new s(e,0,e + t.length,0),
                    r = {
                        action: "insertLines",
                        range: o,
                        lines: t
                    },
                    this._emit("change", {
                        data: r
                    }),
                    i || o.end)
                }
                ,
                this.insertNewLine = function(e) {
                    var t, i, n;
                    return e = this.$clipPosition(e),
                    t = this.$lines[e.row] || "",
                    this.$lines[e.row] = t.substring(0, e.column),
                    this.$lines.splice(e.row + 1, 0, t.substring(e.column, t.length)),
                    i = {
                        row: e.row + 1,
                        column: 0
                    },
                    n = {
                        action: "insertText",
                        range: s.fromPoints(e, i),
                        text: this.getNewLineCharacter()
                    },
                    this._emit("change", {
                        data: n
                    }),
                    i
                }
                ,
                this.insertInLine = function(e, t) {
                    var i, n, o;
                    return 0 == t.length ? e : (i = this.$lines[e.row] || "",
                    this.$lines[e.row] = i.substring(0, e.column) + t + i.substring(e.column),
                    n = {
                        row: e.row,
                        column: e.column + t.length
                    },
                    o = {
                        action: "insertText",
                        range: s.fromPoints(e, n),
                        text: t
                    },
                    this._emit("change", {
                        data: o
                    }),
                    n)
                }
                ,
                this.remove = function(e) {
                    var t, i, n, o;
                    return !e instanceof s && (e = s.fromPoints(e.start, e.end)),
                    e.start = this.$clipPosition(e.start),
                    e.end = this.$clipPosition(e.end),
                    e.isEmpty() ? e.start : (t = e.start.row,
                    i = e.end.row,
                    e.isMultiLine() ? (n = 0 == e.start.column ? t : t + 1,
                    o = i - 1,
                    e.end.column > 0 && this.removeInLine(i, 0, e.end.column),
                    o >= n && this._removeLines(n, o),
                    n != t && (this.removeInLine(t, e.start.column, this.getLine(t).length),
                    this.removeNewLine(e.start.row))) : this.removeInLine(t, e.start.column, e.end.column),
                    e.start)
                }
                ,
                this.removeInLine = function(e, t, i) {
                    var n, o, r, a, l;
                    if (t != i)
                        return n = new s(e,t,e,i),
                        o = this.getLine(e),
                        r = o.substring(t, i),
                        a = o.substring(0, t) + o.substring(i, o.length),
                        this.$lines.splice(e, 1, a),
                        l = {
                            action: "removeText",
                            range: n,
                            text: r
                        },
                        this._emit("change", {
                            data: l
                        }),
                        n.start
                }
                ,
                this.removeLines = function(e, t) {
                    return e < 0 || t >= this.getLength() ? this.remove(new s(e,0,t + 1,0)) : this._removeLines(e, t)
                }
                ,
                this._removeLines = function(e, t) {
                    var i = new s(e,0,t + 1,0)
                      , n = this.$lines.splice(e, t - e + 1)
                      , o = {
                        action: "removeLines",
                        range: i,
                        nl: this.getNewLineCharacter(),
                        lines: n
                    };
                    return this._emit("change", {
                        data: o
                    }),
                    n
                }
                ,
                this.removeNewLine = function(e) {
                    var t, i = this.getLine(e), n = this.getLine(e + 1), o = new s(e,i.length,e + 1,0), r = i + n;
                    this.$lines.splice(e, 2, r),
                    t = {
                        action: "removeText",
                        range: o,
                        text: this.getNewLineCharacter()
                    },
                    this._emit("change", {
                        data: t
                    })
                }
                ,
                this.replace = function(e, t) {
                    if (!e instanceof s && (e = s.fromPoints(e.start, e.end)),
                    0 == t.length && e.isEmpty())
                        return e.start;
                    if (t == this.getTextRange(e))
                        return e.end;
                    if (this.remove(e),
                    t)
                        var i = this.insert(e.start, t);
                    else
                        i = e.start;
                    return i
                }
                ,
                this.applyDeltas = function(e) {
                    var t, i, n;
                    for (t = 0; t < e.length; t++)
                        i = e[t],
                        n = s.fromPoints(i.range.start, i.range.end),
                        "insertLines" == i.action ? this.insertLines(n.start.row, i.lines) : "insertText" == i.action ? this.insert(n.start, i.text) : "removeLines" == i.action ? this._removeLines(n.start.row, n.end.row - 1) : "removeText" == i.action && this.remove(n)
                }
                ,
                this.revertDeltas = function(e) {
                    var t, i, n;
                    for (t = e.length - 1; t >= 0; t--)
                        i = e[t],
                        n = s.fromPoints(i.range.start, i.range.end),
                        "insertLines" == i.action ? this._removeLines(n.start.row, n.end.row - 1) : "insertText" == i.action ? this.remove(n) : "removeLines" == i.action ? this._insertLines(n.start.row, i.lines) : "removeText" == i.action && this.insert(n.start, i.text)
                }
                ,
                this.indexToPosition = function(e, t) {
                    var i, n, o = this.$lines || this.getAllLines(), s = this.getNewLineCharacter().length;
                    for (i = t || 0,
                    n = o.length; i < n; i++)
                        if ((e -= o[i].length + s) < 0)
                            return {
                                row: i,
                                column: e + o[i].length + s
                            };
                    return {
                        row: n - 1,
                        column: o[n - 1].length
                    }
                }
                ,
                this.positionToIndex = function(e, t) {
                    var i, n = this.$lines || this.getAllLines(), o = this.getNewLineCharacter().length, s = 0, r = Math.min(e.row, n.length);
                    for (i = t || 0; i < r; ++i)
                        s += n[i].length + o;
                    return s + e.column
                }
            }
            ).call(a.prototype),
            t.Document = a
        }),
        define("ace/anchor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(e, t, i) {
            var n = e("./lib/oop")
              , o = e("./lib/event_emitter").EventEmitter
              , s = t.Anchor = function(e, t, i) {
                this.$onChange = this.onChange.bind(this),
                this.attach(e),
                void 0 === i ? this.setPosition(t.row, t.column) : this.setPosition(t, i)
            }
            ;
            (function() {
                n.implement(this, o),
                this.getPosition = function() {
                    return this.$clipPositionToDocument(this.row, this.column)
                }
                ,
                this.getDocument = function() {
                    return this.document
                }
                ,
                this.$insertRight = !1,
                this.onChange = function(e) {
                    var t, i, n, o, s = e.data, r = s.range;
                    r.start.row == r.end.row && r.start.row != this.row || r.start.row > this.row || r.start.row == this.row && r.start.column > this.column || (t = this.row,
                    i = this.column,
                    n = r.start,
                    o = r.end,
                    "insertText" === s.action ? n.row === t && n.column <= i ? n.column === i && this.$insertRight || (n.row === o.row ? i += o.column - n.column : (i -= n.column,
                    t += o.row - n.row)) : n.row !== o.row && n.row < t && (t += o.row - n.row) : "insertLines" === s.action ? n.row <= t && (t += o.row - n.row) : "removeText" === s.action ? n.row === t && n.column < i ? i = o.column >= i ? n.column : Math.max(0, i - (o.column - n.column)) : n.row !== o.row && n.row < t ? (o.row === t && (i = Math.max(0, i - o.column) + n.column),
                    t -= o.row - n.row) : o.row === t && (t -= o.row - n.row,
                    i = Math.max(0, i - o.column) + n.column) : "removeLines" == s.action && n.row <= t && (o.row <= t ? t -= o.row - n.row : (t = n.row,
                    i = 0)),
                    this.setPosition(t, i, !0))
                }
                ,
                this.setPosition = function(e, t, i) {
                    var n, o;
                    n = i ? {
                        row: e,
                        column: t
                    } : this.$clipPositionToDocument(e, t),
                    this.row == n.row && this.column == n.column || (o = {
                        row: this.row,
                        column: this.column
                    },
                    this.row = n.row,
                    this.column = n.column,
                    this._emit("change", {
                        old: o,
                        value: n
                    }))
                }
                ,
                this.detach = function() {
                    this.document.removeEventListener("change", this.$onChange)
                }
                ,
                this.attach = function(e) {
                    this.document = e || this.document,
                    this.document.on("change", this.$onChange)
                }
                ,
                this.$clipPositionToDocument = function(e, t) {
                    var i = {};
                    return e >= this.document.getLength() ? (i.row = Math.max(0, this.document.getLength() - 1),
                    i.column = this.document.getLine(i.row).length) : e < 0 ? (i.row = 0,
                    i.column = 0) : (i.row = e,
                    i.column = Math.min(this.document.getLine(i.row).length, Math.max(0, t))),
                    t < 0 && (i.column = 0),
                    i
                }
            }
            ).call(s.prototype)
        }),
        define("ace/background_tokenizer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(e, t, i) {
            var n = e("./lib/oop")
              , o = e("./lib/event_emitter").EventEmitter
              , s = function(e, t) {
                this.running = !1,
                this.lines = [],
                this.states = [],
                this.currentLine = 0,
                this.tokenizer = e;
                var i = this;
                this.$worker = function() {
                    var e, t, n, o, s, r, a;
                    if (i.running) {
                        for (e = new Date,
                        t = i.currentLine,
                        n = -1,
                        o = i.doc; i.lines[t]; )
                            t++;
                        for (s = t,
                        r = o.getLength(),
                        a = 0,
                        i.running = !1; t < r; ) {
                            i.$tokenizeRow(t),
                            n = t;
                            do {
                                t++
                            } while (i.lines[t]);if (++a % 5 == 0 && new Date - e > 20)
                                return i.running = setTimeout(i.$worker, 20),
                                void (i.currentLine = t)
                        }
                        i.currentLine = t,
                        s <= n && i.fireUpdateEvent(s, n)
                    }
                }
            };
            (function() {
                n.implement(this, o),
                this.setTokenizer = function(e) {
                    this.tokenizer = e,
                    this.lines = [],
                    this.states = [],
                    this.start(0)
                }
                ,
                this.setDocument = function(e) {
                    this.doc = e,
                    this.lines = [],
                    this.states = [],
                    this.stop()
                }
                ,
                this.fireUpdateEvent = function(e, t) {
                    var i = {
                        first: e,
                        last: t
                    };
                    this._emit("update", {
                        data: i
                    })
                }
                ,
                this.start = function(e) {
                    this.currentLine = Math.min(e || 0, this.currentLine, this.doc.getLength()),
                    this.lines.splice(this.currentLine, this.lines.length),
                    this.states.splice(this.currentLine, this.states.length),
                    this.stop(),
                    this.running = setTimeout(this.$worker, 700)
                }
                ,
                this.scheduleStart = function() {
                    this.running || (this.running = setTimeout(this.$worker, 700))
                }
                ,
                this.$updateOnChange = function(e) {
                    var t, i = e.range, n = i.start.row, o = i.end.row - n;
                    0 === o ? this.lines[n] = null : "removeText" == e.action || "removeLines" == e.action ? (this.lines.splice(n, o + 1, null),
                    this.states.splice(n, o + 1, null)) : (t = Array(o + 1),
                    t.unshift(n, 1),
                    this.lines.splice.apply(this.lines, t),
                    this.states.splice.apply(this.states, t)),
                    this.currentLine = Math.min(n, this.currentLine, this.doc.getLength()),
                    this.stop()
                }
                ,
                this.stop = function() {
                    this.running && clearTimeout(this.running),
                    this.running = !1
                }
                ,
                this.getTokens = function(e) {
                    return this.lines[e] || this.$tokenizeRow(e)
                }
                ,
                this.getState = function(e) {
                    return this.currentLine == e && this.$tokenizeRow(e),
                    this.states[e] || "start"
                }
                ,
                this.$tokenizeRow = function(e) {
                    var t = this.doc.getLine(e)
                      , i = this.states[e - 1]
                      , n = this.tokenizer.getLineTokens(t, i, e);
                    return this.states[e] + "" != n.state + "" ? (this.states[e] = n.state,
                    this.lines[e + 1] = null,
                    this.currentLine > e + 1 && (this.currentLine = e + 1)) : this.currentLine == e && (this.currentLine = e + 1),
                    this.lines[e] = n.tokens
                }
            }
            ).call(s.prototype),
            t.BackgroundTokenizer = s
        }),
        define("ace/search_highlight", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(e, t, i) {
            var n = e("./lib/lang")
              , o = (e("./lib/oop"),
            e("./range").Range)
              , s = function(e, t, i) {
                this.setRegexp(e),
                this.clazz = t,
                this.type = i || "text"
            };
            (function() {
                this.MAX_RANGES = 500,
                this.setRegexp = function(e) {
                    this.regExp + "" != e + "" && (this.regExp = e,
                    this.cache = [])
                }
                ,
                this.update = function(e, t, i, s) {
                    var r, a, l, c, d;
                    if (this.regExp)
                        for (r = s.firstRow,
                        a = s.lastRow,
                        l = r; l <= a; l++)
                            for (c = this.cache[l],
                            null == c && (c = n.getMatchOffsets(i.getLine(l), this.regExp),
                            c.length > this.MAX_RANGES && (c = c.slice(0, this.MAX_RANGES)),
                            c = c.map(function(e) {
                                return new o(l,e.offset,l,e.offset + e.length)
                            }),
                            this.cache[l] = c.length ? c : ""),
                            d = c.length; d--; )
                                t.drawSingleLineMarker(e, c[d].toScreenRange(i), this.clazz, s)
                }
            }
            ).call(s.prototype),
            t.SearchHighlight = s
        }),
        define("ace/edit_session/folding", ["require", "exports", "module", "ace/range", "ace/edit_session/fold_line", "ace/edit_session/fold", "ace/token_iterator"], function(e, t, i) {
            function n() {
                this.getFoldAt = function(e, t, i) {
                    var n, o, s, r = this.getFoldLine(e);
                    if (!r)
                        return null;
                    for (n = r.folds,
                    o = 0; o < n.length; o++)
                        if (s = n[o],
                        s.range.contains(e, t)) {
                            if (1 == i && s.range.isEnd(e, t))
                                continue;
                            if (-1 == i && s.range.isStart(e, t))
                                continue;
                            return s
                        }
                }
                ,
                this.getFoldsInRange = function(e) {
                    var t, i, n, o, s, r = e.start, a = e.end, l = this.$foldData, c = [];
                    for (r.column += 1,
                    a.column -= 1,
                    t = 0; t < l.length; t++)
                        if (2 != (i = l[t].range.compareRange(e))) {
                            if (-2 == i)
                                break;
                            for (n = l[t].folds,
                            o = 0; o < n.length && (s = n[o],
                            -2 != (i = s.range.compareRange(e))); o++)
                                if (2 != i) {
                                    if (42 == i)
                                        break;
                                    c.push(s)
                                }
                        }
                    return r.column -= 1,
                    a.column += 1,
                    c
                }
                ,
                this.getAllFolds = function() {
                    function e(e) {
                        n.push(e)
                    }
                    var t, i, n = [], o = this.$foldData;
                    for (t = 0; t < o.length; t++)
                        for (i = 0; i < o[t].folds.length; i++)
                            e(o[t].folds[i]);
                    return n
                }
                ,
                this.getFoldStringAt = function(e, t, i, n) {
                    var o, s, r, a, l;
                    if (!(n = n || this.getFoldLine(e)))
                        return null;
                    for (o = {
                        end: {
                            column: 0
                        }
                    },
                    a = 0; a < n.folds.length; a++) {
                        if (r = n.folds[a],
                        -1 == (l = r.range.compareEnd(e, t))) {
                            s = this.getLine(r.start.row).substring(o.end.column, r.start.column);
                            break
                        }
                        if (0 === l)
                            return null;
                        o = r
                    }
                    return s || (s = this.getLine(r.start.row).substring(o.end.column)),
                    -1 == i ? s.substring(0, t - o.end.column) : 1 == i ? s.substring(t - o.end.column) : s
                }
                ,
                this.getFoldLine = function(e, t) {
                    var i, n = this.$foldData, o = 0;
                    for (t && (o = n.indexOf(t)),
                    -1 == o && (o = 0),
                    o; o < n.length; o++) {
                        if (i = n[o],
                        i.start.row <= e && i.end.row >= e)
                            return i;
                        if (i.end.row > e)
                            return null
                    }
                    return null
                }
                ,
                this.getNextFoldLine = function(e, t) {
                    var i, n = this.$foldData, o = 0;
                    for (t && (o = n.indexOf(t)),
                    -1 == o && (o = 0),
                    o; o < n.length; o++)
                        if (i = n[o],
                        i.end.row >= e)
                            return i;
                    return null
                }
                ,
                this.getFoldedRowCount = function(e, t) {
                    var i, n, o, s, r = this.$foldData, a = t - e + 1;
                    for (i = 0; i < r.length; i++) {
                        if (n = r[i],
                        o = n.end.row,
                        s = n.start.row,
                        o >= t) {
                            s < t && (s >= e ? a -= t - s : a = 0);
                            break
                        }
                        o >= e && (a -= s >= e ? o - s : o - e + 1)
                    }
                    return a
                }
                ,
                this.$addFoldLine = function(e) {
                    return this.$foldData.push(e),
                    this.$foldData.sort(function(e, t) {
                        return e.start.row - t.start.row
                    }),
                    e
                }
                ,
                this.addFold = function(e, t) {
                    var i, n, o, a, l, c, d, h, u, p, f, g = this.$foldData, m = !1;
                    if (e instanceof r ? i = e : (i = new r(t,e),
                    i.collapseChildren = t.collapseChildren),
                    this.$clipRangeToDocument(i.range),
                    n = i.start.row,
                    o = i.start.column,
                    a = i.end.row,
                    l = i.end.column,
                    !(n < a || n == a && o <= l - 2))
                        throw Error("The range has to be at least 2 characters width");
                    if (c = this.getFoldAt(n, o, 1),
                    d = this.getFoldAt(a, l, -1),
                    c && d == c)
                        return c.addSubFold(i);
                    if (c && !c.range.isStart(n, o) || d && !d.range.isEnd(a, l))
                        throw Error("A fold can't intersect already existing fold" + i.range + c.range);
                    for (h = this.getFoldsInRange(i.range),
                    h.length > 0 && (this.removeFolds(h),
                    h.forEach(function(e) {
                        i.addSubFold(e)
                    })),
                    u = 0; u < g.length; u++) {
                        if (p = g[u],
                        a == p.start.row) {
                            p.addFold(i),
                            m = !0;
                            break
                        }
                        if (n == p.end.row) {
                            if (p.addFold(i),
                            m = !0,
                            !i.sameRow && (f = g[u + 1]) && f.start.row == a) {
                                p.merge(f);
                                break
                            }
                            break
                        }
                        if (a <= p.start.row)
                            break
                    }
                    return m || (p = this.$addFoldLine(new s(this.$foldData,i))),
                    this.$useWrapMode ? this.$updateWrapData(p.start.row, p.start.row) : this.$updateRowLengthCache(p.start.row, p.start.row),
                    this.$modified = !0,
                    this._emit("changeFold", {
                        data: i,
                        action: "add"
                    }),
                    i
                }
                ,
                this.addFolds = function(e) {
                    e.forEach(function(e) {
                        this.addFold(e)
                    }, this)
                }
                ,
                this.removeFold = function(e) {
                    var t, i = e.foldLine, n = i.start.row, o = i.end.row, s = this.$foldData, r = i.folds;
                    1 == r.length ? s.splice(s.indexOf(i), 1) : i.range.isEnd(e.end.row, e.end.column) ? (r.pop(),
                    i.end.row = r[r.length - 1].end.row,
                    i.end.column = r[r.length - 1].end.column) : i.range.isStart(e.start.row, e.start.column) ? (r.shift(),
                    i.start.row = r[0].start.row,
                    i.start.column = r[0].start.column) : e.sameRow ? r.splice(r.indexOf(e), 1) : (t = i.split(e.start.row, e.start.column),
                    r = t.folds,
                    r.shift(),
                    t.start.row = r[0].start.row,
                    t.start.column = r[0].start.column),
                    this.$updating || (this.$useWrapMode ? this.$updateWrapData(n, o) : this.$updateRowLengthCache(n, o)),
                    this.$modified = !0,
                    this._emit("changeFold", {
                        data: e,
                        action: "remove"
                    })
                }
                ,
                this.removeFolds = function(e) {
                    var t, i = [];
                    for (t = 0; t < e.length; t++)
                        i.push(e[t]);
                    i.forEach(function(e) {
                        this.removeFold(e)
                    }, this),
                    this.$modified = !0
                }
                ,
                this.expandFold = function(e) {
                    this.removeFold(e),
                    e.subFolds.forEach(function(t) {
                        e.restoreRange(t),
                        this.addFold(t)
                    }, this),
                    e.collapseChildren > 0 && this.foldAll(e.start.row + 1, e.end.row, e.collapseChildren - 1),
                    e.subFolds = []
                }
                ,
                this.expandFolds = function(e) {
                    e.forEach(function(e) {
                        this.expandFold(e)
                    }, this)
                }
                ,
                this.unfold = function(e, t) {
                    var i, n;
                    if (null == e ? (i = new o(0,0,this.getLength(),0),
                    t = !0) : i = "number" == typeof e ? new o(e,0,e,this.getLine(e).length) : "row"in e ? o.fromPoints(e, e) : e,
                    n = this.getFoldsInRange(i),
                    t)
                        this.removeFolds(n);
                    else
                        for (; n.length; )
                            this.expandFolds(n),
                            n = this.getFoldsInRange(i)
                }
                ,
                this.isRowFolded = function(e, t) {
                    return !!this.getFoldLine(e, t)
                }
                ,
                this.getRowFoldEnd = function(e, t) {
                    var i = this.getFoldLine(e, t);
                    return i ? i.end.row : e
                }
                ,
                this.getRowFoldStart = function(e, t) {
                    var i = this.getFoldLine(e, t);
                    return i ? i.start.row : e
                }
                ,
                this.getFoldDisplayLine = function(e, t, i, n, o) {
                    var s, r;
                    return null == n && (n = e.start.row,
                    o = 0),
                    null == t && (t = e.end.row,
                    i = this.getLine(t).length),
                    s = this.doc,
                    r = "",
                    e.walk(function(e, t, i, a) {
                        if (!(t < n)) {
                            if (t == n) {
                                if (i < o)
                                    return;
                                a = Math.max(o, a)
                            }
                            r += null != e ? e : s.getLine(t).substring(a, i)
                        }
                    }, t, i),
                    r
                }
                ,
                this.getDisplayLine = function(e, t, i, n) {
                    var o, s = this.getFoldLine(e);
                    return s ? this.getFoldDisplayLine(s, e, t, i, n) : (o = this.doc.getLine(e),
                    o.substring(n || 0, t || o.length))
                }
                ,
                this.$cloneFoldData = function() {
                    var e = [];
                    return e = this.$foldData.map(function(t) {
                        var i = t.folds.map(function(e) {
                            return e.clone()
                        });
                        return new s(e,i)
                    })
                }
                ,
                this.toggleFold = function(e) {
                    var t, i, n, o, s, r = this.selection, a = r.getRange();
                    if (a.isEmpty()) {
                        if (n = a.start,
                        t = this.getFoldAt(n.row, n.column))
                            return void this.expandFold(t);
                        (i = this.findMatchingBracket(n)) ? 1 == a.comparePoint(i) ? a.end = i : (a.start = i,
                        a.start.column++,
                        a.end.column--) : (i = this.findMatchingBracket({
                            row: n.row,
                            column: n.column + 1
                        })) ? (1 == a.comparePoint(i) ? a.end = i : a.start = i,
                        a.start.column++) : a = this.getCommentFoldRange(n.row, n.column) || a
                    } else {
                        if (o = this.getFoldsInRange(a),
                        e && o.length)
                            return void this.expandFolds(o);
                        1 == o.length && (t = o[0])
                    }
                    if (t || (t = this.getFoldAt(a.start.row, a.start.column)),
                    t && "" + t.range == "" + a)
                        return void this.expandFold(t);
                    if (s = "...",
                    !a.isMultiLine()) {
                        if (s = this.getTextRange(a),
                        s.length < 4)
                            return;
                        s = s.trim().substring(0, 2) + ".."
                    }
                    this.addFold(s, a)
                }
                ,
                this.getCommentFoldRange = function(e, t, i) {
                    var n, s, r = new a(this,e,t), l = r.getCurrentToken();
                    if (l && /^comment|string/.test(l.type)) {
                        if (n = new o,
                        s = RegExp(l.type.replace(/\..*/, "\\.")),
                        1 != i) {
                            do {
                                l = r.stepBackward()
                            } while (l && s.test(l.type));r.stepForward()
                        }
                        if (n.start.row = r.getCurrentTokenRow(),
                        n.start.column = r.getCurrentTokenColumn() + 2,
                        r = new a(this,e,t),
                        -1 != i) {
                            do {
                                l = r.stepForward()
                            } while (l && s.test(l.type));l = r.stepBackward()
                        } else
                            l = r.getCurrentToken();
                        return n.end.row = r.getCurrentTokenRow(),
                        n.end.column = r.getCurrentTokenColumn() + l.value.length - 2,
                        n
                    }
                }
                ,
                this.foldAll = function(e, t, i) {
                    var n, o, s, r, a;
                    for (void 0 == i && (i = 1e5),
                    n = this.foldWidgets,
                    t = t || this.getLength(),
                    e = e || 0,
                    o = e; o < t; o++)
                        if (null == n[o] && (n[o] = this.getFoldWidget(o)),
                        "start" == n[o] && (s = this.getFoldWidgetRange(o),
                        r = s.end.row,
                        s && s.isMultiLine() && r <= t && s.start.row >= e))
                            try {
                                a = this.addFold("...", s),
                                a.collapseChildren = i,
                                o = r
                            } catch (e) {}
                }
                ,
                this.$foldStyles = {
                    manual: 1,
                    markbegin: 1,
                    markbeginend: 1
                },
                this.$foldStyle = "markbegin",
                this.setFoldStyle = function(e) {
                    if (!this.$foldStyles[e])
                        throw Error("invalid fold style: " + e + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
                    if (this.$foldStyle != e) {
                        this.$foldStyle = e,
                        "manual" == e && this.unfold();
                        var t = this.$foldMode;
                        this.$setFolding(null),
                        this.$setFolding(t)
                    }
                }
                ,
                this.$setFolding = function(e) {
                    if (this.$foldMode != e) {
                        if (this.$foldMode = e,
                        this.removeListener("change", this.$updateFoldWidgets),
                        this._emit("changeAnnotation"),
                        !e || "manual" == this.$foldStyle)
                            return void (this.foldWidgets = null);
                        this.foldWidgets = [],
                        this.getFoldWidget = e.getFoldWidget.bind(e, this, this.$foldStyle),
                        this.getFoldWidgetRange = e.getFoldWidgetRange.bind(e, this, this.$foldStyle),
                        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this),
                        this.on("change", this.$updateFoldWidgets)
                    }
                }
                ,
                this.getParentFoldRangeData = function(e, t) {
                    var i, n, o, s, r = this.foldWidgets;
                    if (!r || t && r[e])
                        return {};
                    for (i = e - 1; i >= 0 && (o = r[i],
                    null == o && (o = r[i] = this.getFoldWidget(i)),
                    !("start" == o && (s = this.getFoldWidgetRange(i),
                    n || (n = s),
                    s && s.end.row >= e))); )
                        i--;
                    return {
                        range: -1 !== i && s,
                        firstRange: n
                    }
                }
                ,
                this.onFoldWidgetClick = function(e, t) {
                    var i, n, o, s, r, a, l, c, d, h = this.getFoldWidget(e), u = this.getLine(e);
                    return t = t.domEvent,
                    i = t.shiftKey,
                    n = t.ctrlKey || t.metaKey,
                    o = t.altKey,
                    s = "end" === h ? -1 : 1,
                    (r = this.getFoldAt(e, -1 === s ? 0 : u.length, s)) ? void (i || n ? this.removeFold(r) : this.expandFold(r)) : (a = this.getFoldWidgetRange(e)) && !a.isMultiLine() && (r = this.getFoldAt(a.start.row, a.start.column, 1)) && a.isEqual(r.range) ? void this.removeFold(r) : (o ? (l = this.getParentFoldRangeData(e),
                    l.range && (c = l.range.start.row + 1,
                    d = l.range.end.row),
                    this.foldAll(c, d, n ? 1e4 : 0)) : i ? (d = a ? a.end.row : this.getLength(),
                    this.foldAll(e + 1, a.end.row, n ? 1e4 : 0)) : a && (n && (a.collapseChildren = 1e4),
                    this.addFold("...", a)),
                    void (a || ((t.target || t.srcElement).className += " ace_invalid")))
                }
                ,
                this.updateFoldWidgets = function(e) {
                    var t, i = e.data, n = i.range, o = n.start.row, s = n.end.row - o;
                    0 === s ? this.foldWidgets[o] = null : "removeText" == i.action || "removeLines" == i.action ? this.foldWidgets.splice(o, s + 1, null) : (t = Array(s + 1),
                    t.unshift(o, 1),
                    this.foldWidgets.splice.apply(this.foldWidgets, t))
                }
            }
            var o = e("../range").Range
              , s = e("./fold_line").FoldLine
              , r = e("./fold").Fold
              , a = e("../token_iterator").TokenIterator;
            t.Folding = n
        }),
        define("ace/edit_session/fold_line", ["require", "exports", "module", "ace/range"], function(e, t, i) {
            function n(e, t) {
                this.foldData = e,
                Array.isArray(t) ? this.folds = t : t = this.folds = [t];
                var i = t[t.length - 1];
                this.range = new o(t[0].start.row,t[0].start.column,i.end.row,i.end.column),
                this.start = this.range.start,
                this.end = this.range.end,
                this.folds.forEach(function(e) {
                    e.setFoldLine(this)
                }, this)
            }
            var o = e("../range").Range;
            (function() {
                this.shiftRow = function(e) {
                    this.start.row += e,
                    this.end.row += e,
                    this.folds.forEach(function(t) {
                        t.start.row += e,
                        t.end.row += e
                    })
                }
                ,
                this.addFold = function(e) {
                    if (e.sameRow) {
                        if (e.start.row < this.startRow || e.endRow > this.endRow)
                            throw Error("Can't add a fold to this FoldLine as it has no connection");
                        this.folds.push(e),
                        this.folds.sort(function(e, t) {
                            return -e.range.compareEnd(t.start.row, t.start.column)
                        }),
                        this.range.compareEnd(e.start.row, e.start.column) > 0 ? (this.end.row = e.end.row,
                        this.end.column = e.end.column) : this.range.compareStart(e.end.row, e.end.column) < 0 && (this.start.row = e.start.row,
                        this.start.column = e.start.column)
                    } else if (e.start.row == this.end.row)
                        this.folds.push(e),
                        this.end.row = e.end.row,
                        this.end.column = e.end.column;
                    else {
                        if (e.end.row != this.start.row)
                            throw Error("Trying to add fold to FoldRow that doesn't have a matching row");
                        this.folds.unshift(e),
                        this.start.row = e.start.row,
                        this.start.column = e.start.column
                    }
                    e.foldLine = this
                }
                ,
                this.containsRow = function(e) {
                    return e >= this.start.row && e <= this.end.row
                }
                ,
                this.walk = function(e, t, i) {
                    var n, o, s, r, a = 0, l = this.folds, c = !0;
                    for (null == t && (t = this.end.row,
                    i = this.end.column),
                    r = 0; r < l.length; r++) {
                        if (n = l[r],
                        -1 == (o = n.range.compareStart(t, i)))
                            return void e(null, t, i, a, c);
                        if (s = e(null, n.start.row, n.start.column, a, c),
                        (s = !s && e(n.placeholder, n.start.row, n.start.column, a)) || 0 == o)
                            return;
                        c = !n.sameRow,
                        a = n.end.column
                    }
                    e(null, t, i, a, c)
                }
                ,
                this.getNextFoldTo = function(e, t) {
                    var i, n, o;
                    for (o = 0; o < this.folds.length; o++) {
                        if (i = this.folds[o],
                        -1 == (n = i.range.compareEnd(e, t)))
                            return {
                                fold: i,
                                kind: "after"
                            };
                        if (0 == n)
                            return {
                                fold: i,
                                kind: "inside"
                            }
                    }
                    return null
                }
                ,
                this.addRemoveChars = function(e, t, i) {
                    var n, o, s, r = this.getNextFoldTo(e, t);
                    if (r)
                        if (n = r.fold,
                        "inside" == r.kind && n.start.column != t && n.start.row != e)
                            window.console && window.console.log(e, t, n);
                        else if (n.start.row == e) {
                            for (o = this.folds,
                            s = o.indexOf(n),
                            0 == s && (this.start.column += i),
                            s; s < o.length; s++) {
                                if (n = o[s],
                                n.start.column += i,
                                !n.sameRow)
                                    return;
                                n.end.column += i
                            }
                            this.end.column += i
                        }
                }
                ,
                this.split = function(e, t) {
                    var i, o, s, r = this.getNextFoldTo(e, t).fold, a = this.folds, l = this.foldData;
                    return r ? (i = a.indexOf(r),
                    o = a[i - 1],
                    this.end.row = o.end.row,
                    this.end.column = o.end.column,
                    a = a.splice(i, a.length - i),
                    s = new n(l,a),
                    l.splice(l.indexOf(this) + 1, 0, s),
                    s) : null
                }
                ,
                this.merge = function(e) {
                    var t, i, n = e.folds;
                    for (t = 0; t < n.length; t++)
                        this.addFold(n[t]);
                    i = this.foldData,
                    i.splice(i.indexOf(e), 1)
                }
                ,
                this.toString = function() {
                    var e = [this.range + ": ["];
                    return this.folds.forEach(function(t) {
                        e.push("  " + t)
                    }),
                    e.push("]"),
                    e.join("\n")
                }
                ,
                this.idxToPosition = function(e) {
                    var t, i, n = 0;
                    for (i = 0; i < this.folds.length; i++) {
                        if (t = this.folds[i],
                        (e -= t.start.column - n) < 0)
                            return {
                                row: t.start.row,
                                column: t.start.column + e
                            };
                        if ((e -= t.placeholder.length) < 0)
                            return t.start;
                        n = t.end.column
                    }
                    return {
                        row: this.end.row,
                        column: this.end.column + e
                    }
                }
            }
            ).call(n.prototype),
            t.FoldLine = n
        }),
        define("ace/edit_session/fold", ["require", "exports", "module", "ace/range", "ace/range_list", "ace/lib/oop"], function(e, t, i) {
            function n(e, t) {
                e.row -= t.row,
                0 == e.row && (e.column -= t.column)
            }
            function o(e, t) {
                n(e.start, t),
                n(e.end, t)
            }
            function s(e, t) {
                0 == e.row && (e.column += t.column),
                e.row += t.row
            }
            function r(e, t) {
                s(e.start, t),
                s(e.end, t)
            }
            var a = (e("../range").Range,
            e("../range_list").RangeList)
              , l = e("../lib/oop")
              , c = t.Fold = function(e, t) {
                this.foldLine = null,
                this.placeholder = t,
                this.range = e,
                this.start = e.start,
                this.end = e.end,
                this.sameRow = e.start.row == e.end.row,
                this.subFolds = this.ranges = []
            }
            ;
            l.inherits(c, a),
            function() {
                this.toString = function() {
                    return '"' + this.placeholder + '" ' + this.range
                }
                ,
                this.setFoldLine = function(e) {
                    this.foldLine = e,
                    this.subFolds.forEach(function(t) {
                        t.setFoldLine(e)
                    })
                }
                ,
                this.clone = function() {
                    var e = this.range.clone()
                      , t = new c(e,this.placeholder);
                    return this.subFolds.forEach(function(e) {
                        t.subFolds.push(e.clone())
                    }),
                    t.collapseChildren = this.collapseChildren,
                    t
                }
                ,
                this.addSubFold = function(e) {
                    var t, i, n, s, r, a;
                    if (!this.range.isEqual(e)) {
                        if (!this.range.containsRange(e))
                            throw Error("A fold can't intersect already existing fold" + e.range + this.range);
                        for (o(e, this.start),
                        t = e.start.row,
                        i = e.start.column,
                        n = 0,
                        s = -1; n < this.subFolds.length && 1 == (s = this.subFolds[n].range.compare(t, i)); n++)
                            ;
                        if (r = this.subFolds[n],
                        0 == s)
                            return r.addSubFold(e);
                        for (t = e.range.end.row,
                        i = e.range.end.column,
                        a = n,
                        s = -1; a < this.subFolds.length && 1 == (s = this.subFolds[a].range.compare(t, i)); a++)
                            ;
                        if (this.subFolds[a],
                        0 == s)
                            throw Error("A fold can't intersect already existing fold" + e.range + this.range);
                        return this.subFolds.splice(n, a - n, e),
                        e.setFoldLine(this.foldLine),
                        e
                    }
                }
                ,
                this.restoreRange = function(e) {
                    return r(e, this.start)
                }
            }
            .call(c.prototype)
        }),
        define("ace/range_list", ["require", "exports", "module", "ace/range"], function(e, t, i) {
            var n = e("./range").Range
              , o = n.comparePoints
              , s = function() {
                this.ranges = []
            };
            (function() {
                this.comparePoints = o,
                this.pointIndex = function(e, t, i) {
                    var n, s, r, a, l = this.ranges;
                    for (n = i || 0; n < l.length; n++)
                        if (s = l[n],
                        !((r = o(e, s.end)) > 0))
                            return a = o(e, s.start),
                            0 === r ? t && 0 !== a ? -n - 2 : n : a > 0 || 0 === a && !t ? n : -n - 1;
                    return -n - 1
                }
                ,
                this.add = function(e) {
                    var t, i = !e.isEmpty(), n = this.pointIndex(e.start, i);
                    return n < 0 && (n = -n - 1),
                    t = this.pointIndex(e.end, i, n),
                    t < 0 ? t = -t - 1 : t++,
                    this.ranges.splice(n, t - n, e)
                }
                ,
                this.addList = function(e) {
                    var t, i = [];
                    for (t = e.length; t--; )
                        i.push.call(i, this.add(e[t]));
                    return i
                }
                ,
                this.substractPoint = function(e) {
                    var t = this.pointIndex(e);
                    if (t >= 0)
                        return this.ranges.splice(t, 1)
                }
                ,
                this.merge = function() {
                    var e, t, i, n, s = [], r = this.ranges;
                    for (r = r.sort(function(e, t) {
                        return o(e.start, t.start)
                    }),
                    e = r[0],
                    i = 1; i < r.length; i++)
                        t = e,
                        e = r[i],
                        (n = o(t.end, e.start)) < 0 || (0 != n || t.isEmpty() || e.isEmpty()) && (o(t.end, e.end) < 0 && (t.end.row = e.end.row,
                        t.end.column = e.end.column),
                        r.splice(i, 1),
                        s.push(e),
                        e = t,
                        i--);
                    return this.ranges = r,
                    s
                }
                ,
                this.contains = function(e, t) {
                    return this.pointIndex({
                        row: e,
                        column: t
                    }) >= 0
                }
                ,
                this.containsPoint = function(e) {
                    return this.pointIndex(e) >= 0
                }
                ,
                this.rangeAtPoint = function(e) {
                    var t = this.pointIndex(e);
                    if (t >= 0)
                        return this.ranges[t]
                }
                ,
                this.clipRows = function(e, t) {
                    var i, n, o, s, r = this.ranges;
                    if (r[0].start.row > t || r[r.length - 1].start.row < e)
                        return [];
                    for (i = this.pointIndex({
                        row: e,
                        column: 0
                    }),
                    i < 0 && (i = -i - 1),
                    n = this.pointIndex({
                        row: t,
                        column: 0
                    }, i),
                    n < 0 && (n = -n - 1),
                    o = [],
                    s = i; s < n; s++)
                        o.push(r[s]);
                    return o
                }
                ,
                this.removeAll = function() {
                    return this.ranges.splice(0, this.ranges.length)
                }
                ,
                this.attach = function(e) {
                    this.session && this.detach(),
                    this.session = e,
                    this.onChange = this.$onChange.bind(this),
                    this.session.on("change", this.onChange)
                }
                ,
                this.detach = function() {
                    this.session && (this.session.removeListener("change", this.onChange),
                    this.session = null)
                }
                ,
                this.$onChange = function(e) {
                    var t, i, n, o, s, r, a, l, c, d, h = e.data.range;
                    for ("i" == e.data.action[0] ? (t = h.start,
                    i = h.end) : (i = h.start,
                    t = h.end),
                    n = t.row,
                    o = i.row,
                    s = o - n,
                    r = -t.column + i.column,
                    a = this.ranges,
                    l = 0,
                    c = a.length; l < c; l++)
                        if (d = a[l],
                        !(d.end.row < n)) {
                            if (d.start.row > n)
                                break;
                            if (d.start.row == n && d.start.column >= t.column && (d.start.column == t.column && this.$insertRight || (d.start.column += r,
                            d.start.row += s)),
                            d.end.row == n && d.end.column >= t.column) {
                                if (d.end.column == t.column && this.$insertRight)
                                    continue;
                                d.end.column == t.column && r > 0 && l < c - 1 && d.end.column > d.start.column && d.end.column == a[l + 1].start.column && (d.end.column -= r),
                                d.end.column += r,
                                d.end.row += s
                            }
                        }
                    if (0 != s && l < c)
                        for (; l < c; l++)
                            d = a[l],
                            d.start.row += s,
                            d.end.row += s
                }
            }
            ).call(s.prototype),
            t.RangeList = s
        }),
        define("ace/edit_session/bracket_match", ["require", "exports", "module", "ace/token_iterator", "ace/range"], function(e, t, i) {
            function n() {
                this.findMatchingBracket = function(e, t) {
                    var i, n;
                    return 0 == e.column ? null : "" == (i = t || this.getLine(e.row).charAt(e.column - 1)) ? null : (n = i.match(/([\(\[\{])|([\)\]\}])/),
                    n ? n[1] ? this.$findClosingBracket(n[1], e) : this.$findOpeningBracket(n[2], e) : null)
                }
                ,
                this.getBracketRange = function(e) {
                    var t, i, n = this.getLine(e.row), o = !0, r = n.charAt(e.column - 1), a = r && r.match(/([\(\[\{])|([\)\]\}])/);
                    if (a || (r = n.charAt(e.column),
                    e = {
                        row: e.row,
                        column: e.column + 1
                    },
                    a = r && r.match(/([\(\[\{])|([\)\]\}])/),
                    o = !1),
                    !a)
                        return null;
                    if (a[1]) {
                        if (!(i = this.$findClosingBracket(a[1], e)))
                            return null;
                        t = s.fromPoints(e, i),
                        o || (t.end.column++,
                        t.start.column--),
                        t.cursor = t.end
                    } else {
                        if (!(i = this.$findOpeningBracket(a[2], e)))
                            return null;
                        t = s.fromPoints(i, e),
                        o || (t.start.column++,
                        t.end.column--),
                        t.cursor = t.start
                    }
                    return t
                }
                ,
                this.$brackets = {
                    ")": "(",
                    "(": ")",
                    "]": "[",
                    "[": "]",
                    "{": "}",
                    "}": "{"
                },
                this.$findOpeningBracket = function(e, t, i) {
                    var n, s, r, a = this.$brackets[e], l = 1, c = new o(this,t.row,t.column), d = c.getCurrentToken();
                    if (d || (d = c.stepForward()),
                    d) {
                        for (i || (i = RegExp("(\\.?" + d.type.replace(".", "\\.").replace("rparen", ".paren") + ")+")),
                        n = t.column - c.getCurrentTokenColumn() - 2,
                        s = d.value; ; ) {
                            for (; n >= 0; ) {
                                if ((r = s.charAt(n)) == a) {
                                    if (0 == (l -= 1))
                                        return {
                                            row: c.getCurrentTokenRow(),
                                            column: n + c.getCurrentTokenColumn()
                                        }
                                } else
                                    r == e && (l += 1);
                                n -= 1
                            }
                            do {
                                d = c.stepBackward()
                            } while (d && !i.test(d.type));if (null == d)
                                break;
                            s = d.value,
                            n = s.length - 1
                        }
                        return null
                    }
                }
                ,
                this.$findClosingBracket = function(e, t, i) {
                    var n, s, r, a, l = this.$brackets[e], c = 1, d = new o(this,t.row,t.column), h = d.getCurrentToken();
                    if (h || (h = d.stepForward()),
                    h) {
                        for (i || (i = RegExp("(\\.?" + h.type.replace(".", "\\.").replace("lparen", ".paren") + ")+")),
                        n = t.column - d.getCurrentTokenColumn(); ; ) {
                            for (s = h.value,
                            r = s.length; n < r; ) {
                                if ((a = s.charAt(n)) == l) {
                                    if (0 == (c -= 1))
                                        return {
                                            row: d.getCurrentTokenRow(),
                                            column: n + d.getCurrentTokenColumn()
                                        }
                                } else
                                    a == e && (c += 1);
                                n += 1
                            }
                            do {
                                h = d.stepForward()
                            } while (h && !i.test(h.type));if (null == h)
                                break;
                            n = 0
                        }
                        return null
                    }
                }
            }
            var o = e("../token_iterator").TokenIterator
              , s = e("../range").Range;
            t.BracketMatch = n
        }),
        define("ace/search", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(e, t, i) {
            var n = e("./lib/lang")
              , o = e("./lib/oop")
              , s = e("./range").Range
              , r = function() {
                this.$options = {}
            };
            (function() {
                this.set = function(e) {
                    return o.mixin(this.$options, e),
                    this
                }
                ,
                this.getOptions = function() {
                    return n.copyObject(this.$options)
                }
                ,
                this.setOptions = function(e) {
                    this.$options = e
                }
                ,
                this.find = function(e) {
                    var t, i = this.$matchIterator(e, this.$options);
                    return !!i && (t = null,
                    i.forEach(function(e, i, n) {
                        if (e.start)
                            t = e;
                        else {
                            var o = e.offset + (n || 0);
                            t = new s(i,o,i,o + e.length)
                        }
                        return !0
                    }),
                    t)
                }
                ,
                this.findAll = function(e) {
                    var t, i, o, r, a, l, c, d, h, u, p, f, g, m, _, v, y, b = this.$options;
                    if (!b.needle)
                        return [];
                    if (this.$assembleRegExp(b),
                    t = b.range,
                    i = t ? e.getLines(t.start.row, t.end.row) : e.doc.getAllLines(),
                    o = [],
                    r = b.re,
                    b.$isMultiLine)
                        for (a = r.length,
                        l = i.length - a,
                        c = r.offset || 0; c <= l; c++) {
                            for (d = 0; d < a && -1 != i[c + d].search(r[d]); d++)
                                ;
                            h = i[c],
                            u = i[c + a - 1],
                            p = h.match(r[0])[0].length,
                            f = u.match(r[a - 1])[0].length,
                            o.push(new s(c,h.length - p,c + a - 1,f))
                        }
                    else
                        for (g = 0; g < i.length; g++)
                            for (m = n.getMatchOffsets(i[g], r),
                            d = 0; d < m.length; d++)
                                _ = m[d],
                                o.push(new s(g,_.offset,g,_.offset + _.length));
                    if (t) {
                        for (v = t.start.column,
                        y = t.start.column,
                        g = 0,
                        d = o.length - 1; g < d && o[g].start.column < v && o[g].start.row == t.start.row; )
                            g++;
                        for (; g < d && o[d].end.column > y && o[d].end.row == t.end.row; )
                            d--;
                        for (o = o.slice(g, d + 1),
                        g = 0,
                        d = o.length; g < d; g++)
                            o[g].start.row += t.start.row,
                            o[g].end.row += t.start.row
                    }
                    return o
                }
                ,
                this.replace = function(e, t) {
                    var i, n, o, s = this.$options, r = this.$assembleRegExp(s);
                    if (s.$isMultiLine)
                        return t;
                    if (r) {
                        if (!(i = r.exec(e)) || i[0].length != e.length)
                            return null;
                        if (t = e.replace(r, t),
                        s.preserveCase) {
                            for (t = t.split(""),
                            n = Math.min(e.length, e.length); n--; )
                                o = e[n],
                                o && o.toLowerCase() != o ? t[n] = t[n].toUpperCase() : t[n] = t[n].toLowerCase();
                            t = t.join("")
                        }
                        return t
                    }
                }
                ,
                this.$matchIterator = function(e, t) {
                    var i, o, r, a, l, c = this.$assembleRegExp(t);
                    return !!c && (i = this,
                    r = t.backwards,
                    t.$isMultiLine ? (a = c.length,
                    l = function(t, i, n) {
                        var r, l, d, h = t.search(c[0]);
                        if (-1 != h) {
                            for (r = 1; r < a; r++)
                                if (t = e.getLine(i + r),
                                -1 == t.search(c[r]))
                                    return;
                            return l = t.match(c[a - 1])[0].length,
                            d = new s(i,h,i + a - 1,l),
                            1 == c.offset ? (d.start.row--,
                            d.start.column = Number.MAX_VALUE) : n && (d.start.column += n),
                            !!o(d) || void 0
                        }
                    }
                    ) : l = r ? function(e, t, i) {
                        var s, r = n.getMatchOffsets(e, c);
                        for (s = r.length - 1; s >= 0; s--)
                            if (o(r[s], t, i))
                                return !0
                    }
                    : function(e, t, i) {
                        var s, r = n.getMatchOffsets(e, c);
                        for (s = 0; s < r.length; s++)
                            if (o(r[s], t, i))
                                return !0
                    }
                    ,
                    {
                        forEach: function(n) {
                            o = n,
                            i.$lineIterator(e, t).forEach(l)
                        }
                    })
                }
                ,
                this.$assembleRegExp = function(e, t) {
                    var i, o, s;
                    if (e.needle instanceof RegExp)
                        return e.re = e.needle;
                    if (i = e.needle,
                    !e.needle)
                        return e.re = !1;
                    if (e.regExp || (i = n.escapeRegExp(i)),
                    e.wholeWord && (i = "\\b" + i + "\\b"),
                    o = e.caseSensitive ? "g" : "gi",
                    e.$isMultiLine = !t && /[\n\r]/.test(i),
                    e.$isMultiLine)
                        return e.re = this.$assembleMultilineRegExp(i, o);
                    try {
                        s = RegExp(i, o)
                    } catch (e) {
                        s = !1
                    }
                    return e.re = s
                }
                ,
                this.$assembleMultilineRegExp = function(e, t) {
                    var i, n = e.replace(/\r\n|\r|\n/g, "$\n^").split("\n"), o = [];
                    for (i = 0; i < n.length; i++)
                        try {
                            o.push(RegExp(n[i], t))
                        } catch (e) {
                            return !1
                        }
                    return "" == n[0] ? (o.shift(),
                    o.offset = 1) : o.offset = 0,
                    o
                }
                ,
                this.$lineIterator = function(e, t) {
                    var i, n, o, s = 1 == t.backwards, r = 0 != t.skipCurrent, a = t.range, l = t.start;
                    return l || (l = a ? a[s ? "end" : "start"] : e.selection.getRange()),
                    l.start && (l = l[r != s ? "end" : "start"]),
                    i = a ? a.start.row : 0,
                    n = a ? a.end.row : e.getLength() - 1,
                    o = s ? function(o) {
                        var s = l.row;
                        if (!o(e.getLine(s).substring(0, l.column), s)) {
                            for (s--; s >= i; s--)
                                if (o(e.getLine(s), s))
                                    return;
                            if (0 != t.wrap)
                                for (s = n,
                                i = l.row; s >= i; s--)
                                    if (o(e.getLine(s), s))
                                        return
                        }
                    }
                    : function(o) {
                        var s = l.row;
                        if (!o(e.getLine(s).substr(l.column), s, l.column)) {
                            for (s += 1; s <= n; s++)
                                if (o(e.getLine(s), s))
                                    return;
                            if (0 != t.wrap)
                                for (s = i,
                                n = l.row; s <= n; s++)
                                    if (o(e.getLine(s), s))
                                        return
                        }
                    }
                    ,
                    {
                        forEach: o
                    }
                }
            }
            ).call(r.prototype),
            t.Search = r
        }),
        define("ace/commands/command_manager", ["require", "exports", "module", "ace/lib/oop", "ace/keyboard/hash_handler", "ace/lib/event_emitter"], function(e, t, i) {
            var n = e("../lib/oop")
              , o = e("../keyboard/hash_handler").HashHandler
              , s = e("../lib/event_emitter").EventEmitter
              , r = function(e, t) {
                o.call(this, t, e),
                this.byName = this.commands,
                this.setDefaultHandler("exec", function(e) {
                    return e.command.exec(e.editor, e.args || {})
                })
            };
            n.inherits(r, o),
            function() {
                n.implement(this, s),
                this.exec = function(e, t, i) {
                    var n, o;
                    return "string" == typeof e && (e = this.commands[e]),
                    !!e && (!(t && t.$readOnly && !e.readOnly) && (n = {
                        editor: t,
                        command: e,
                        args: i
                    },
                    o = this._emit("exec", n),
                    this._signal("afterExec", n),
                    !1 !== o))
                }
                ,
                this.toggleRecording = function(e) {
                    if (!this.$inReplay)
                        return e && e._emit("changeStatus"),
                        this.recording ? (this.macro.pop(),
                        this.removeEventListener("exec", this.$addCommandToMacro),
                        this.macro.length || (this.macro = this.oldMacro),
                        this.recording = !1) : (this.$addCommandToMacro || (this.$addCommandToMacro = function(e) {
                            this.macro.push([e.command, e.args])
                        }
                        .bind(this)),
                        this.oldMacro = this.macro,
                        this.macro = [],
                        this.on("exec", this.$addCommandToMacro),
                        this.recording = !0)
                }
                ,
                this.replay = function(e) {
                    if (!this.$inReplay && this.macro) {
                        if (this.recording)
                            return this.toggleRecording(e);
                        try {
                            this.$inReplay = !0,
                            this.macro.forEach(function(t) {
                                "string" == typeof t ? this.exec(t, e) : this.exec(t[0], e, t[1])
                            }, this)
                        } finally {
                            this.$inReplay = !1
                        }
                    }
                }
                ,
                this.trimMacro = function(e) {
                    return e.map(function(e) {
                        return "string" != typeof e[0] && (e[0] = e[0].name),
                        e[1] || (e = e[0]),
                        e
                    })
                }
            }
            .call(r.prototype),
            t.CommandManager = r
        }),
        define("ace/keyboard/hash_handler", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(e, t, i) {
            function n(e, t) {
                var i, n;
                this.platform = t || (s.isMac ? "mac" : "win"),
                this.commands = {},
                this.commandKeyBinding = {},
                this.__defineGetter__ && this.__defineSetter__ && "undefined" != typeof console && console.error ? (i = !1,
                n = function() {
                    i || (i = !0,
                    console.error("commmandKeyBinding has too many m's. use commandKeyBinding"))
                }
                ,
                this.__defineGetter__("commmandKeyBinding", function() {
                    return n(),
                    this.commandKeyBinding
                }),
                this.__defineSetter__("commmandKeyBinding", function(e) {
                    return n(),
                    this.commandKeyBinding = e
                })) : this.commmandKeyBinding = this.commandKeyBinding,
                this.addCommands(e)
            }
            var o = e("../lib/keys")
              , s = e("../lib/useragent");
            (function() {
                this.addCommand = function(e) {
                    this.commands[e.name] && this.removeCommand(e),
                    this.commands[e.name] = e,
                    e.bindKey && this._buildKeyHash(e)
                }
                ,
                this.removeCommand = function(e) {
                    var t, i, n, o = "string" == typeof e ? e : e.name;
                    e = this.commands[o],
                    delete this.commands[o],
                    t = this.commandKeyBinding;
                    for (i in t)
                        for (n in t[i])
                            t[i][n] == e && delete t[i][n]
                }
                ,
                this.bindKey = function(e, t) {
                    if (e) {
                        if ("function" == typeof t)
                            return void this.addCommand({
                                exec: t,
                                bindKey: e,
                                name: t.name || e
                            });
                        var i = this.commandKeyBinding;
                        e.split("|").forEach(function(e) {
                            var n = this.parseKeys(e, t)
                              , o = n.hashId;
                            (i[o] || (i[o] = {}))[n.key] = t
                        }, this)
                    }
                }
                ,
                this.addCommands = function(e) {
                    e && Object.keys(e).forEach(function(t) {
                        var i = e[t];
                        if (i) {
                            if ("string" == typeof i)
                                return this.bindKey(i, t);
                            "function" == typeof i && (i = {
                                exec: i
                            }),
                            i.name || (i.name = t),
                            this.addCommand(i)
                        }
                    }, this)
                }
                ,
                this.removeCommands = function(e) {
                    Object.keys(e).forEach(function(t) {
                        this.removeCommand(e[t])
                    }, this)
                }
                ,
                this.bindKeys = function(e) {
                    Object.keys(e).forEach(function(t) {
                        this.bindKey(t, e[t])
                    }, this)
                }
                ,
                this._buildKeyHash = function(e) {
                    var t, i = e.bindKey;
                    i && (t = "string" == typeof i ? i : i[this.platform],
                    this.bindKey(t, e))
                }
                ,
                this.parseKeys = function(e) {
                    var t, i, n, s, r, a;
                    if (-1 != e.indexOf(" ") && (e = e.split(/\s+/).pop()),
                    t = e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e) {
                        return e
                    }),
                    i = t.pop(),
                    n = o[i],
                    o.FUNCTION_KEYS[n])
                        i = o.FUNCTION_KEYS[n].toLowerCase();
                    else {
                        if (!t.length)
                            return {
                                key: i,
                                hashId: -1
                            };
                        if (1 == t.length && "shift" == t[0])
                            return {
                                key: i.toUpperCase(),
                                hashId: -1
                            }
                    }
                    for (s = 0,
                    r = t.length; r--; ) {
                        if (null == (a = o.KEY_MODS[t[r]]))
                            return "undefined" != typeof console && console.error("invalid modifier " + t[r] + " in " + e),
                            !1;
                        s |= a
                    }
                    return {
                        key: i,
                        hashId: s
                    }
                }
                ,
                this.findKeyCommand = function(e, t) {
                    var i = this.commandKeyBinding;
                    return i[e] && i[e][t]
                }
                ,
                this.handleKeyboard = function(e, t, i, n) {
                    return {
                        command: this.findKeyCommand(t, i)
                    }
                }
            }
            ).call(n.prototype),
            t.HashHandler = n
        }),
        define("ace/commands/default_commands", ["require", "exports", "module", "ace/lib/lang", "ace/config"], function(e, t, i) {
            function n(e, t) {
                return {
                    win: e,
                    mac: t
                }
            }
            var o = e("../lib/lang")
              , s = e("../config");
            t.commands = [{
                name: "showSettingsMenu",
                bindKey: n("Ctrl-,", "Command-,"),
                exec: function(e) {
                    s.loadModule("ace/ext/settings_menu", function(t) {
                        t.init(e),
                        e.showSettingsMenu()
                    })
                },
                readOnly: !0
            }, {
                name: "selectall",
                bindKey: n("Ctrl-A", "Command-A"),
                exec: function(e) {
                    e.selectAll()
                },
                readOnly: !0
            }, {
                name: "centerselection",
                bindKey: n(null, "Ctrl-L"),
                exec: function(e) {
                    e.centerSelection()
                },
                readOnly: !0
            }, {
                name: "gotoline",
                bindKey: n("Ctrl-L", "Command-L"),
                exec: function(e) {
                    var t = parseInt(prompt("Enter line number:"), 10);
                    isNaN(t) || e.gotoLine(t)
                },
                readOnly: !0
            }, {
                name: "fold",
                bindKey: n("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"),
                exec: function(e) {
                    e.session.toggleFold(!1)
                },
                readOnly: !0
            }, {
                name: "unfold",
                bindKey: n("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
                exec: function(e) {
                    e.session.toggleFold(!0)
                },
                readOnly: !0
            }, {
                name: "foldall",
                bindKey: n("Alt-0", "Command-Option-0"),
                exec: function(e) {
                    e.session.foldAll()
                },
                readOnly: !0
            }, {
                name: "unfoldall",
                bindKey: n("Alt-Shift-0", "Command-Option-Shift-0"),
                exec: function(e) {
                    e.session.unfold()
                },
                readOnly: !0
            }, {
                name: "findnext",
                bindKey: n("Ctrl-K", "Command-G"),
                exec: function(e) {
                    e.findNext()
                },
                readOnly: !0
            }, {
                name: "findprevious",
                bindKey: n("Ctrl-Shift-K", "Command-Shift-G"),
                exec: function(e) {
                    e.findPrevious()
                },
                readOnly: !0
            }, {
                name: "find",
                bindKey: n("Ctrl-F", "Command-F"),
                exec: function(e) {
                    s.loadModule("ace/ext/searchbox", function(t) {
                        t.Search(e)
                    })
                },
                readOnly: !0
            }, {
                name: "overwrite",
                bindKey: "Insert",
                exec: function(e) {
                    e.toggleOverwrite()
                },
                readOnly: !0
            }, {
                name: "selecttostart",
                bindKey: n("Ctrl-Shift-Home", "Command-Shift-Up"),
                exec: function(e) {
                    e.getSelection().selectFileStart()
                },
                multiSelectAction: "forEach",
                readOnly: !0,
                group: "fileJump"
            }, {
                name: "gotostart",
                bindKey: n("Ctrl-Home", "Command-Home|Command-Up"),
                exec: function(e) {
                    e.navigateFileStart()
                },
                multiSelectAction: "forEach",
                readOnly: !0,
                group: "fileJump"
            }, {
                name: "selectup",
                bindKey: n("Shift-Up", "Shift-Up"),
                exec: function(e) {
                    e.getSelection().selectUp()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "golineup",
                bindKey: n("Up", "Up|Ctrl-P"),
                exec: function(e, t) {
                    e.navigateUp(t.times)
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "selecttoend",
                bindKey: n("Ctrl-Shift-End", "Command-Shift-Down"),
                exec: function(e) {
                    e.getSelection().selectFileEnd()
                },
                multiSelectAction: "forEach",
                readOnly: !0,
                group: "fileJump"
            }, {
                name: "gotoend",
                bindKey: n("Ctrl-End", "Command-End|Command-Down"),
                exec: function(e) {
                    e.navigateFileEnd()
                },
                multiSelectAction: "forEach",
                readOnly: !0,
                group: "fileJump"
            }, {
                name: "selectdown",
                bindKey: n("Shift-Down", "Shift-Down"),
                exec: function(e) {
                    e.getSelection().selectDown()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "golinedown",
                bindKey: n("Down", "Down|Ctrl-N"),
                exec: function(e, t) {
                    e.navigateDown(t.times)
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "selectwordleft",
                bindKey: n("Ctrl-Shift-Left", "Option-Shift-Left"),
                exec: function(e) {
                    e.getSelection().selectWordLeft()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "gotowordleft",
                bindKey: n("Ctrl-Left", "Option-Left"),
                exec: function(e) {
                    e.navigateWordLeft()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "selecttolinestart",
                bindKey: n("Alt-Shift-Left", "Command-Shift-Left"),
                exec: function(e) {
                    e.getSelection().selectLineStart()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "gotolinestart",
                bindKey: n("Alt-Left|Home", "Command-Left|Home|Ctrl-A"),
                exec: function(e) {
                    e.navigateLineStart()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "selectleft",
                bindKey: n("Shift-Left", "Shift-Left"),
                exec: function(e) {
                    e.getSelection().selectLeft()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "gotoleft",
                bindKey: n("Left", "Left|Ctrl-B"),
                exec: function(e, t) {
                    e.navigateLeft(t.times)
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "selectwordright",
                bindKey: n("Ctrl-Shift-Right", "Option-Shift-Right"),
                exec: function(e) {
                    e.getSelection().selectWordRight()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "gotowordright",
                bindKey: n("Ctrl-Right", "Option-Right"),
                exec: function(e) {
                    e.navigateWordRight()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "selecttolineend",
                bindKey: n("Alt-Shift-Right", "Command-Shift-Right"),
                exec: function(e) {
                    e.getSelection().selectLineEnd()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "gotolineend",
                bindKey: n("Alt-Right|End", "Command-Right|End|Ctrl-E"),
                exec: function(e) {
                    e.navigateLineEnd()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "selectright",
                bindKey: n("Shift-Right", "Shift-Right"),
                exec: function(e) {
                    e.getSelection().selectRight()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "gotoright",
                bindKey: n("Right", "Right|Ctrl-F"),
                exec: function(e, t) {
                    e.navigateRight(t.times)
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "selectpagedown",
                bindKey: "Shift-PageDown",
                exec: function(e) {
                    e.selectPageDown()
                },
                readOnly: !0
            }, {
                name: "pagedown",
                bindKey: n(null, "Option-PageDown"),
                exec: function(e) {
                    e.scrollPageDown()
                },
                readOnly: !0
            }, {
                name: "gotopagedown",
                bindKey: n("PageDown", "PageDown|Ctrl-V"),
                exec: function(e) {
                    e.gotoPageDown()
                },
                readOnly: !0
            }, {
                name: "selectpageup",
                bindKey: "Shift-PageUp",
                exec: function(e) {
                    e.selectPageUp()
                },
                readOnly: !0
            }, {
                name: "pageup",
                bindKey: n(null, "Option-PageUp"),
                exec: function(e) {
                    e.scrollPageUp()
                },
                readOnly: !0
            }, {
                name: "gotopageup",
                bindKey: "PageUp",
                exec: function(e) {
                    e.gotoPageUp()
                },
                readOnly: !0
            }, {
                name: "scrollup",
                bindKey: n("Ctrl-Up", null),
                exec: function(e) {
                    e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight)
                },
                readOnly: !0
            }, {
                name: "scrolldown",
                bindKey: n("Ctrl-Down", null),
                exec: function(e) {
                    e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight)
                },
                readOnly: !0
            }, {
                name: "selectlinestart",
                bindKey: "Shift-Home",
                exec: function(e) {
                    e.getSelection().selectLineStart()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "selectlineend",
                bindKey: "Shift-End",
                exec: function(e) {
                    e.getSelection().selectLineEnd()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "togglerecording",
                bindKey: n("Ctrl-Alt-E", "Command-Option-E"),
                exec: function(e) {
                    e.commands.toggleRecording(e)
                },
                readOnly: !0
            }, {
                name: "replaymacro",
                bindKey: n("Ctrl-Shift-E", "Command-Shift-E"),
                exec: function(e) {
                    e.commands.replay(e)
                },
                readOnly: !0
            }, {
                name: "jumptomatching",
                bindKey: n("Ctrl-P", "Ctrl-Shift-P"),
                exec: function(e) {
                    e.jumpToMatching()
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "selecttomatching",
                bindKey: n("Ctrl-Shift-P", null),
                exec: function(e) {
                    e.jumpToMatching(!0)
                },
                multiSelectAction: "forEach",
                readOnly: !0
            }, {
                name: "cut",
                exec: function(e) {
                    var t = e.getSelectionRange();
                    e._emit("cut", t),
                    e.selection.isEmpty() || (e.session.remove(t),
                    e.clearSelection())
                },
                multiSelectAction: "forEach"
            }, {
                name: "removeline",
                bindKey: n("Ctrl-D", "Command-D"),
                exec: function(e) {
                    e.removeLines()
                },
                multiSelectAction: "forEachLine"
            }, {
                name: "duplicateSelection",
                bindKey: n("Ctrl-Shift-D", "Command-Shift-D"),
                exec: function(e) {
                    e.duplicateSelection()
                },
                multiSelectAction: "forEach"
            }, {
                name: "sortlines",
                bindKey: n("Ctrl-Alt-S", "Command-Alt-S"),
                exec: function(e) {
                    e.sortLines()
                },
                multiSelectAction: "forEachLine"
            }, {
                name: "togglecomment",
                bindKey: n("Ctrl-/", "Command-/"),
                exec: function(e) {
                    e.toggleCommentLines()
                },
                multiSelectAction: "forEachLine"
            }, {
                name: "numpadtogglecomment",
                bindKey: n("Ctrl-Numpad/"),
                exec: function(e) {
                    e.toggleCommentLines()
                },
                multiSelectAction: "forEachLine"
            }, {
                name: "toggleBlockComment",
                bindKey: n("Ctrl-Shift-/", "Command-Shift-/"),
                exec: function(e) {
                    e.toggleBlockComment()
                },
                multiSelectAction: "forEach"
            }, {
                name: "modifyNumberUp",
                bindKey: n("Ctrl-Shift-Up", "Alt-Shift-Up"),
                exec: function(e) {
                    e.modifyNumber(1)
                },
                multiSelectAction: "forEach"
            }, {
                name: "modifyNumberDown",
                bindKey: n("Ctrl-Shift-Down", "Alt-Shift-Down"),
                exec: function(e) {
                    e.modifyNumber(-1)
                },
                multiSelectAction: "forEach"
            }, {
                name: "replace",
                bindKey: n("Ctrl-H", "Command-Option-F"),
                exec: function(e) {
                    s.loadModule("ace/ext/searchbox", function(t) {
                        t.Search(e, !0)
                    })
                }
            }, {
                name: "undo",
                bindKey: n("Ctrl-Z", "Command-Z"),
                exec: function(e) {
                    e.undo()
                }
            }, {
                name: "redo",
                bindKey: n("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"),
                exec: function(e) {
                    e.redo()
                }
            }, {
                name: "copylinesup",
                bindKey: n("Alt-Shift-Up", "Command-Option-Up"),
                exec: function(e) {
                    e.copyLinesUp()
                }
            }, {
                name: "movelinesup",
                bindKey: n("Alt-Up", "Option-Up"),
                exec: function(e) {
                    e.moveLinesUp()
                }
            }, {
                name: "copylinesdown",
                bindKey: n("Alt-Shift-Down", "Command-Option-Down"),
                exec: function(e) {
                    e.copyLinesDown()
                }
            }, {
                name: "movelinesdown",
                bindKey: n("Alt-Down", "Option-Down"),
                exec: function(e) {
                    e.moveLinesDown()
                }
            }, {
                name: "del",
                bindKey: n("Delete", "Delete|Ctrl-D|Shift-Delete"),
                exec: function(e) {
                    e.remove("right")
                },
                multiSelectAction: "forEach"
            }, {
                name: "backspace",
                bindKey: n("Shift-Backspace|Backspace", "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
                exec: function(e) {
                    e.remove("left")
                },
                multiSelectAction: "forEach"
            }, {
                name: "cut_or_delete",
                bindKey: n("Shift-Delete", null),
                exec: function(e) {
                    if (!e.selection.isEmpty())
                        return !1;
                    e.remove("left")
                },
                multiSelectAction: "forEach"
            }, {
                name: "removetolinestart",
                bindKey: n("Alt-Backspace", "Command-Backspace"),
                exec: function(e) {
                    e.removeToLineStart()
                },
                multiSelectAction: "forEach"
            }, {
                name: "removetolineend",
                bindKey: n("Alt-Delete", "Ctrl-K"),
                exec: function(e) {
                    e.removeToLineEnd()
                },
                multiSelectAction: "forEach"
            }, {
                name: "removewordleft",
                bindKey: n("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"),
                exec: function(e) {
                    e.removeWordLeft()
                },
                multiSelectAction: "forEach"
            }, {
                name: "removewordright",
                bindKey: n("Ctrl-Delete", "Alt-Delete"),
                exec: function(e) {
                    e.removeWordRight()
                },
                multiSelectAction: "forEach"
            }, {
                name: "outdent",
                bindKey: n("Shift-Tab", "Shift-Tab"),
                exec: function(e) {
                    e.blockOutdent()
                },
                multiSelectAction: "forEach"
            }, {
                name: "indent",
                bindKey: n("Tab", "Tab"),
                exec: function(e) {
                    e.indent()
                },
                multiSelectAction: "forEach"
            }, {
                name: "blockoutdent",
                bindKey: n("Ctrl-[", "Ctrl-["),
                exec: function(e) {
                    e.blockOutdent()
                },
                multiSelectAction: "forEachLine"
            }, {
                name: "blockindent",
                bindKey: n("Ctrl-]", "Ctrl-]"),
                exec: function(e) {
                    e.blockIndent()
                },
                multiSelectAction: "forEachLine"
            }, {
                name: "insertstring",
                exec: function(e, t) {
                    e.insert(t)
                },
                multiSelectAction: "forEach"
            }, {
                name: "inserttext",
                exec: function(e, t) {
                    e.insert(o.stringRepeat(t.text || "", t.times || 1))
                },
                multiSelectAction: "forEach"
            }, {
                name: "splitline",
                bindKey: n(null, "Ctrl-O"),
                exec: function(e) {
                    e.splitLine()
                },
                multiSelectAction: "forEach"
            }, {
                name: "transposeletters",
                bindKey: n("Ctrl-T", "Ctrl-T"),
                exec: function(e) {
                    e.transposeLetters()
                },
                multiSelectAction: function(e) {
                    e.transposeSelections(1)
                }
            }, {
                name: "touppercase",
                bindKey: n("Ctrl-U", "Ctrl-U"),
                exec: function(e) {
                    e.toUpperCase()
                },
                multiSelectAction: "forEach"
            }, {
                name: "tolowercase",
                bindKey: n("Ctrl-Shift-U", "Ctrl-Shift-U"),
                exec: function(e) {
                    e.toLowerCase()
                },
                multiSelectAction: "forEach"
            }]
        }),
        define("ace/undomanager", ["require", "exports", "module"], function(e, t, i) {
            var n = function() {
                this.reset()
            };
            (function() {
                this.execute = function(e) {
                    var t = e.args[0];
                    this.$doc = e.args[1],
                    e.merge && this.hasUndo() && (t = this.$undoStack.pop().concat(t)),
                    this.$undoStack.push(t),
                    this.$redoStack = [],
                    this.dirtyCounter < 0 && (this.dirtyCounter = NaN),
                    this.dirtyCounter++
                }
                ,
                this.undo = function(e) {
                    var t = this.$undoStack.pop()
                      , i = null;
                    return t && (i = this.$doc.undoChanges(t, e),
                    this.$redoStack.push(t),
                    this.dirtyCounter--),
                    i
                }
                ,
                this.redo = function(e) {
                    var t = this.$redoStack.pop()
                      , i = null;
                    return t && (i = this.$doc.redoChanges(t, e),
                    this.$undoStack.push(t),
                    this.dirtyCounter++),
                    i
                }
                ,
                this.reset = function() {
                    this.$undoStack = [],
                    this.$redoStack = [],
                    this.dirtyCounter = 0
                }
                ,
                this.hasUndo = function() {
                    return this.$undoStack.length > 0
                }
                ,
                this.hasRedo = function() {
                    return this.$redoStack.length > 0
                }
                ,
                this.markClean = function() {
                    this.dirtyCounter = 0
                }
                ,
                this.isClean = function() {
                    return 0 === this.dirtyCounter
                }
            }
            ).call(n.prototype),
            t.UndoManager = n
        }),
        define("ace/virtual_renderer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/useragent", "ace/config", "ace/layer/gutter", "ace/layer/marker", "ace/layer/text", "ace/layer/cursor", "ace/scrollbar", "ace/renderloop", "ace/lib/event_emitter"], function(e, t, i) {
            var n, o = e("./lib/oop"), s = e("./lib/dom"), r = (e("./lib/useragent"),
            e("./config")), a = e("./layer/gutter").Gutter, l = e("./layer/marker").Marker, c = e("./layer/text").Text, d = e("./layer/cursor").Cursor, h = e("./scrollbar").ScrollBarH, u = e("./scrollbar").ScrollBarV, p = e("./renderloop").RenderLoop, f = e("./lib/event_emitter").EventEmitter;
            s.importCssString('.ace_editor{\tposition:relative;\toverflow:hidden;\tfont-family:"Monaco","Menlo","Ubuntu Mono","Consolas","source-code-pro",monospace;\tfont-size:12px;\tline-height:normal;\tcolor:black;\t-ms-user-select:none;\t-moz-user-select:none;\t-webkit-user-select:none;\tuser-select:none\t}\t.ace_scroller{\tposition:absolute;\toverflow:hidden;\ttop:0;\tbottom:0;\tbackground-color:inherit\t}\t.ace_content{\tposition:absolute;\t-moz-box-sizing:border-box;\t-webkit-box-sizing:border-box;\tbox-sizing:border-box;\tcursor:text\t}\t.ace_dragging,.ace_dragging *{\tcursor:move!important\t}\t.ace_dragging .ace_scroller:before{\tposition:absolute;\ttop:0;\tleft:0;\tright:0;\tbottom:0;\tcontent:"";\tbackground:rgba(250,250,250,0.01);\tz-index:1000\t}\t.ace_dragging.ace_dark .ace_scroller:before{\tbackground:rgba(0,0,0,0.01)\t}\t.ace_selecting,.ace_selecting *{\tcursor:text!important\t}\t.ace_gutter{\tposition:absolute;\toverflow:hidden;\twidth:auto;\ttop:0;\tbottom:0;\tleft:0;\tcursor:default;\tz-index:4\t}\t.ace_gutter-active-line{\tposition:absolute;\tleft:0;\tright:0\t}\t.ace_scroller.ace_scroll-left{\tbox-shadow:17px 0 16px -16px rgba(0,0,0,0.4) inset\t}\t.ace_gutter-cell{\tpadding-left:19px;\tpadding-right:6px;\tbackground-repeat:no-repeat\t}\t.ace_gutter-cell.ace_error{\tbackground-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABIFBMVEX///////////8wFAYwFAYwFAYwFAYwFAYwFAYwFAY5HhEwFAYwFAYwFAYwFAYwFAYwFAYwFAYwFAYwFAYwFAYwFAYwFAYwFAYwFAYwFAYwFAYwFAYwFAYwFAbxQB3RPBrdRyb/QRvUPRvkPRz/Pxv/SiXjQiD/RSH/RB7/SCP/Qhz/TyvdNhj/QBrfOx3/Ui79Tir+SyjbNRf/Uy7/VC//UC3bPx/oaE7gUzfmaE7DRym8MBK5LxK6MROxKBC4Oh+xJw68QymvKBCxKhK4Qie2PyazOSGmMxazPiSbMBKWGAeUGAbXurfbvbnewLvdwL3kzMjZurfav7vewr/r2NXm1tPbvrvew8Dp2tjfwb36+vr9/f3s4uHu5+bx6ejy6umWZuc7AAAAWnRSTlMAExo9PkGJi46YoLm6u77AwsXHysvMzdDS1NXW19ja3N7f39/g4ODg4ODg4eHh4eLi4uLi4uPj5ebn6Ovs7O7u7u7v7/Dw8fHx9Pb2/f39/v7+/v7+/v7+/v4b/ITwAAAAs0lEQVR4AWXPyQ7CIBSF4cNtKdYKxiEOT+D7v41uXBmtiVNxTIFikbjRP2f1JXdx8VvaLsngEQbjXICpejqE8vsugODF9OFAHbHMs5oAymVvPiA5lAvP0AIzNTp8IIRjiOB32qqx1NU6AtHrckstNfsXRbBcpSZpxJjbeFLMZKGPtqvmvQhQhdabsskkKAAlx6oqL+XmvKo/cBJuq+VE6cOofwUDOB/Bf77xlTFoY/SN4b83yoZEHsRy74kAAAAASUVORK5CYII=);\tbackground-repeat:no-repeat;\tbackground-position:2px center\t}\t.ace_gutter-cell.ace_warning{\tbackground-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAilBMVEX///////8AAAAAAAB/blH/tFIAAAAAAAAAAAAAAAAAAAA9NirGrV7/oED/qTv/tkL/yHD85pn/73wAAAAAAAAAAAAAAAAAAAACAgOynXH/njferGb/pkThrnX/p07iuWf/tlT/ulne0Iv/zHD///8AAAAAAAAICActIRVPSzb/nz//oTj/rkD/vGxbkjliAAAALnRSTlMAFHebwt00O0qf/qzs5Nna4evnFDJWdZ2dztrk6OLk5eff3+cQSZKh+7Ti3d7lnoZffAAAAHtJREFUGBmNwFUWgkAABdDnBBkTdKcZ+9+eoHLgk4ujrIuFPeOuXAM7yaAHgo3FtKfZGavwqjzHU1mIvzjvW6ft8xg/pjsK6Ugxuga+svoVcMkDUSdYmKwLCn7jxbNjJmakrHy/eTcPvyoJZhGxbUpTSlObRFhMp9WEIz6TnAdnwoX6lAAAAABJRU5ErkJggg==);\tbackground-position:2px center\t}\t.ace_gutter-cell.ace_info{\tbackground-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAAnRSTlMAAHaTzTgAAAA9SURBVHgBYyABvELjt7Yi854wMKSk4Dcg2zHoMIrAh2VBE1GVdGajqrgaV49q7Z6UiU9QBJ50Zi9joBoAACCpEUE94QCRAAAAAElFTkSuQmCC);\tbackground-position:2px center\t}\t.ace_dark .ace_gutter-cell.ace_info{\tbackground-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAAnRSTlMAAHaTzTgAAAAzSURBVHgBY6AAVFWhCcyejV/DlH1rbVBFItfmoQrkTUFVobWwAVWBzew8dGdMiWSgGgAA/2QLD7KZxGUAAAAASUVORK5CYII=)\t}\t.ace_scrollbar{\tposition:absolute;\toverflow-x:hidden;\toverflow-y:auto;\tright:0;\ttop:0;\tbottom:0;\tz-index:6\t}\t.ace_scrollbar-inner{\tposition:absolute;\tcursor:text;\tleft:0;\ttop:0\t}\t.ace_scrollbar-h{\tposition:absolute;\toverflow-x:auto;\toverflow-y:hidden;\tright:0;\tleft:0;\tbottom:0;\tz-index:6\t}\t.ace_print-margin{\tposition:absolute;\theight:100%\t}\t.ace_text-input{\tposition:absolute;\tz-index:0;\twidth:.5em;\theight:1em;\topacity:0;\tbackground:transparent;\t-moz-appearance:none;\tappearance:none;\tborder:0;\tresize:none;\toutline:0;\toverflow:hidden;\tfont:inherit;\tpadding:0 1px;\tmargin:0 -1px;\ttext-indent:-1em\t}\t.ace_text-input.ace_composition{\tbackground:#f8f8f8;\tcolor:#111;\tz-index:1000;\topacity:1;\ttext-indent:0\t}\t.ace_layer{\tz-index:1;\tposition:absolute;\toverflow:hidden;\twhite-space:nowrap;\theight:100%;\twidth:100%;\t-moz-box-sizing:border-box;\t-webkit-box-sizing:border-box;\tbox-sizing:border-box;\tpointer-events:none\t}\t.ace_gutter-layer{\tposition:relative;\twidth:auto;\ttext-align:right;\tpointer-events:auto\t}\t.ace_text-layer{\tfont:inherit!important\t}\t.ace_cjk{\tdisplay:inline-block;\ttext-align:center\t}\t.ace_cursor-layer{\tz-index:4\t}\t.ace_cursor{\tz-index:4;\tposition:absolute;\t-moz-box-sizing:border-box;\t-webkit-box-sizing:border-box;\tbox-sizing:border-box;\tborder-left:2px solid\t}\t.ace_slim-cursors .ace_cursor{\tborder-left-width:1px\t}\t.ace_overwrite-cursors .ace_cursor{\tborder-left-width:0;\tborder-bottom:1px solid\t}\t.ace_hidden-cursors .ace_cursor{\topacity:.2\t}\t.ace_smooth-blinking .ace_cursor{\t-moz-transition:opacity .18s;\t-webkit-transition:opacity .18s;\t-o-transition:opacity .18s;\t-ms-transition:opacity .18s;\ttransition:opacity .18s\t}\t.ace_cursor[style*="opacity: 0"]{\t-ms-filter:"alpha(opacity=0)"\t}\t.ace_editor.ace_multiselect .ace_cursor{\tborder-left-width:1px\t}\t.ace_line{\twhite-space:nowrap\t}\t.ace_marker-layer .ace_step,.ace_marker-layer .ace_stack{\tposition:absolute;\tz-index:3\t}\t.ace_marker-layer .ace_selection{\tposition:absolute;\tz-index:5\t}\t.ace_marker-layer .ace_bracket{\tposition:absolute;\tz-index:6\t}\t.ace_marker-layer .ace-sel{\tposition:absolute;\tz-index:6\t}\t.ace_marker-layer .ace_active-line{\tposition:absolute;\tz-index:2\t}\t.ace_marker-layer .ace_selected-word{\tposition:absolute;\tz-index:4;\t-moz-box-sizing:border-box;\t-webkit-box-sizing:border-box;\tbox-sizing:border-box\t}\t.ace_line .ace_fold{\t-moz-box-sizing:border-box;\t-webkit-box-sizing:border-box;\tbox-sizing:border-box;\tdisplay:inline-block;\theight:11px;\tmargin-top:-2px;\tvertical-align:middle;\tbackground-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAXUlEQVR4AWOgNpAFYiMQTYY6hMT////zwQrwADR1sugG5AGxB4hNCIPUgdTDDYIK5gCxIxTnEMYItSD9yC6xAmHCLkGoxeUlY4QEJo1DHQJgUZiPjSY6FvG7BBMAAJZDb+i4x++HAAAAAElFTkSuQmCC),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAIElEQVR42mP5//9/GAsDA8MHEPEPTvxFJf5h4TIMUwIAYcAOCd4+xMwAAAAASUVORK5CYII=);\tbackground-repeat:no-repeat,repeat-x;\tbackground-position:center center,top left;\tcolor:transparent;\tborder:1px solid black;\t-moz-border-radius:2px;\t-webkit-border-radius:2px;\tborder-radius:2px;\tcursor:pointer;\tpointer-events:auto\t}\t.ace_fold:hover{\tbackground-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAXUlEQVR4AWOgNpAFYiMQTYY6hMT////zwQrwADR1sugG5AGxB4hNCIPUgdTDDYIK5gCxIxTnEMYItSD9yC6xAmHCLkGoxeUlY4QEJo1DHQJgUZiPjSY6FvG7BBMAAJZDb+i4x++HAAAAAElFTkSuQmCC),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAHUlEQVR42mP5//9/PgsDA8NnEPEPlfiLl8swTAkAgiMOKCts9QgAAAAASUVORK5CYII=);\tbackground-repeat:no-repeat,repeat-x;\tbackground-position:center center,top left\t}\t.ace_gutter-tooltip{\tbackground-color:#FFF;\tbackground-image:-webkit-linear-gradient(top,transparent,rgba(0,0,0,0.1));\tbackground-image:linear-gradient(to bottom,transparent,rgba(0,0,0,0.1));\tborder:1px solid gray;\tborder-radius:1px;\tbox-shadow:0 1px 2px rgba(0,0,0,0.3);\tcolor:black;\tdisplay:inline-block;\tmax-width:500px;\tpadding:4px;\tposition:fixed;\tz-index:999999;\t-moz-box-sizing:border-box;\t-webkit-box-sizing:border-box;\tbox-sizing:border-box;\tcursor:default;\twhite-space:pre-line;\tword-wrap:break-word;\tline-height:normal;\tfont-style:normal;\tfont-weight:normal;\tletter-spacing:normal\t}\t.ace_folding-enabled>.ace_gutter-cell{\tpadding-right:13px\t}\t.ace_fold-widget{\t-moz-box-sizing:border-box;\t-webkit-box-sizing:border-box;\tbox-sizing:border-box;\tmargin:0 -12px 0 1px;\tdisplay:none;\twidth:11px;\tvertical-align:top;\tbackground-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAKElEQVR4AWPABhhTU1P/Y4i+f/++IT8//z8Mg/hwiaysLJgAAiALAACvBBvS/JracgAAAABJRU5ErkJggg==);\tbackground-repeat:no-repeat;\tbackground-position:center;\tborder-radius:3px;\tborder:1px solid transparent;\tcursor:pointer\t}\t.ace_folding-enabled .ace_fold-widget{\tdisplay:inline-block\t}\t.ace_fold-widget.ace_end{\tbackground-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAALklEQVR4AWOAgYqKiv8MyKC0tPR/U1PTfyANkSgoKPhfW1sLxyA+C1BFIwMxAAC4hxe05Je4cgAAAABJRU5ErkJggg==)\t}\t.ace_fold-widget.ace_closed{\tbackground-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAQAAACs7OyHAAAAJ0lEQVR4AWNI/c8AAoX/U4AMxjwg8ZmBMRtItTQypP9/3wCUAxMMACKsDU2LGFPZAAAAAElFTkSuQmCC)\t}\t.ace_fold-widget:hover{\tborder:1px solid rgba(0,0,0,0.3);\tbackground-color:rgba(255,255,255,0.2);\t-moz-box-shadow:0 1px 1px rgba(255,255,255,0.7);\t-webkit-box-shadow:0 1px 1px rgba(255,255,255,0.7);\tbox-shadow:0 1px 1px rgba(255,255,255,0.7)\t}\t.ace_fold-widget:active{\tborder:1px solid rgba(0,0,0,0.4);\tbackground-color:rgba(0,0,0,0.05);\t-moz-box-shadow:0 1px 1px rgba(255,255,255,0.8);\t-webkit-box-shadow:0 1px 1px rgba(255,255,255,0.8);\tbox-shadow:0 1px 1px rgba(255,255,255,0.8)\t}\t.ace_dark .ace_fold-widget{\tbackground-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAF0lEQVR4AWPACv7//++AjjEkMHQw4AMAFP8dJiRMo7AAAAAASUVORK5CYII=)\t}\t.ace_dark .ace_fold-widget.ace_end{\tbackground-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAGUlEQVR4AWOAgf///zuAaBQBGEYXQEgQDQBZAB0mvK70VAAAAABJRU5ErkJggg==)\t}\t.ace_dark .ace_fold-widget.ace_closed{\tbackground-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAGElEQVR4AWP4//+/AwMUgDkwAUacMih6ACnkFq1qzGIkAAAAAElFTkSuQmCC)\t}\t.ace_dark .ace_fold-widget:hover{\tbox-shadow:0 1px 1px rgba(255,255,255,0.2);\tbackground-color:rgba(255,255,255,0.1)\t}\t.ace_dark .ace_fold-widget:active{\t-moz-box-shadow:0 1px 1px rgba(255,255,255,0.2);\t-webkit-box-shadow:0 1px 1px rgba(255,255,255,0.2);\tbox-shadow:0 1px 1px rgba(255,255,255,0.2)\t}\t.ace_fold-widget.ace_invalid{\tbackground-color:#ffb4b4;\tborder-color:#de5555\t}\t.ace_fade-fold-widgets .ace_fold-widget{\t-moz-transition:opacity .4s ease .05s;\t-webkit-transition:opacity .4s ease .05s;\t-o-transition:opacity .4s ease .05s;\t-ms-transition:opacity .4s ease .05s;\ttransition:opacity .4s ease .05s;\topacity:0\t}\t.ace_fade-fold-widgets:hover .ace_fold-widget{\t-moz-transition:opacity .05s ease .05s;\t-webkit-transition:opacity .05s ease .05s;\t-o-transition:opacity .05s ease .05s;\t-ms-transition:opacity .05s ease .05s;\ttransition:opacity .05s ease .05s;\topacity:1\t}\t.ace_underline{\ttext-decoration:underline\t}\t.ace_bold{\tfont-weight:bold\t}\t.ace_nobold .ace_bold{\tfont-weight:normal\t}\t.ace_italic{\tfont-style:italic\t}\t.ace_error-marker{\tbackground-color:rgba(255,0,0,0.2);\tposition:absolute;\tz-index:9\t}\t.ace_highlight-marker{\tbackground-color:rgba(255,255,0,0.2);\tposition:absolute;\tz-index:8\t}', "ace_editor"),
            n = function(e, t) {
                var i, n = this;
                this.container = e || s.createElement("div"),
                this.$keepTextAreaAtCursor = !0,
                s.addCssClass(this.container, "ace_editor"),
                this.setTheme(t),
                this.$gutter = s.createElement("div"),
                this.$gutter.className = "ace_gutter",
                this.container.appendChild(this.$gutter),
                this.scroller = s.createElement("div"),
                this.scroller.className = "ace_scroller",
                this.container.appendChild(this.scroller),
                this.content = s.createElement("div"),
                this.content.className = "ace_content",
                this.scroller.appendChild(this.content),
                this.$gutterLayer = new a(this.$gutter),
                this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this)),
                this.$markerBack = new l(this.content),
                i = this.$textLayer = new c(this.content),
                this.canvas = i.element,
                this.$markerFront = new l(this.content),
                this.$cursorLayer = new d(this.content),
                this.$horizScroll = !1,
                this.$vScroll = !1,
                this.scrollBar = this.scrollBarV = new u(this.container,this),
                this.scrollBarH = new h(this.container,this),
                this.scrollBarV.addEventListener("scroll", function(e) {
                    n.$scrollAnimation || n.session.setScrollTop(e.data - n.scrollMargin.top)
                }),
                this.scrollBarH.addEventListener("scroll", function(e) {
                    n.$scrollAnimation || n.session.setScrollLeft(e.data - n.scrollMargin.left)
                }),
                this.scrollTop = 0,
                this.scrollLeft = 0,
                this.cursorPos = {
                    row: 0,
                    column: 0
                },
                this.$textLayer.addEventListener("changeCharacterSize", function() {
                    n.updateCharacterSize(),
                    n.onResize(!0),
                    n._signal("changeCharacterSize")
                }),
                this.$size = {
                    width: 0,
                    height: 0,
                    scrollerHeight: 0,
                    scrollerWidth: 0
                },
                this.layerConfig = {
                    width: 1,
                    padding: 0,
                    firstRow: 0,
                    firstRowScreen: 0,
                    lastRow: 0,
                    lineHeight: 0,
                    characterWidth: 0,
                    minHeight: 1,
                    maxHeight: 1,
                    offset: 0,
                    height: 1
                },
                this.scrollMargin = {
                    left: 0,
                    right: 0,
                    top: 0,
                    bottom: 0,
                    v: 0,
                    h: 0
                },
                this.$loop = new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),
                this.$loop.schedule(this.CHANGE_FULL),
                this.updateCharacterSize(),
                this.setPadding(4),
                r.resetOptions(this),
                r._emit("renderer", this)
            }
            ,
            function() {
                this.CHANGE_CURSOR = 1,
                this.CHANGE_MARKER = 2,
                this.CHANGE_GUTTER = 4,
                this.CHANGE_SCROLL = 8,
                this.CHANGE_LINES = 16,
                this.CHANGE_TEXT = 32,
                this.CHANGE_SIZE = 64,
                this.CHANGE_MARKER_BACK = 128,
                this.CHANGE_MARKER_FRONT = 256,
                this.CHANGE_FULL = 512,
                this.CHANGE_H_SCROLL = 1024,
                o.implement(this, f),
                this.updateCharacterSize = function() {
                    this.$textLayer.allowBoldFonts != this.$allowBoldFonts && (this.$allowBoldFonts = this.$textLayer.allowBoldFonts,
                    this.setStyle("ace_nobold", !this.$allowBoldFonts)),
                    this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth(),
                    this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight(),
                    this.$updatePrintMargin()
                }
                ,
                this.setSession = function(e) {
                    this.session = e,
                    this.scroller.className = "ace_scroller",
                    this.$cursorLayer.setSession(e),
                    this.$markerBack.setSession(e),
                    this.$markerFront.setSession(e),
                    this.$gutterLayer.setSession(e),
                    this.$textLayer.setSession(e),
                    this.$loop.schedule(this.CHANGE_FULL)
                }
                ,
                this.updateLines = function(e, t) {
                    void 0 === t && (t = 1 / 0),
                    this.$changedLines ? (this.$changedLines.firstRow > e && (this.$changedLines.firstRow = e),
                    this.$changedLines.lastRow < t && (this.$changedLines.lastRow = t)) : this.$changedLines = {
                        firstRow: e,
                        lastRow: t
                    },
                    this.$changedLines.firstRow > this.layerConfig.lastRow || this.$changedLines.lastRow < this.layerConfig.firstRow || this.$loop.schedule(this.CHANGE_LINES)
                }
                ,
                this.onChangeTabSize = function() {
                    this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER),
                    this.$textLayer.onChangeTabSize()
                }
                ,
                this.updateText = function() {
                    this.$loop.schedule(this.CHANGE_TEXT)
                }
                ,
                this.updateFull = function(e) {
                    e ? this.$renderChanges(this.CHANGE_FULL, !0) : this.$loop.schedule(this.CHANGE_FULL)
                }
                ,
                this.updateFontSize = function() {
                    this.$textLayer.checkForSizeChanges()
                }
                ,
                this.$changes = 0,
                this.onResize = function(e, t, i, n) {
                    var o, s;
                    if (!(this.resizing > 2)) {
                        if (this.resizing > 0 ? this.resizing++ : this.resizing = e ? 1 : 0,
                        o = this.container,
                        n || (n = o.clientHeight || o.scrollHeight),
                        i || (i = o.clientWidth || o.scrollWidth),
                        s = this.$updateCachedSize(e, t, i, n),
                        !this.$size.scrollerHeight || !i && !n)
                            return this.resizing = 0;
                        e && (this.$gutterLayer.$padding = null),
                        e ? this.$renderChanges(s, !0) : this.$loop.schedule(s | this.$changes),
                        this.resizing && (this.resizing = 0)
                    }
                }
                ,
                this.$updateCachedSize = function(e, t, i, n) {
                    var o = 0
                      , s = this.$size
                      , r = {
                        width: s.width,
                        height: s.height,
                        scrollerHeight: s.scrollerHeight,
                        scrollerWidth: s.scrollerWidth
                    };
                    return n && (e || s.height != n) && (s.height = n,
                    o = this.CHANGE_SIZE,
                    s.scrollerHeight = s.height,
                    this.$horizScroll && (s.scrollerHeight -= this.scrollBarH.getHeight()),
                    this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px",
                    this.session && (this.session.setScrollTop(this.getScrollTop()),
                    o |= this.CHANGE_SCROLL)),
                    i && (e || s.width != i) && (o = this.CHANGE_SIZE,
                    s.width = i,
                    null == t && (t = this.$showGutter ? this.$gutter.offsetWidth : 0),
                    this.gutterWidth = t,
                    this.scrollBarH.element.style.left = this.scroller.style.left = t + "px",
                    s.scrollerWidth = Math.max(0, i - t - this.scrollBarV.getWidth()),
                    this.scrollBarH.element.style.right = this.scroller.style.right = this.scrollBarV.getWidth() + "px",
                    this.scroller.style.bottom = this.scrollBarH.getHeight() + "px",
                    (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || e) && (o |= this.CHANGE_FULL)),
                    o && this._signal("resize", r),
                    o
                }
                ,
                this.onGutterResize = function() {
                    var e = this.$showGutter ? this.$gutter.offsetWidth : 0;
                    e != this.gutterWidth && (this.$changes |= this.$updateCachedSize(!0, e, this.$size.width, this.$size.height)),
                    this.session.getUseWrapMode() && this.adjustWrapLimit() ? this.$loop.schedule(this.CHANGE_FULL) : (this.$computeLayerConfig(),
                    this.$loop.schedule(this.CHANGE_MARKER))
                }
                ,
                this.adjustWrapLimit = function() {
                    var e = this.$size.scrollerWidth - 2 * this.$padding
                      , t = Math.floor(e / this.characterWidth);
                    return this.session.adjustWrapLimit(t, this.$showPrintMargin && this.$printMarginColumn)
                }
                ,
                this.setAnimatedScroll = function(e) {
                    this.setOption("animatedScroll", e)
                }
                ,
                this.getAnimatedScroll = function() {
                    return this.$animatedScroll
                }
                ,
                this.setShowInvisibles = function(e) {
                    this.setOption("showInvisibles", e)
                }
                ,
                this.getShowInvisibles = function() {
                    return this.getOption("showInvisibles")
                }
                ,
                this.getDisplayIndentGuides = function() {
                    return this.getOption("displayIndentGuides")
                }
                ,
                this.setDisplayIndentGuides = function(e) {
                    this.setOption("displayIndentGuides", e)
                }
                ,
                this.setShowPrintMargin = function(e) {
                    this.setOption("showPrintMargin", e)
                }
                ,
                this.getShowPrintMargin = function() {
                    return this.getOption("showPrintMargin")
                }
                ,
                this.setPrintMarginColumn = function(e) {
                    this.setOption("printMarginColumn", e)
                }
                ,
                this.getPrintMarginColumn = function() {
                    return this.getOption("printMarginColumn")
                }
                ,
                this.getShowGutter = function() {
                    return this.getOption("showGutter")
                }
                ,
                this.setShowGutter = function(e) {
                    return this.setOption("showGutter", e)
                }
                ,
                this.getFadeFoldWidgets = function() {
                    return this.getOption("fadeFoldWidgets")
                }
                ,
                this.setFadeFoldWidgets = function(e) {
                    this.setOption("fadeFoldWidgets", e)
                }
                ,
                this.setHighlightGutterLine = function(e) {
                    this.setOption("highlightGutterLine", e)
                }
                ,
                this.getHighlightGutterLine = function() {
                    return this.getOption("highlightGutterLine")
                }
                ,
                this.$updateGutterLineHighlight = function() {
                    var e, t = this.$cursorLayer.$pixelPos, i = this.layerConfig.lineHeight;
                    this.session.getUseWrapMode() && (e = this.session.selection.getCursor(),
                    e.column = 0,
                    t = this.$cursorLayer.getPixelPosition(e, !0),
                    i *= this.session.getRowLength(e.row)),
                    this.$gutterLineHighlight.style.top = t.top - this.layerConfig.offset + "px",
                    this.$gutterLineHighlight.style.height = i + "px"
                }
                ,
                this.$updatePrintMargin = function() {
                    var e, t;
                    (this.$showPrintMargin || this.$printMarginEl) && (this.$printMarginEl || (e = s.createElement("div"),
                    e.className = "ace_layer ace_print-margin-layer",
                    this.$printMarginEl = s.createElement("div"),
                    this.$printMarginEl.className = "ace_print-margin",
                    e.appendChild(this.$printMarginEl),
                    this.content.insertBefore(e, this.content.firstChild)),
                    t = this.$printMarginEl.style,
                    t.left = this.characterWidth * this.$printMarginColumn + this.$padding + "px",
                    t.visibility = this.$showPrintMargin ? "visible" : "hidden",
                    this.session && -1 == this.session.$wrap && this.adjustWrapLimit())
                }
                ,
                this.getContainerElement = function() {
                    return this.container
                }
                ,
                this.getMouseEventTarget = function() {
                    return this.content
                }
                ,
                this.getTextAreaContainer = function() {
                    return this.container
                }
                ,
                this.$moveTextAreaToCursor = function() {
                    var e, t, i, n, o, s;
                    this.$keepTextAreaAtCursor && (e = this.layerConfig,
                    t = this.$cursorLayer.$pixelPos.top,
                    i = this.$cursorLayer.$pixelPos.left,
                    t -= e.offset,
                    n = this.lineHeight,
                    t < 0 || t > e.height - n || (o = this.characterWidth,
                    this.$composition && (s = this.textarea.value.replace(/^\x01+/, ""),
                    o *= this.session.$getStringScreenWidth(s)[0] + 2,
                    n += 2,
                    t -= 1),
                    i -= this.scrollLeft,
                    i > this.$size.scrollerWidth - o && (i = this.$size.scrollerWidth - o),
                    i -= this.scrollBar.width,
                    this.textarea.style.height = n + "px",
                    this.textarea.style.width = o + "px",
                    this.textarea.style.right = Math.max(0, this.$size.scrollerWidth - i - o) + "px",
                    this.textarea.style.bottom = Math.max(0, this.$size.height - t - n) + "px"))
                }
                ,
                this.getFirstVisibleRow = function() {
                    return this.layerConfig.firstRow
                }
                ,
                this.getFirstFullyVisibleRow = function() {
                    return this.layerConfig.firstRow + (0 === this.layerConfig.offset ? 0 : 1)
                }
                ,
                this.getLastFullyVisibleRow = function() {
                    var e = Math.floor((this.layerConfig.height + this.layerConfig.offset) / this.layerConfig.lineHeight);
                    return this.layerConfig.firstRow - 1 + e
                }
                ,
                this.getLastVisibleRow = function() {
                    return this.layerConfig.lastRow
                }
                ,
                this.$padding = null,
                this.setPadding = function(e) {
                    this.$padding = e,
                    this.$textLayer.setPadding(e),
                    this.$cursorLayer.setPadding(e),
                    this.$markerFront.setPadding(e),
                    this.$markerBack.setPadding(e),
                    this.$loop.schedule(this.CHANGE_FULL),
                    this.$updatePrintMargin()
                }
                ,
                this.setScrollMargin = function(e, t, i, n) {
                    var o = this.scrollMargin;
                    o.top = 0 | e,
                    o.bottom = 0 | t,
                    o.right = 0 | n,
                    o.left = 0 | i,
                    o.v = o.top + o.bottom,
                    o.h = o.left + o.right,
                    this.updateFull()
                }
                ,
                this.getHScrollBarAlwaysVisible = function() {
                    return this.$hScrollBarAlwaysVisible
                }
                ,
                this.setHScrollBarAlwaysVisible = function(e) {
                    this.setOption("hScrollBarAlwaysVisible", e)
                }
                ,
                this.getVScrollBarAlwaysVisible = function() {
                    return this.$hScrollBarAlwaysVisible
                }
                ,
                this.setVScrollBarAlwaysVisible = function(e) {
                    this.setOption("vScrollBarAlwaysVisible", e)
                }
                ,
                this.$updateScrollBarV = function() {
                    this.scrollBarV.setInnerHeight(this.layerConfig.maxHeight + this.scrollMargin.v),
                    this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top)
                }
                ,
                this.$updateScrollBarH = function() {
                    this.scrollBarH.setInnerWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h),
                    this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left)
                }
                ,
                this.$renderChanges = function(e, t) {
                    return this.$changes && (e |= this.$changes,
                    this.$changes = 0),
                    this.session && this.container.offsetWidth && (e || t) ? this.$size.width ? (this.lineHeight || this.$textLayer.checkForSizeChanges(),
                    this._signal("beforeRender"),
                    (e & this.CHANGE_FULL || e & this.CHANGE_SIZE || e & this.CHANGE_TEXT || e & this.CHANGE_LINES || e & this.CHANGE_SCROLL || e & this.CHANGE_H_SCROLL) && (e |= this.$computeLayerConfig()),
                    e & this.CHANGE_H_SCROLL && (this.$updateScrollBarH(),
                    this.content.style.marginLeft = -this.scrollLeft + "px",
                    this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller" : "ace_scroller ace_scroll-left"),
                    e & this.CHANGE_FULL ? (this.$updateScrollBarV(),
                    this.$updateScrollBarH(),
                    this.$textLayer.update(this.layerConfig),
                    this.$showGutter && this.$gutterLayer.update(this.layerConfig),
                    this.$markerBack.update(this.layerConfig),
                    this.$markerFront.update(this.layerConfig),
                    this.$cursorLayer.update(this.layerConfig),
                    this.$moveTextAreaToCursor(),
                    this.$highlightGutterLine && this.$updateGutterLineHighlight(),
                    void this._signal("afterRender")) : e & this.CHANGE_SCROLL ? (this.$updateScrollBarV(),
                    e & this.CHANGE_TEXT || e & this.CHANGE_LINES ? this.$textLayer.update(this.layerConfig) : this.$textLayer.scrollLines(this.layerConfig),
                    this.$showGutter && this.$gutterLayer.update(this.layerConfig),
                    this.$markerBack.update(this.layerConfig),
                    this.$markerFront.update(this.layerConfig),
                    this.$cursorLayer.update(this.layerConfig),
                    this.$highlightGutterLine && this.$updateGutterLineHighlight(),
                    this.$moveTextAreaToCursor(),
                    void this._signal("afterRender")) : (e & this.CHANGE_TEXT ? (this.$textLayer.update(this.layerConfig),
                    this.$showGutter && this.$gutterLayer.update(this.layerConfig)) : e & this.CHANGE_LINES ? (this.$updateLines() || e & this.CHANGE_GUTTER && this.$showGutter) && this.$gutterLayer.update(this.layerConfig) : (e & this.CHANGE_TEXT || e & this.CHANGE_GUTTER) && this.$showGutter && this.$gutterLayer.update(this.layerConfig),
                    e & this.CHANGE_CURSOR && (this.$cursorLayer.update(this.layerConfig),
                    this.$moveTextAreaToCursor(),
                    this.$highlightGutterLine && this.$updateGutterLineHighlight()),
                    e & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT) && this.$markerFront.update(this.layerConfig),
                    e & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK) && this.$markerBack.update(this.layerConfig),
                    (e & this.CHANGE_SIZE || e & this.CHANGE_LINES) && (this.$updateScrollBarV(),
                    this.$updateScrollBarH()),
                    void this._signal("afterRender"))) : (this.$changes |= e,
                    this.onResize(!0)) : void (this.$changes |= e)
                }
                ,
                this.$autosize = function(e, t) {
                    var i, n, o, s;
                    e = this.session.getScreenLength() * this.lineHeight,
                    i = this.$maxLines * this.lineHeight,
                    n = Math.max((this.$minLines || 1) * this.lineHeight, Math.min(i, e)),
                    o = e > i,
                    n == this.desiredHeight && this.$size.height == this.desiredHeight && o == this.$vScroll || (o != this.$vScroll && (this.$vScroll = o,
                    this.scrollBarV.setVisible(o)),
                    s = this.container.clientWidth,
                    this.container.style.height = n + "px",
                    this.$updateCachedSize(!0, this.$gutterWidth, s, n),
                    this.desiredHeight = n)
                }
                ,
                this.$computeLayerConfig = function() {
                    var e, t, i, n, o, s, r, a, l, c, d, h, u, p, f, g, m, _, v;
                    return this.$maxLines && this.lineHeight > 1 && this.$autosize(),
                    e = this.session,
                    t = this.$size.height <= 2 * this.lineHeight,
                    i = this.session.getScreenLength(),
                    n = i * this.lineHeight,
                    o = this.scrollTop % this.lineHeight,
                    s = this.$size.scrollerHeight + this.lineHeight,
                    r = this.$getLongestLine(),
                    a = !t && (this.$hScrollBarAlwaysVisible || this.$size.scrollerWidth - r - 2 * this.$padding < 0),
                    l = this.$horizScroll !== a,
                    l && (this.$horizScroll = a,
                    this.scrollBarH.setVisible(a)),
                    !this.$maxLines && this.$scrollPastEnd && this.scrollTop > n - this.$size.scrollerHeight && (n += Math.min((this.$size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd, this.scrollTop - n + this.$size.scrollerHeight)),
                    c = !t && (this.$vScrollBarAlwaysVisible || this.$size.scrollerHeight - n < 0),
                    d = this.$vScroll !== c,
                    d && (this.$vScroll = c,
                    this.scrollBarV.setVisible(c)),
                    this.session.setScrollTop(Math.max(-this.scrollMargin.top, Math.min(this.scrollTop, n - this.$size.scrollerHeight + this.scrollMargin.v))),
                    this.session.setScrollLeft(Math.max(-this.scrollMargin.left, Math.min(this.scrollLeft, r + 2 * this.$padding - this.$size.scrollerWidth + this.scrollMargin.h))),
                    h = Math.ceil(s / this.lineHeight) - 1,
                    u = Math.max(0, Math.round((this.scrollTop - o) / this.lineHeight)),
                    p = u + h,
                    m = this.lineHeight,
                    u = e.screenToDocumentRow(u, 0),
                    _ = e.getFoldLine(u),
                    _ && (u = _.start.row),
                    f = e.documentToScreenRow(u, 0),
                    g = e.getRowLength(u) * m,
                    p = Math.min(e.screenToDocumentRow(p, 0), e.getLength() - 1),
                    s = this.$size.scrollerHeight + e.getRowLength(p) * m + g,
                    o = this.scrollTop - f * m,
                    v = 0,
                    (l || d) && (v = this.$updateCachedSize(!0, this.gutterWidth, this.$size.width, this.$size.height),
                    this._signal("scrollbarVisibilityChanged"),
                    d && (r = this.$getLongestLine())),
                    this.layerConfig = {
                        width: r,
                        padding: this.$padding,
                        firstRow: u,
                        firstRowScreen: f,
                        lastRow: p,
                        lineHeight: m,
                        characterWidth: this.characterWidth,
                        minHeight: s,
                        maxHeight: n,
                        offset: o,
                        height: this.$size.scrollerHeight
                    },
                    this.$gutterLayer.element.style.marginTop = -o + "px",
                    this.content.style.marginTop = -o + "px",
                    this.content.style.width = r + 2 * this.$padding + "px",
                    this.content.style.height = s + "px",
                    v
                }
                ,
                this.$updateLines = function() {
                    var e, t = this.$changedLines.firstRow, i = this.$changedLines.lastRow;
                    if (this.$changedLines = null,
                    e = this.layerConfig,
                    !(t > e.lastRow + 1 || i < e.firstRow))
                        return i === 1 / 0 ? (this.$showGutter && this.$gutterLayer.update(e),
                        void this.$textLayer.update(e)) : (this.$textLayer.updateLines(e, t, i),
                        !0)
                }
                ,
                this.$getLongestLine = function() {
                    var e = this.session.getScreenWidth();
                    return this.showInvisibles && !this.session.$useWrapMode && (e += 1),
                    Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(e * this.characterWidth))
                }
                ,
                this.updateFrontMarkers = function() {
                    this.$markerFront.setMarkers(this.session.getMarkers(!0)),
                    this.$loop.schedule(this.CHANGE_MARKER_FRONT)
                }
                ,
                this.updateBackMarkers = function() {
                    this.$markerBack.setMarkers(this.session.getMarkers()),
                    this.$loop.schedule(this.CHANGE_MARKER_BACK)
                }
                ,
                this.addGutterDecoration = function(e, t) {
                    this.$gutterLayer.addGutterDecoration(e, t)
                }
                ,
                this.removeGutterDecoration = function(e, t) {
                    this.$gutterLayer.removeGutterDecoration(e, t)
                }
                ,
                this.updateBreakpoints = function(e) {
                    this.$loop.schedule(this.CHANGE_GUTTER)
                }
                ,
                this.setAnnotations = function(e) {
                    this.$gutterLayer.setAnnotations(e),
                    this.$loop.schedule(this.CHANGE_GUTTER)
                }
                ,
                this.updateCursor = function() {
                    this.$loop.schedule(this.CHANGE_CURSOR)
                }
                ,
                this.hideCursor = function() {
                    this.$cursorLayer.hideCursor()
                }
                ,
                this.showCursor = function() {
                    this.$cursorLayer.showCursor()
                }
                ,
                this.scrollSelectionIntoView = function(e, t, i) {
                    this.scrollCursorIntoView(e, i),
                    this.scrollCursorIntoView(t, i)
                }
                ,
                this.scrollCursorIntoView = function(e, t) {
                    var i, n, o, s, r;
                    0 !== this.$size.scrollerHeight && (i = this.$cursorLayer.getPixelPosition(e),
                    n = i.left,
                    o = i.top,
                    s = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop,
                    s > o ? (t && (o -= t * this.$size.scrollerHeight),
                    0 == o ? o = -this.scrollMargin.top : 0 == o && (o = +this.scrollMargin.bottom),
                    this.session.setScrollTop(o)) : s + this.$size.scrollerHeight < o + this.lineHeight && (t && (o += t * this.$size.scrollerHeight),
                    this.session.setScrollTop(o + this.lineHeight - this.$size.scrollerHeight)),
                    r = this.scrollLeft,
                    r > n ? (n < this.$padding + 2 * this.layerConfig.characterWidth && (n = -this.scrollMargin.left),
                    this.session.setScrollLeft(n)) : r + this.$size.scrollerWidth < n + this.characterWidth ? this.session.setScrollLeft(Math.round(n + this.characterWidth - this.$size.scrollerWidth)) : r <= this.$padding && n - r < this.characterWidth && this.session.setScrollLeft(0))
                }
                ,
                this.getScrollTop = function() {
                    return this.session.getScrollTop()
                }
                ,
                this.getScrollLeft = function() {
                    return this.session.getScrollLeft()
                }
                ,
                this.getScrollTopRow = function() {
                    return this.scrollTop / this.lineHeight
                }
                ,
                this.getScrollBottomRow = function() {
                    return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1)
                }
                ,
                this.scrollToRow = function(e) {
                    this.session.setScrollTop(e * this.lineHeight)
                }
                ,
                this.alignCursor = function(e, t) {
                    var i, n, o;
                    return "number" == typeof e && (e = {
                        row: e,
                        column: 0
                    }),
                    i = this.$cursorLayer.getPixelPosition(e),
                    n = this.$size.scrollerHeight - this.lineHeight,
                    o = i.top - n * (t || 0),
                    this.session.setScrollTop(o),
                    o
                }
                ,
                this.STEPS = 8,
                this.$calcSteps = function(e, t) {
                    var i = 0
                      , n = this.STEPS
                      , o = []
                      , s = function(e, t, i) {
                        return i * (Math.pow(e - 1, 3) + 1) + t
                    };
                    for (i = 0; i < n; ++i)
                        o.push(s(i / this.STEPS, e, t - e));
                    return o
                }
                ,
                this.scrollToLine = function(e, t, i, n) {
                    var o, s = this.$cursorLayer.getPixelPosition({
                        row: e,
                        column: 0
                    }), r = s.top;
                    t && (r -= this.$size.scrollerHeight / 2),
                    o = this.scrollTop,
                    this.session.setScrollTop(r),
                    !1 !== i && this.animateScrolling(o, n)
                }
                ,
                this.animateScrolling = function(e, t) {
                    var i, n, o, s = this.scrollTop;
                    this.$animatedScroll && (i = this,
                    e != s && (this.$scrollAnimation && (n = this.$scrollAnimation.steps,
                    n.length && (e = n[0]) == s) || (o = i.$calcSteps(e, s),
                    this.$scrollAnimation = {
                        from: e,
                        to: s,
                        steps: o
                    },
                    clearInterval(this.$timer),
                    i.session.setScrollTop(o.shift()),
                    this.$timer = setInterval(function() {
                        o.length ? (i.session.setScrollTop(o.shift()),
                        i.session.$scrollTop = s) : null != s ? (i.session.$scrollTop = -1,
                        i.session.setScrollTop(s),
                        s = null) : (i.$timer = clearInterval(i.$timer),
                        i.$scrollAnimation = null,
                        t && t())
                    }, 10))))
                }
                ,
                this.scrollToY = function(e) {
                    this.scrollTop !== e && (this.$loop.schedule(this.CHANGE_SCROLL),
                    this.scrollTop = e)
                }
                ,
                this.scrollToX = function(e) {
                    this.scrollLeft !== e && (this.scrollLeft = e),
                    this.$loop.schedule(this.CHANGE_H_SCROLL)
                }
                ,
                this.scrollTo = function(e, t) {
                    this.session.setScrollTop(t),
                    this.session.setScrollLeft(t)
                }
                ,
                this.scrollBy = function(e, t) {
                    t && this.session.setScrollTop(this.session.getScrollTop() + t),
                    e && this.session.setScrollLeft(this.session.getScrollLeft() + e)
                }
                ,
                this.isScrollableBy = function(e, t) {
                    return t < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top || t > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight - (this.$size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd < -1 + this.scrollMargin.bottom || e < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left || e > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right || void 0
                }
                ,
                this.pixelToScreenCoordinates = function(e, t) {
                    var i = this.scroller.getBoundingClientRect()
                      , n = (e + this.scrollLeft - i.left - this.$padding) / this.characterWidth
                      , o = Math.floor((t + this.scrollTop - i.top) / this.lineHeight)
                      , s = Math.round(n);
                    return {
                        row: o,
                        column: s,
                        side: n - s > 0 ? 1 : -1
                    }
                }
                ,
                this.screenToTextCoordinates = function(e, t) {
                    var i = this.scroller.getBoundingClientRect()
                      , n = Math.round((e + this.scrollLeft - i.left - this.$padding) / this.characterWidth)
                      , o = Math.floor((t + this.scrollTop - i.top) / this.lineHeight);
                    return this.session.screenToDocumentPosition(o, Math.max(n, 0))
                }
                ,
                this.textToScreenCoordinates = function(e, t) {
                    var i = this.scroller.getBoundingClientRect()
                      , n = this.session.documentToScreenPosition(e, t)
                      , o = this.$padding + Math.round(n.column * this.characterWidth)
                      , s = n.row * this.lineHeight;
                    return {
                        pageX: i.left + o - this.scrollLeft,
                        pageY: i.top + s - this.scrollTop
                    }
                }
                ,
                this.visualizeFocus = function() {
                    s.addCssClass(this.container, "ace_focus")
                }
                ,
                this.visualizeBlur = function() {
                    s.removeCssClass(this.container, "ace_focus")
                }
                ,
                this.showComposition = function(e) {
                    this.$composition || (this.$composition = {
                        keepTextAreaAtCursor: this.$keepTextAreaAtCursor,
                        cssText: this.textarea.style.cssText
                    }),
                    this.$keepTextAreaAtCursor = !0,
                    s.addCssClass(this.textarea, "ace_composition"),
                    this.textarea.style.cssText = "",
                    this.$moveTextAreaToCursor()
                }
                ,
                this.setCompositionText = function(e) {
                    this.$moveTextAreaToCursor()
                }
                ,
                this.hideComposition = function() {
                    this.$composition && (s.removeCssClass(this.textarea, "ace_composition"),
                    this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor,
                    this.textarea.style.cssText = this.$composition.cssText,
                    this.$composition = null)
                }
                ,
                this.setTheme = function(e, t) {
                    function i(i) {
                        if (o.$themeValue != e)
                            return t && t();
                        if (i.cssClass) {
                            s.importCssString(i.cssText, i.cssClass, o.container.ownerDocument),
                            o.theme && s.removeCssClass(o.container, o.theme.cssClass),
                            o.$theme = i.cssClass,
                            o.theme = i,
                            s.addCssClass(o.container, i.cssClass),
                            s.setCssClass(o.container, "ace_dark", i.isDark);
                            var n = "padding"in i ? i.padding : 4;
                            o.$padding && n != o.$padding && o.setPadding(n),
                            o.$size && (o.$size.width = 0,
                            o.onResize()),
                            o._dispatchEvent("themeLoaded", {
                                theme: i
                            }),
                            t && t()
                        }
                    }
                    var n, o = this;
                    this.$themeValue = e,
                    o._dispatchEvent("themeChange", {
                        theme: e
                    }),
                    e && "string" != typeof e ? i(e) : (n = e || "ace/theme/tomorrow",
                    r.loadModule(["theme", n], i))
                }
                ,
                this.getTheme = function() {
                    return this.$themeValue
                }
                ,
                this.setStyle = function(e, t) {
                    s.setCssClass(this.container, e, 0 != t)
                }
                ,
                this.unsetStyle = function(e) {
                    s.removeCssClass(this.container, e)
                }
                ,
                this.setMouseCursor = function(e) {
                    this.content.style.cursor = e
                }
                ,
                this.destroy = function() {
                    this.$textLayer.destroy(),
                    this.$cursorLayer.destroy()
                }
            }
            .call(n.prototype),
            r.defineOptions(n.prototype, "renderer", {
                animatedScroll: {
                    initialValue: !1
                },
                showInvisibles: {
                    set: function(e) {
                        this.$textLayer.setShowInvisibles(e) && this.$loop.schedule(this.CHANGE_TEXT)
                    },
                    initialValue: !1
                },
                showPrintMargin: {
                    set: function() {
                        this.$updatePrintMargin()
                    },
                    initialValue: !0
                },
                printMarginColumn: {
                    set: function() {
                        this.$updatePrintMargin()
                    },
                    initialValue: 80
                },
                printMargin: {
                    set: function(e) {
                        "number" == typeof e && (this.$printMarginColumn = e),
                        this.$showPrintMargin = !!e,
                        this.$updatePrintMargin()
                    },
                    get: function() {
                        return this.$showPrintMargin && this.$printMarginColumn
                    }
                },
                showGutter: {
                    set: function(e) {
                        this.$gutter.style.display = e ? "block" : "none",
                        this.onGutterResize()
                    },
                    initialValue: !0
                },
                fadeFoldWidgets: {
                    set: function(e) {
                        s.setCssClass(this.$gutter, "ace_fade-fold-widgets", e)
                    },
                    initialValue: !1
                },
                showFoldWidgets: {
                    set: function(e) {
                        this.$gutterLayer.setShowFoldWidgets(e)
                    },
                    initialValue: !0
                },
                displayIndentGuides: {
                    set: function(e) {
                        this.$textLayer.setDisplayIndentGuides(e) && this.$loop.schedule(this.CHANGE_TEXT)
                    },
                    initialValue: !0
                },
                highlightGutterLine: {
                    set: function(e) {
                        if (!this.$gutterLineHighlight)
                            return this.$gutterLineHighlight = s.createElement("div"),
                            this.$gutterLineHighlight.className = "ace_gutter-active-line",
                            void this.$gutter.appendChild(this.$gutterLineHighlight);
                        this.$gutterLineHighlight.style.display = e ? "" : "none",
                        this.$cursorLayer.$pixelPos && this.$updateGutterLineHighlight()
                    },
                    initialValue: !1,
                    value: !0
                },
                hScrollBarAlwaysVisible: {
                    set: function(e) {
                        this.$hScrollBarAlwaysVisible && this.$horizScroll || this.$loop.schedule(this.CHANGE_SCROLL)
                    },
                    initialValue: !1
                },
                vScrollBarAlwaysVisible: {
                    set: function(e) {
                        this.$vScrollBarAlwaysVisible && this.$vScroll || this.$loop.schedule(this.CHANGE_SCROLL)
                    },
                    initialValue: !1
                },
                fontSize: {
                    set: function(e) {
                        "number" == typeof e && (e += "px"),
                        this.container.style.fontSize = e,
                        this.updateFontSize()
                    },
                    initialValue: 12
                },
                fontFamily: {
                    set: function(e) {
                        this.container.style.fontFamily = e,
                        this.updateFontSize()
                    }
                },
                maxLines: {
                    set: function(e) {
                        this.updateFull()
                    }
                },
                minLines: {
                    set: function(e) {
                        this.updateFull()
                    }
                },
                scrollPastEnd: {
                    set: function(e) {
                        e = +e || 0,
                        this.$scrollPastEnd != e && (this.$scrollPastEnd = e,
                        this.$loop.schedule(this.CHANGE_SCROLL))
                    },
                    initialValue: 0,
                    handlesSet: !0
                },
                fixedWidthGutter: {
                    set: function(e) {
                        this.$gutterLayer.$fixedWidth = !!e,
                        this.$loop.schedule(this.CHANGE_GUTTER)
                    }
                }
            }),
            t.VirtualRenderer = n
        }),
        define("ace/layer/gutter", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter"], function(e, t, i) {
            var n = e("../lib/dom")
              , o = e("../lib/oop")
              , s = e("../lib/lang")
              , r = e("../lib/event_emitter").EventEmitter
              , a = function(e) {
                this.element = n.createElement("div"),
                this.element.className = "ace_layer ace_gutter-layer",
                e.appendChild(this.element),
                this.setShowFoldWidgets(this.$showFoldWidgets),
                this.gutterWidth = 0,
                this.$annotations = [],
                this.$updateAnnotations = this.$updateAnnotations.bind(this),
                this.$cells = []
            };
            (function() {
                o.implement(this, r),
                this.setSession = function(e) {
                    this.session && this.session.removeEventListener("change", this.$updateAnnotations),
                    this.session = e,
                    e.on("change", this.$updateAnnotations)
                }
                ,
                this.addGutterDecoration = function(e, t) {
                    window.console && console.warn && console.warn("deprecated use session.addGutterDecoration"),
                    this.session.addGutterDecoration(e, t)
                }
                ,
                this.removeGutterDecoration = function(e, t) {
                    window.console && console.warn && console.warn("deprecated use session.removeGutterDecoration"),
                    this.session.removeGutterDecoration(e, t)
                }
                ,
                this.setAnnotations = function(e) {
                    var t, i, n, o, r, a;
                    for (this.$annotations = [],
                    n = 0; n < e.length; n++)
                        o = e[n],
                        i = o.row,
                        t = this.$annotations[i],
                        t || (t = this.$annotations[i] = {
                            text: []
                        }),
                        r = o.text,
                        r = r ? s.escapeHTML(r) : o.html || "",
                        -1 === t.text.indexOf(r) && t.text.push(r),
                        a = o.type,
                        "error" == a ? t.className = " ace_error" : "warning" == a && " ace_error" != t.className ? t.className = " ace_warning" : "info" != a || t.className || (t.className = " ace_info")
                }
                ,
                this.$updateAnnotations = function(e) {
                    var t, i, n, o, s;
                    this.$annotations.length && (t = e.data,
                    i = t.range,
                    n = i.start.row,
                    0 === (o = i.end.row - n) || ("removeText" == t.action || "removeLines" == t.action ? this.$annotations.splice(n, o + 1, null) : (s = Array(o + 1),
                    s.unshift(n, 1),
                    this.$annotations.splice.apply(this.$annotations, s))))
                }
                ,
                this.update = function(e) {
                    for (var t, i, o, s, r, a, l = e.firstRow, c = e.lastRow, d = this.session.getNextFoldLine(l), h = d ? d.start.row : 1 / 0, u = this.$showFoldWidgets && this.session.foldWidgets, p = this.session.$breakpoints, f = this.session.$decorations, g = this.session.$firstLineNumber, m = 0, _ = null, v = -1, y = l; ; ) {
                        if (y > h && (y = d.end.row + 1,
                        d = this.session.getNextFoldLine(y, d),
                        h = d ? d.start.row : 1 / 0),
                        y > c) {
                            for (; this.$cells.length > v + 1; )
                                _ = this.$cells.pop(),
                                this.element.removeChild(_.element);
                            break
                        }
                        _ = this.$cells[++v],
                        _ || (_ = {
                            element: null,
                            textNode: null,
                            foldWidget: null
                        },
                        _.element = n.createElement("div"),
                        _.textNode = document.createTextNode(""),
                        _.element.appendChild(_.textNode),
                        this.element.appendChild(_.element),
                        this.$cells[v] = _),
                        t = "ace_gutter-cell ",
                        p[y] && (t += p[y]),
                        f[y] && (t += f[y]),
                        this.$annotations[y] && (t += this.$annotations[y].className),
                        _.element.className != t && (_.element.className = t),
                        i = this.session.getRowLength(y) * e.lineHeight + "px",
                        i != _.element.style.height && (_.element.style.height = i),
                        o = m = y + g,
                        o != _.textNode.data && (_.textNode.data = o),
                        u && null == (s = u[y]) && (s = u[y] = this.session.getFoldWidget(y)),
                        s ? (_.foldWidget || (_.foldWidget = n.createElement("span"),
                        _.element.appendChild(_.foldWidget)),
                        t = "ace_fold-widget ace_" + s,
                        "start" == s && y == h && y < d.end.row ? t += " ace_closed" : t += " ace_open",
                        _.foldWidget.className != t && (_.foldWidget.className = t),
                        i = e.lineHeight + "px",
                        _.foldWidget.style.height != i && (_.foldWidget.style.height = i)) : null != _.foldWidget && (_.element.removeChild(_.foldWidget),
                        _.foldWidget = null),
                        y++
                    }
                    this.element.style.height = e.minHeight + "px",
                    (this.$fixedWidth || this.session.$useWrapMode) && (m = this.session.getLength()),
                    r = ("" + m).length * e.characterWidth,
                    a = this.$padding || this.$computePadding(),
                    (r += a.left + a.right) === this.gutterWidth || isNaN(r) || (this.gutterWidth = r,
                    this.element.style.width = Math.ceil(this.gutterWidth) + "px",
                    this._emit("changeGutterWidth", r))
                }
                ,
                this.$fixedWidth = !1,
                this.$showFoldWidgets = !0,
                this.setShowFoldWidgets = function(e) {
                    e ? n.addCssClass(this.element, "ace_folding-enabled") : n.removeCssClass(this.element, "ace_folding-enabled"),
                    this.$showFoldWidgets = e,
                    this.$padding = null
                }
                ,
                this.getShowFoldWidgets = function() {
                    return this.$showFoldWidgets
                }
                ,
                this.$computePadding = function() {
                    if (!this.element.firstChild)
                        return {
                            left: 0,
                            right: 0
                        };
                    var e = n.computedStyle(this.element.firstChild);
                    return this.$padding = {},
                    this.$padding.left = parseInt(e.paddingLeft) + 1 || 0,
                    this.$padding.right = parseInt(e.paddingRight) || 0,
                    this.$padding
                }
                ,
                this.getRegion = function(e) {
                    var t = this.$padding || this.$computePadding()
                      , i = this.element.getBoundingClientRect();
                    return e.x < t.left + i.left ? "markers" : this.$showFoldWidgets && e.x > i.right - t.right ? "foldWidgets" : void 0
                }
            }
            ).call(a.prototype),
            t.Gutter = a
        }),
        define("ace/layer/marker", ["require", "exports", "module", "ace/range", "ace/lib/dom"], function(e, t, i) {
            var n = e("../range").Range
              , o = e("../lib/dom")
              , s = function(e) {
                this.element = o.createElement("div"),
                this.element.className = "ace_layer ace_marker-layer",
                e.appendChild(this.element)
            };
            (function() {
                this.$padding = 0,
                this.setPadding = function(e) {
                    this.$padding = e
                }
                ,
                this.setSession = function(e) {
                    this.session = e
                }
                ,
                this.setMarkers = function(e) {
                    this.markers = e
                }
                ,
                this.update = function(e) {
                    var t, i, n, s, r, a;
                    if (e = e || this.config) {
                        this.config = e,
                        t = [];
                        for (i in this.markers)
                            n = this.markers[i],
                            n.range ? (s = n.range.clipRows(e.firstRow, e.lastRow),
                            s.isEmpty() || (s = s.toScreenRange(this.session),
                            n.renderer ? (r = this.$getTop(s.start.row, e),
                            a = this.$padding + s.start.column * e.characterWidth,
                            n.renderer(t, s, a, r, e)) : "fullLine" == n.type ? this.drawFullLineMarker(t, s, n.clazz, e) : "screenLine" == n.type ? this.drawScreenLineMarker(t, s, n.clazz, e) : s.isMultiLine() ? "text" == n.type ? this.drawTextMarker(t, s, n.clazz, e) : this.drawMultiLineMarker(t, s, n.clazz, e) : this.drawSingleLineMarker(t, s, n.clazz + " ace_start", e))) : n.update(t, this, this.session, e);
                        this.element = o.setInnerHtml(this.element, t.join(""))
                    }
                }
                ,
                this.$getTop = function(e, t) {
                    return (e - t.firstRowScreen) * t.lineHeight
                }
                ,
                this.drawTextMarker = function(e, t, i, o, s) {
                    var r = t.start.row
                      , a = new n(r,t.start.column,r,this.session.getScreenLastRowColumn(r));
                    for (this.drawSingleLineMarker(e, a, i + " ace_start", o, 1, s),
                    r = t.end.row,
                    a = new n(r,0,r,t.end.column),
                    this.drawSingleLineMarker(e, a, i, o, 0, s),
                    r = t.start.row + 1; r < t.end.row; r++)
                        a.start.row = r,
                        a.end.row = r,
                        a.end.column = this.session.getScreenLastRowColumn(r),
                        this.drawSingleLineMarker(e, a, i, o, 1, s)
                }
                ,
                this.drawMultiLineMarker = function(e, t, i, n, o) {
                    var s, r = this.$padding, a = n.lineHeight, l = this.$getTop(t.start.row, n), c = r + t.start.column * n.characterWidth;
                    o = o || "",
                    e.push("<div class='", i, " ace_start' style='", "height:", a, "px;", "right:0;", "top:", l, "px;", "left:", c, "px;", o, "'></div>"),
                    l = this.$getTop(t.end.row, n),
                    s = t.end.column * n.characterWidth,
                    e.push("<div class='", i, "' style='", "height:", a, "px;", "width:", s, "px;", "top:", l, "px;", "left:", r, "px;", o, "'></div>"),
                    (a = (t.end.row - t.start.row - 1) * n.lineHeight) < 0 || (l = this.$getTop(t.start.row + 1, n),
                    e.push("<div class='", i, "' style='", "height:", a, "px;", "right:0;", "top:", l, "px;", "left:", r, "px;", o, "'></div>"))
                }
                ,
                this.drawSingleLineMarker = function(e, t, i, n, o, s) {
                    var r = n.lineHeight
                      , a = (t.end.column + (o || 0) - t.start.column) * n.characterWidth
                      , l = this.$getTop(t.start.row, n)
                      , c = this.$padding + t.start.column * n.characterWidth;
                    e.push("<div class='", i, "' style='", "height:", r, "px;", "width:", a, "px;", "top:", l, "px;", "left:", c, "px;", s || "", "'></div>")
                }
                ,
                this.drawFullLineMarker = function(e, t, i, n, o) {
                    var s = this.$getTop(t.start.row, n)
                      , r = n.lineHeight;
                    t.start.row != t.end.row && (r += this.$getTop(t.end.row, n) - s),
                    e.push("<div class='", i, "' style='", "height:", r, "px;", "top:", s, "px;", "left:0;right:0;", o || "", "'></div>")
                }
                ,
                this.drawScreenLineMarker = function(e, t, i, n, o) {
                    var s = this.$getTop(t.start.row, n)
                      , r = n.lineHeight;
                    e.push("<div class='", i, "' style='", "height:", r, "px;", "top:", s, "px;", "left:0;right:0;", o || "", "'></div>")
                }
            }
            ).call(s.prototype),
            t.Marker = s
        }),
        define("ace/layer/text", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/lib/event_emitter"], function(e, t, i) {
            var n = e("../lib/oop")
              , o = e("../lib/dom")
              , s = e("../lib/lang")
              , r = e("../lib/useragent")
              , a = e("../lib/event_emitter").EventEmitter
              , l = function(e) {
                this.element = o.createElement("div"),
                this.element.className = "ace_layer ace_text-layer",
                e.appendChild(this.element),
                this.$characterSize = {
                    width: 0,
                    height: 0
                },
                this.checkForSizeChanges(),
                this.$pollSizeChanges()
            };
            (function() {
                n.implement(this, a),
                this.EOF_CHAR = "¶",
                this.EOL_CHAR = "¬",
                this.TAB_CHAR = "→",
                this.SPACE_CHAR = "·",
                this.$padding = 0,
                this.setPadding = function(e) {
                    this.$padding = e,
                    this.element.style.padding = "0 " + e + "px"
                }
                ,
                this.getLineHeight = function() {
                    return this.$characterSize.height || 0
                }
                ,
                this.getCharacterWidth = function() {
                    return this.$characterSize.width || 0
                }
                ,
                this.checkForSizeChanges = function() {
                    var e, t = this.$measureSizes();
                    !t || this.$characterSize.width === t.width && this.$characterSize.height === t.height || (this.$measureNode.style.fontWeight = "bold",
                    e = this.$measureSizes(),
                    this.$measureNode.style.fontWeight = "",
                    this.$characterSize = t,
                    this.allowBoldFonts = e && e.width === t.width && e.height === t.height,
                    this._emit("changeCharacterSize", {
                        data: t
                    }))
                }
                ,
                this.$pollSizeChanges = function() {
                    var e = this;
                    this.$pollSizeChangesTimer = setInterval(function() {
                        e.checkForSizeChanges()
                    }, 500)
                }
                ,
                this.$fontStyles = {
                    fontFamily: 1,
                    fontSize: 1,
                    fontWeight: 1,
                    fontStyle: 1,
                    lineHeight: 1
                },
                this.$measureSizes = r.isIE || r.isOldGecko ? function() {
                    var e, t, i, n, r, a, l = 1e3;
                    if (!this.$measureNode)
                        if (e = this.$measureNode = o.createElement("div"),
                        t = e.style,
                        t.width = t.height = "auto",
                        t.left = t.top = 40 * -l + "px",
                        t.visibility = "hidden",
                        t.position = "fixed",
                        t.overflow = "visible",
                        t.whiteSpace = "nowrap",
                        e.innerHTML = s.stringRepeat("Xy", l),
                        this.element.ownerDocument.body)
                            this.element.ownerDocument.body.appendChild(e);
                        else {
                            for (i = this.element.parentNode; !o.hasCssClass(i, "ace_editor"); )
                                i = i.parentNode;
                            i.appendChild(e)
                        }
                    if (!this.element.offsetWidth)
                        return null;
                    t = this.$measureNode.style,
                    n = o.computedStyle(this.element);
                    for (r in this.$fontStyles)
                        t[r] = n[r];
                    return a = {
                        height: this.$measureNode.offsetHeight,
                        width: this.$measureNode.offsetWidth / (2 * l)
                    },
                    0 == a.width || 0 == a.height ? null : a
                }
                : function() {
                    var e, t, i, n, r;
                    if (!this.$measureNode) {
                        for (e = this.$measureNode = o.createElement("div"),
                        t = e.style,
                        t.width = t.height = "auto",
                        t.left = t.top = "-100px",
                        t.visibility = "hidden",
                        t.position = "fixed",
                        t.overflow = "visible",
                        t.whiteSpace = "nowrap",
                        e.innerHTML = s.stringRepeat("X", 100),
                        i = this.element.parentNode; i && !o.hasCssClass(i, "ace_editor"); )
                            i = i.parentNode;
                        if (!i)
                            return this.$measureNode = null;
                        i.appendChild(e)
                    }
                    return n = this.$measureNode.getBoundingClientRect(),
                    r = {
                        height: n.height,
                        width: n.width / 100
                    },
                    0 == r.width || 0 == r.height ? null : r
                }
                ,
                this.setSession = function(e) {
                    this.session = e,
                    this.$computeTabString()
                }
                ,
                this.showInvisibles = !1,
                this.setShowInvisibles = function(e) {
                    return this.showInvisibles != e && (this.showInvisibles = e,
                    this.$computeTabString(),
                    !0)
                }
                ,
                this.displayIndentGuides = !0,
                this.setDisplayIndentGuides = function(e) {
                    return this.displayIndentGuides != e && (this.displayIndentGuides = e,
                    this.$computeTabString(),
                    !0)
                }
                ,
                this.$tabStrings = [],
                this.onChangeTabSize = this.$computeTabString = function() {
                    var e, t, i, n, o, r = this.session.getTabSize();
                    for (this.tabSize = r,
                    e = this.$tabStrings = [0],
                    t = 1; t < r + 1; t++)
                        this.showInvisibles ? e.push("<span class='ace_invisible'>" + this.TAB_CHAR + s.stringRepeat(" ", t - 1) + "</span>") : e.push(s.stringRepeat(" ", t));
                    this.displayIndentGuides && (this.$indentGuideRe = /\s\S| \t|\t |\s$/,
                    i = "ace_indent-guide",
                    this.showInvisibles ? (i += " ace_invisible",
                    n = s.stringRepeat(this.SPACE_CHAR, this.tabSize),
                    o = this.TAB_CHAR + s.stringRepeat(" ", this.tabSize - 1)) : (n = s.stringRepeat(" ", this.tabSize),
                    o = n),
                    this.$tabStrings[" "] = "<span class='" + i + "'>" + n + "</span>",
                    this.$tabStrings["\t"] = "<span class='" + i + "'>" + o + "</span>")
                }
                ,
                this.updateLines = function(e, t, i) {
                    var n, s, r, a, l, c, d, h, u;
                    for (this.config.lastRow == e.lastRow && this.config.firstRow == e.firstRow || this.scrollLines(e),
                    this.config = e,
                    n = Math.max(t, e.firstRow),
                    s = Math.min(i, e.lastRow),
                    r = this.element.childNodes,
                    a = 0,
                    l = e.firstRow; l < n; l++) {
                        if (c = this.session.getFoldLine(l)) {
                            if (c.containsRow(n)) {
                                n = c.start.row;
                                break
                            }
                            l = c.end.row
                        }
                        a++
                    }
                    for (l = n,
                    c = this.session.getNextFoldLine(l),
                    d = c ? c.start.row : 1 / 0; ; ) {
                        if (l > d && (l = c.end.row + 1,
                        c = this.session.getNextFoldLine(l, c),
                        d = c ? c.start.row : 1 / 0),
                        l > s)
                            break;
                        h = r[a++],
                        h && (u = [],
                        this.$renderLine(u, l, !this.$useLineGroups(), l == d && c),
                        o.setInnerHtml(h, u.join(""))),
                        l++
                    }
                }
                ,
                this.scrollLines = function(e) {
                    var t, i, n, o = this.config;
                    if (this.config = e,
                    !o || o.lastRow < e.firstRow)
                        return this.update(e);
                    if (e.lastRow < o.firstRow)
                        return this.update(e);
                    if (t = this.element,
                    o.firstRow < e.firstRow)
                        for (i = this.session.getFoldedRowCount(o.firstRow, e.firstRow - 1); i > 0; i--)
                            t.removeChild(t.firstChild);
                    if (o.lastRow > e.lastRow)
                        for (i = this.session.getFoldedRowCount(e.lastRow + 1, o.lastRow); i > 0; i--)
                            t.removeChild(t.lastChild);
                    e.firstRow < o.firstRow && (n = this.$renderLinesFragment(e, e.firstRow, o.firstRow - 1),
                    t.firstChild ? t.insertBefore(n, t.firstChild) : t.appendChild(n)),
                    e.lastRow > o.lastRow && (n = this.$renderLinesFragment(e, o.lastRow + 1, e.lastRow),
                    t.appendChild(n))
                }
                ,
                this.$renderLinesFragment = function(e, t, i) {
                    for (var n, s, r, a = this.element.ownerDocument.createDocumentFragment(), l = t, c = this.session.getNextFoldLine(l), d = c ? c.start.row : 1 / 0; ; ) {
                        if (l > d && (l = c.end.row + 1,
                        c = this.session.getNextFoldLine(l, c),
                        d = c ? c.start.row : 1 / 0),
                        l > i)
                            break;
                        if (n = o.createElement("div"),
                        s = [],
                        this.$renderLine(s, l, !1, l == d && c),
                        n.innerHTML = s.join(""),
                        this.$useLineGroups())
                            n.className = "ace_line_group",
                            a.appendChild(n);
                        else
                            for (r = n.childNodes; r.length; )
                                a.appendChild(r[0]);
                        l++
                    }
                    return a
                }
                ,
                this.update = function(e) {
                    var t, i, n, s, r, a;
                    for (this.config = e,
                    t = [],
                    i = e.firstRow,
                    n = e.lastRow,
                    s = i,
                    r = this.session.getNextFoldLine(s),
                    a = r ? r.start.row : 1 / 0; ; ) {
                        if (s > a && (s = r.end.row + 1,
                        r = this.session.getNextFoldLine(s, r),
                        a = r ? r.start.row : 1 / 0),
                        s > n)
                            break;
                        this.$useLineGroups() && t.push("<div class='ace_line_group'>"),
                        this.$renderLine(t, s, !1, s == a && r),
                        this.$useLineGroups() && t.push("</div>"),
                        s++
                    }
                    this.element = o.setInnerHtml(this.element, t.join(""))
                }
                ,
                this.$textToken = {
                    text: !0,
                    rparen: !0,
                    lparen: !0
                },
                this.$renderToken = function(e, t, i, n) {
                    var o, r, a = this, l = /\t|&|<|( +)|([\x00-\x1f\x80-\xa0\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g, c = function(e, i, n, o, r) {
                        var l, c, d;
                        return i ? a.showInvisibles ? "<span class='ace_invisible'>" + s.stringRepeat(a.SPACE_CHAR, e.length) + "</span>" : s.stringRepeat(" ", e.length) : "&" == e ? "&#38;" : "<" == e ? "&#60;" : "\t" == e ? (l = a.session.getScreenTabSize(t + o),
                        t += l - 1,
                        a.$tabStrings[l]) : "　" == e ? (c = a.showInvisibles ? "ace_cjk ace_invisible" : "ace_cjk",
                        d = a.showInvisibles ? a.SPACE_CHAR : "",
                        t += 1,
                        "<span class='" + c + "' style='width:" + 2 * a.config.characterWidth + "px'>" + d + "</span>") : n ? "<span class='ace_invisible ace_invalid'>" + a.SPACE_CHAR + "</span>" : (t += 1,
                        "<span class='ace_cjk' style='width:" + 2 * a.config.characterWidth + "px'>" + e + "</span>")
                    }, d = n.replace(l, c);
                    return this.$textToken[i.type] ? e.push(d) : (o = "ace_" + i.type.replace(/\./g, " ace_"),
                    r = "",
                    "fold" == i.type && (r = " style='width:" + i.value.length * this.config.characterWidth + "px;' "),
                    e.push("<span class='", o, "'", r, ">", d, "</span>")),
                    t + n.length
                }
                ,
                this.renderIndentGuide = function(e, t, i) {
                    var n = t.search(this.$indentGuideRe);
                    return n <= 0 || n >= i ? t : " " == t[0] ? (n -= n % this.tabSize,
                    e.push(s.stringRepeat(this.$tabStrings[" "], n / this.tabSize)),
                    t.substr(n)) : "\t" == t[0] ? (e.push(s.stringRepeat(this.$tabStrings["\t"], n)),
                    t.substr(n)) : t
                }
                ,
                this.$renderWrappedLine = function(e, t, i, n) {
                    var o, s, r, a = 0, l = 0, c = i[0], d = 0;
                    for (o = 0; o < t.length; o++) {
                        if (s = t[o],
                        r = s.value,
                        0 == o && this.displayIndentGuides) {
                            if (a = r.length,
                            !(r = this.renderIndentGuide(e, r, c)))
                                continue;
                            a -= r.length
                        }
                        if (a + r.length < c)
                            d = this.$renderToken(e, d, s, r),
                            a += r.length;
                        else {
                            for (; a + r.length >= c; )
                                d = this.$renderToken(e, d, s, r.substring(0, c - a)),
                                r = r.substring(c - a),
                                a = c,
                                n || e.push("</div>", "<div class='ace_line' style='height:", this.config.lineHeight, "px'>"),
                                l++,
                                d = 0,
                                c = i[l] || Number.MAX_VALUE;
                            0 != r.length && (a += r.length,
                            d = this.$renderToken(e, d, s, r))
                        }
                    }
                }
                ,
                this.$renderSimpleLine = function(e, t) {
                    var i, n = 0, o = t[0], s = o.value;
                    for (this.displayIndentGuides && (s = this.renderIndentGuide(e, s)),
                    s && (n = this.$renderToken(e, n, o, s)),
                    i = 1; i < t.length; i++)
                        o = t[i],
                        s = o.value,
                        n = this.$renderToken(e, n, o, s)
                }
                ,
                this.$renderLine = function(e, t, i, n) {
                    var o, s;
                    n || 0 == n || (n = this.session.getFoldLine(t)),
                    o = n ? this.$getFoldLineTokens(t, n) : this.session.getTokens(t),
                    i || e.push("<div class='ace_line' style='height:", this.config.lineHeight, "px'>"),
                    o.length && (s = this.session.getRowSplitData(t),
                    s && s.length ? this.$renderWrappedLine(e, o, s, i) : this.$renderSimpleLine(e, o)),
                    this.showInvisibles && (n && (t = n.end.row),
                    e.push("<span class='ace_invisible'>", t == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR, "</span>")),
                    i || e.push("</div>")
                }
                ,
                this.$getFoldLineTokens = function(e, t) {
                    function i(e, t, i) {
                        for (var n, s = 0, r = 0; r + e[s].value.length < t; )
                            if (r += e[s].value.length,
                            ++s == e.length)
                                return;
                        for (r != t && (n = e[s].value.substring(t - r),
                        n.length > i - t && (n = n.substring(0, i - t)),
                        o.push({
                            type: e[s].type,
                            value: n
                        }),
                        r = t + n.length,
                        s += 1); r < i && s < e.length; )
                            n = e[s].value,
                            n.length + r > i ? o.push({
                                type: e[s].type,
                                value: n.substring(0, i - r)
                            }) : o.push(e[s]),
                            r += n.length,
                            s += 1
                    }
                    var n = this.session
                      , o = []
                      , s = n.getTokens(e);
                    return t.walk(function(e, t, r, a, l) {
                        null != e ? o.push({
                            type: "fold",
                            value: e
                        }) : (l && (s = n.getTokens(t)),
                        s.length && i(s, a, r))
                    }, t.end.row, this.session.getLine(t.end.row).length),
                    o
                }
                ,
                this.$useLineGroups = function() {
                    return this.session.getUseWrapMode()
                }
                ,
                this.destroy = function() {
                    clearInterval(this.$pollSizeChangesTimer),
                    this.$measureNode && this.$measureNode.parentNode.removeChild(this.$measureNode),
                    delete this.$measureNode
                }
            }
            ).call(l.prototype),
            t.Text = l
        }),
        define("ace/layer/cursor", ["require", "exports", "module", "ace/lib/dom"], function(e, t, i) {
            var n = e("../lib/dom")
              , o = function(e) {
                this.element = n.createElement("div"),
                this.element.className = "ace_layer ace_cursor-layer",
                e.appendChild(this.element),
                this.isVisible = !1,
                this.isBlinking = !0,
                this.blinkInterval = 1e3,
                this.smoothBlinking = !1,
                this.cursors = [],
                this.cursor = this.addCursor(),
                n.addCssClass(this.element, "ace_hidden-cursors")
            };
            (function() {
                this.$padding = 0,
                this.setPadding = function(e) {
                    this.$padding = e
                }
                ,
                this.setSession = function(e) {
                    this.session = e
                }
                ,
                this.setBlinking = function(e) {
                    e != this.isBlinking && (this.isBlinking = e,
                    this.restartTimer())
                }
                ,
                this.setBlinkInterval = function(e) {
                    e != this.blinkInterval && (this.blinkInterval = e,
                    this.restartTimer())
                }
                ,
                this.setSmoothBlinking = function(e) {
                    e != this.smoothBlinking && (this.smoothBlinking = e,
                    e ? n.addCssClass(this.element, "ace_smooth-blinking") : n.removeCssClass(this.element, "ace_smooth-blinking"),
                    this.restartTimer())
                }
                ,
                this.addCursor = function() {
                    var e = n.createElement("div");
                    return e.className = "ace_cursor",
                    this.element.appendChild(e),
                    this.cursors.push(e),
                    e
                }
                ,
                this.removeCursor = function() {
                    if (this.cursors.length > 1) {
                        var e = this.cursors.pop();
                        return e.parentNode.removeChild(e),
                        e
                    }
                }
                ,
                this.hideCursor = function() {
                    this.isVisible = !1,
                    n.addCssClass(this.element, "ace_hidden-cursors"),
                    this.restartTimer()
                }
                ,
                this.showCursor = function() {
                    this.isVisible = !0,
                    n.removeCssClass(this.element, "ace_hidden-cursors"),
                    this.restartTimer()
                }
                ,
                this.restartTimer = function() {
                    var e, t;
                    for (clearInterval(this.intervalId),
                    clearTimeout(this.timeoutId),
                    this.smoothBlinking && n.removeCssClass(this.element, "ace_smooth-blinking"),
                    e = this.cursors.length; e--; )
                        this.cursors[e].style.opacity = "";
                    this.isBlinking && this.blinkInterval && this.isVisible && (this.smoothBlinking && setTimeout(function() {
                        n.addCssClass(this.element, "ace_smooth-blinking")
                    }
                    .bind(this)),
                    t = function() {
                        this.timeoutId = setTimeout(function() {
                            for (var e = this.cursors.length; e--; )
                                this.cursors[e].style.opacity = 0
                        }
                        .bind(this), .6 * this.blinkInterval)
                    }
                    .bind(this),
                    this.intervalId = setInterval(function() {
                        for (var e = this.cursors.length; e--; )
                            this.cursors[e].style.opacity = "";
                        t()
                    }
                    .bind(this), this.blinkInterval),
                    t())
                }
                ,
                this.getPixelPosition = function(e, t) {
                    var i, n, o;
                    return this.config && this.session ? (e || (e = this.session.selection.getCursor()),
                    i = this.session.documentToScreenPosition(e),
                    n = this.$padding + i.column * this.config.characterWidth,
                    o = (i.row - (t ? this.config.firstRowScreen : 0)) * this.config.lineHeight,
                    {
                        left: n,
                        top: o
                    }) : {
                        left: 0,
                        top: 0
                    }
                }
                ,
                this.update = function(e) {
                    var t, i, n, o, s, r, a;
                    for (this.config = e,
                    t = this.session.$selectionMarkers,
                    i = 0,
                    n = 0,
                    void 0 !== t && 0 !== t.length || (t = [{
                        cursor: null
                    }]),
                    i = 0,
                    o = t.length; i < o; i++)
                        s = this.getPixelPosition(t[i].cursor, !0),
                        (s.top > e.height + e.offset || s.top < -e.offset) && i > 1 || (r = (this.cursors[n++] || this.addCursor()).style,
                        r.left = s.left + "px",
                        r.top = s.top + "px",
                        r.width = e.characterWidth + "px",
                        r.height = e.lineHeight + "px");
                    for (; this.cursors.length > n; )
                        this.removeCursor();
                    a = this.session.getOverwrite(),
                    this.$setOverwrite(a),
                    this.$pixelPos = s,
                    this.restartTimer()
                }
                ,
                this.$setOverwrite = function(e) {
                    e != this.overwrite && (this.overwrite = e,
                    e ? n.addCssClass(this.element, "ace_overwrite-cursors") : n.removeCssClass(this.element, "ace_overwrite-cursors"))
                }
                ,
                this.destroy = function() {
                    clearInterval(this.intervalId),
                    clearTimeout(this.timeoutId)
                }
            }
            ).call(o.prototype),
            t.Cursor = o
        }),
        define("ace/scrollbar", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter"], function(e, t, i) {
            var n = e("./lib/oop")
              , o = e("./lib/dom")
              , s = e("./lib/event")
              , r = e("./lib/event_emitter").EventEmitter
              , a = function(e, t) {
                this.element = o.createElement("div"),
                this.element.className = "ace_scrollbar",
                this.inner = o.createElement("div"),
                this.inner.className = "ace_scrollbar-inner",
                this.element.appendChild(this.inner),
                e.appendChild(this.element),
                t.$scrollbarWidth = this.width = o.scrollbarWidth(e.ownerDocument),
                t.$scrollbarWidth = this.width = o.scrollbarWidth(e.ownerDocument),
                this.fullWidth = this.width,
                this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + "px",
                this.setVisible(!1),
                this.element.style.overflowY = "scroll",
                s.addListener(this.element, "scroll", this.onScrollV.bind(this)),
                s.addListener(this.element, "mousedown", s.preventDefault)
            }
              , l = function(e, t) {
                this.element = o.createElement("div"),
                this.element.className = "ace_scrollbar-h",
                this.inner = o.createElement("div"),
                this.inner.className = "ace_scrollbar-inner",
                this.element.appendChild(this.inner),
                e.appendChild(this.element),
                this.height = t.$scrollbarWidth,
                this.fullHeight = this.height,
                this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + "px",
                this.setVisible(!1),
                this.element.style.overflowX = "scroll",
                s.addListener(this.element, "scroll", this.onScrollH.bind(this)),
                s.addListener(this.element, "mousedown", s.preventDefault)
            };
            (function() {
                n.implement(this, r),
                this.setVisible = function(e) {
                    e ? (this.element.style.display = "",
                    this.fullWidth && (this.width = this.fullWidth),
                    this.fullHeight && (this.height = this.fullHeight)) : (this.element.style.display = "none",
                    this.height = this.width = 0)
                }
                ,
                this.onScrollV = function() {
                    this.skipEvent || (this.scrollTop = this.element.scrollTop,
                    this._emit("scroll", {
                        data: this.scrollTop
                    })),
                    this.skipEvent = !1
                }
                ,
                this.onScrollH = function() {
                    this.skipEvent || (this.scrollLeft = this.element.scrollLeft,
                    this._emit("scroll", {
                        data: this.scrollLeft
                    })),
                    this.skipEvent = !1
                }
                ,
                this.getWidth = function() {
                    return this.width
                }
                ,
                this.getHeight = function() {
                    return this.height
                }
                ,
                this.setHeight = function(e) {
                    this.element.style.height = e + "px"
                }
                ,
                this.setWidth = function(e) {
                    this.element.style.width = e + "px"
                }
                ,
                this.setInnerHeight = function(e) {
                    this.inner.style.height = e + "px"
                }
                ,
                this.setInnerWidth = function(e) {
                    this.inner.style.width = e + "px"
                }
                ,
                this.setScrollTop = function(e) {
                    this.scrollTop != e && (this.skipEvent = !0,
                    this.scrollTop = this.element.scrollTop = e)
                }
                ,
                this.setScrollLeft = function(e) {
                    this.scrollLeft != e && (this.skipEvent = !0,
                    this.scrollLeft = this.element.scrollLeft = e)
                }
            }
            ).call(a.prototype),
            l.prototype = a.prototype,
            t.ScrollBar = a,
            t.ScrollBarV = a,
            t.ScrollBarH = l
        }),
        define("ace/renderloop", ["require", "exports", "module", "ace/lib/event"], function(e, t, i) {
            var n = e("./lib/event")
              , o = function(e, t) {
                this.onRender = e,
                this.pending = !1,
                this.changes = 0,
                this.window = t || window
            };
            (function() {
                this.schedule = function(e) {
                    if (this.changes = this.changes | e,
                    !this.pending) {
                        this.pending = !0;
                        var t = this;
                        n.nextFrame(function() {
                            t.pending = !1;
                            for (var e; e = t.changes; )
                                t.changes = 0,
                                t.onRender(e)
                        }, this.window)
                    }
                }
            }
            ).call(o.prototype),
            t.RenderLoop = o
        }),
        define("ace/multi_select", ["require", "exports", "module", "ace/range_list", "ace/range", "ace/selection", "ace/mouse/multi_select_handler", "ace/lib/event", "ace/lib/lang", "ace/commands/multi_select_commands", "ace/search", "ace/edit_session", "ace/editor", "ace/config"], function(e, t, i) {
            function n(e, t, i) {
                return l.$options.wrap = !0,
                l.$options.needle = t,
                l.$options.backwards = -1 == i,
                l.find(e)
            }
            function o(e, t) {
                return e.row == t.row && e.column == t.column
            }
            function s(e) {
                e.$multiselectOnSessionChange || (e.$onAddRange = e.$onAddRange.bind(e),
                e.$onRemoveRange = e.$onRemoveRange.bind(e),
                e.$onMultiSelect = e.$onMultiSelect.bind(e),
                e.$onSingleSelect = e.$onSingleSelect.bind(e),
                e.$multiselectOnSessionChange = t.onSessionChange.bind(e),
                e.$multiselectOnSessionChange(e),
                e.on("changeSession", e.$multiselectOnSessionChange),
                e.on("mousedown", f),
                e.commands.addCommands(_.defaultCommands),
                r(e))
            }
            function r(e) {
                function t(t) {
                    n && (e.renderer.setMouseCursor(""),
                    n = !1)
                }
                var i = e.textInput.getElement()
                  , n = !1;
                g.addListener(i, "keydown", function(i) {
                    18 != i.keyCode || i.ctrlKey || i.shiftKey || i.metaKey ? n && t() : n || (e.renderer.setMouseCursor("crosshair"),
                    n = !0)
                }),
                g.addListener(i, "keyup", t),
                g.addListener(i, "blur", t)
            }
            var a, l, c, d, h = e("./range_list").RangeList, u = e("./range").Range, p = e("./selection").Selection, f = e("./mouse/multi_select_handler").onMouseDown, g = e("./lib/event"), m = e("./lib/lang"), _ = e("./commands/multi_select_commands");
            t.commands = _.defaultCommands.concat(_.multiSelectCommands),
            a = e("./search").Search,
            l = new a,
            c = e("./edit_session").EditSession,
            function() {
                this.getSelectionMarkers = function() {
                    return this.$selectionMarkers
                }
            }
            .call(c.prototype),
            function() {
                this.ranges = null,
                this.rangeList = null,
                this.addRange = function(e, t) {
                    var i, n;
                    if (e) {
                        if (!this.inMultiSelectMode && 0 == this.rangeCount) {
                            if (i = this.toOrientedRange(),
                            this.rangeList.add(i),
                            this.rangeList.add(e),
                            2 != this.rangeList.ranges.length)
                                return this.rangeList.removeAll(),
                                t || this.fromOrientedRange(e);
                            this.rangeList.removeAll(),
                            this.rangeList.add(i),
                            this.$onAddRange(i)
                        }
                        return e.cursor || (e.cursor = e.end),
                        n = this.rangeList.add(e),
                        this.$onAddRange(e),
                        n.length && this.$onRemoveRange(n),
                        this.rangeCount > 1 && !this.inMultiSelectMode && (this._emit("multiSelect"),
                        this.inMultiSelectMode = !0,
                        this.session.$undoSelect = !1,
                        this.rangeList.attach(this.session)),
                        t || this.fromOrientedRange(e)
                    }
                }
                ,
                this.toSingleRange = function(e) {
                    e = e || this.ranges[0];
                    var t = this.rangeList.removeAll();
                    t.length && this.$onRemoveRange(t),
                    e && this.fromOrientedRange(e)
                }
                ,
                this.substractPoint = function(e) {
                    var t = this.rangeList.substractPoint(e);
                    if (t)
                        return this.$onRemoveRange(t),
                        t[0]
                }
                ,
                this.mergeOverlappingRanges = function() {
                    var e = this.rangeList.merge();
                    e.length ? this.$onRemoveRange(e) : this.ranges[0] && this.fromOrientedRange(this.ranges[0])
                }
                ,
                this.$onAddRange = function(e) {
                    this.rangeCount = this.rangeList.ranges.length,
                    this.ranges.unshift(e),
                    this._emit("addRange", {
                        range: e
                    })
                }
                ,
                this.$onRemoveRange = function(e) {
                    var t, i, n;
                    for (this.rangeCount = this.rangeList.ranges.length,
                    1 == this.rangeCount && this.inMultiSelectMode && (t = this.rangeList.ranges.pop(),
                    e.push(t),
                    this.rangeCount = 0),
                    i = e.length; i--; )
                        n = this.ranges.indexOf(e[i]),
                        this.ranges.splice(n, 1);
                    this._emit("removeRange", {
                        ranges: e
                    }),
                    0 == this.rangeCount && this.inMultiSelectMode && (this.inMultiSelectMode = !1,
                    this._emit("singleSelect"),
                    this.session.$undoSelect = !0,
                    this.rangeList.detach(this.session)),
                    (t = t || this.ranges[0]) && !t.isEqual(this.getRange()) && this.fromOrientedRange(t)
                }
                ,
                this.$initRangeList = function() {
                    this.rangeList || (this.rangeList = new h,
                    this.ranges = [],
                    this.rangeCount = 0)
                }
                ,
                this.getAllRanges = function() {
                    return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()]
                }
                ,
                this.splitIntoLines = function() {
                    var e, t, i, n, o, s, r, a, l, c, d;
                    if (this.rangeCount > 1)
                        e = this.rangeList.ranges,
                        t = e[e.length - 1],
                        i = u.fromPoints(e[0].start, t.end),
                        this.toSingleRange(),
                        this.setSelectionRange(i, t.cursor == t.start);
                    else {
                        if (i = this.getRange(),
                        n = this.isBackwards(),
                        o = i.start.row,
                        s = i.end.row,
                        o == s)
                            return n ? (r = i.end,
                            a = i.start) : (r = i.start,
                            a = i.end),
                            this.addRange(u.fromPoints(a, a)),
                            void this.addRange(u.fromPoints(r, r));
                        for (l = [],
                        c = this.getLineRange(o, !0),
                        c.start.column = i.start.column,
                        l.push(c),
                        d = o + 1; d < s; d++)
                            l.push(this.getLineRange(d, !0));
                        c = this.getLineRange(s, !0),
                        c.end.column = i.end.column,
                        l.push(c),
                        l.forEach(this.addRange, this)
                    }
                }
                ,
                this.toggleBlockSelection = function() {
                    var e, t, i, n, o, s;
                    this.rangeCount > 1 ? (e = this.rangeList.ranges,
                    t = e[e.length - 1],
                    i = u.fromPoints(e[0].start, t.end),
                    this.toSingleRange(),
                    this.setSelectionRange(i, t.cursor == t.start)) : (n = this.session.documentToScreenPosition(this.selectionLead),
                    o = this.session.documentToScreenPosition(this.selectionAnchor),
                    s = this.rectangularRangeBlock(n, o),
                    s.forEach(this.addRange, this))
                }
                ,
                this.rectangularRangeBlock = function(e, t, i) {
                    var n, s, r, a, l, c, d, h, p, f, g, m = [], _ = e.column < t.column;
                    for (_ ? (n = e.column,
                    s = t.column) : (n = t.column,
                    s = e.column),
                    r = e.row < t.row,
                    r ? (a = e.row,
                    l = t.row) : (a = t.row,
                    l = e.row),
                    n < 0 && (n = 0),
                    a < 0 && (a = 0),
                    a == l && (i = !0),
                    c = a; c <= l; c++) {
                        if (d = u.fromPoints(this.session.screenToDocumentPosition(c, n), this.session.screenToDocumentPosition(c, s)),
                        d.isEmpty()) {
                            if (h && o(d.end, h))
                                break;
                            h = d.end
                        }
                        d.cursor = _ ? d.start : d.end,
                        m.push(d)
                    }
                    if (r && m.reverse(),
                    !i) {
                        for (p = m.length - 1; m[p].isEmpty() && p > 0; )
                            p--;
                        if (p > 0)
                            for (f = 0; m[f].isEmpty(); )
                                f++;
                        for (g = p; g >= f; g--)
                            m[g].isEmpty() && m.splice(g, 1)
                    }
                    return m
                }
            }
            .call(p.prototype),
            d = e("./editor").Editor,
            function() {
                this.updateSelectionMarkers = function() {
                    this.renderer.updateCursor(),
                    this.renderer.updateBackMarkers()
                }
                ,
                this.addSelectionMarker = function(e) {
                    e.cursor || (e.cursor = e.end);
                    var t = this.getSelectionStyle();
                    return e.marker = this.session.addMarker(e, "ace_selection", t),
                    this.session.$selectionMarkers.push(e),
                    this.session.selectionMarkerCount = this.session.$selectionMarkers.length,
                    e
                }
                ,
                this.removeSelectionMarker = function(e) {
                    if (e.marker) {
                        this.session.removeMarker(e.marker);
                        var t = this.session.$selectionMarkers.indexOf(e);
                        -1 != t && this.session.$selectionMarkers.splice(t, 1),
                        this.session.selectionMarkerCount = this.session.$selectionMarkers.length
                    }
                }
                ,
                this.removeSelectionMarkers = function(e) {
                    var t, i, n, o = this.session.$selectionMarkers;
                    for (t = e.length; t--; )
                        i = e[t],
                        i.marker && (this.session.removeMarker(i.marker),
                        -1 != (n = o.indexOf(i)) && o.splice(n, 1));
                    this.session.selectionMarkerCount = o.length
                }
                ,
                this.$onAddRange = function(e) {
                    this.addSelectionMarker(e.range),
                    this.renderer.updateCursor(),
                    this.renderer.updateBackMarkers()
                }
                ,
                this.$onRemoveRange = function(e) {
                    this.removeSelectionMarkers(e.ranges),
                    this.renderer.updateCursor(),
                    this.renderer.updateBackMarkers()
                }
                ,
                this.$onMultiSelect = function(e) {
                    this.inMultiSelectMode || (this.inMultiSelectMode = !0,
                    this.setStyle("ace_multiselect"),
                    this.keyBinding.addKeyboardHandler(_.keyboardHandler),
                    this.commands.setDefaultHandler("exec", this.$onMultiSelectExec),
                    this.renderer.updateCursor(),
                    this.renderer.updateBackMarkers())
                }
                ,
                this.$onSingleSelect = function(e) {
                    this.session.multiSelect.inVirtualMode || (this.inMultiSelectMode = !1,
                    this.unsetStyle("ace_multiselect"),
                    this.keyBinding.removeKeyboardHandler(_.keyboardHandler),
                    this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec),
                    this.renderer.updateCursor(),
                    this.renderer.updateBackMarkers())
                }
                ,
                this.$onMultiSelectExec = function(e) {
                    var t, i = e.command, n = e.editor;
                    if (n.multiSelect)
                        return i.multiSelectAction ? "forEach" == i.multiSelectAction ? t = n.forEachSelection(i, e.args) : "forEachLine" == i.multiSelectAction ? t = n.forEachSelection(i, e.args, !0) : "single" == i.multiSelectAction ? (n.exitMultiSelectMode(),
                        t = i.exec(n, e.args || {})) : t = i.multiSelectAction(n, e.args || {}) : (t = i.exec(n, e.args || {}),
                        n.multiSelect.addRange(n.multiSelect.toOrientedRange()),
                        n.multiSelect.mergeOverlappingRanges()),
                        t
                }
                ,
                this.forEachSelection = function(e, t, i) {
                    var n, o, s, r, a, l, c, d, h;
                    if (!this.inVirtualSelectionMode) {
                        for (n = this.session,
                        o = this.selection,
                        s = o.rangeList,
                        a = o._eventRegistry,
                        o._eventRegistry = {},
                        l = new p(n),
                        this.inVirtualSelectionMode = !0,
                        c = s.ranges.length; c--; ) {
                            if (i)
                                for (; c > 0 && s.ranges[c].start.row == s.ranges[c - 1].end.row; )
                                    c--;
                            l.fromOrientedRange(s.ranges[c]),
                            this.selection = n.selection = l,
                            d = e.exec(this, t || {}),
                            void 0 == !r && (r = d),
                            l.toOrientedRange(s.ranges[c])
                        }
                        return l.detach(),
                        this.selection = n.selection = o,
                        this.inVirtualSelectionMode = !1,
                        o._eventRegistry = a,
                        o.mergeOverlappingRanges(),
                        h = this.renderer.$scrollAnimation,
                        this.onCursorChange(),
                        this.onSelectionChange(),
                        h && h.from == h.to && this.renderer.animateScrolling(h.from),
                        r
                    }
                }
                ,
                this.exitMultiSelectMode = function() {
                    this.inMultiSelectMode && !this.inVirtualSelectionMode && this.multiSelect.toSingleRange()
                }
                ,
                this.getSelectedText = function() {
                    var e, t, i, n, o = "";
                    if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
                        for (e = this.multiSelect.rangeList.ranges,
                        t = [],
                        i = 0; i < e.length; i++)
                            t.push(this.session.getTextRange(e[i]));
                        n = this.session.getDocument().getNewLineCharacter(),
                        o = t.join(n),
                        o.length == (t.length - 1) * n.length && (o = "")
                    } else
                        this.selection.isEmpty() || (o = this.session.getTextRange(this.getSelectionRange()));
                    return o
                }
                ,
                this.onPaste = function(e) {
                    var t, i, n, o;
                    if (!this.$readOnly) {
                        if (this._signal("paste", e),
                        !this.inMultiSelectMode || this.inVirtualSelectionMode)
                            return this.insert(e);
                        if (t = e.split(/\r\n|\r|\n/),
                        i = this.selection.rangeList.ranges,
                        t.length > i.length || t.length < 2 || !t[1])
                            return this.commands.exec("insertstring", this, e);
                        for (n = i.length; n--; )
                            o = i[n],
                            o.isEmpty() || this.session.remove(o),
                            this.session.insert(o.start, t[n])
                    }
                }
                ,
                this.findAll = function(e, t, i) {
                    var n, o, s;
                    if (t = t || {},
                    t.needle = e || t.needle,
                    this.$search.set(t),
                    n = this.$search.findAll(this.session),
                    !n.length)
                        return 0;
                    for (this.$blockScrolling += 1,
                    o = this.multiSelect,
                    i || o.toSingleRange(n[0]),
                    s = n.length; s--; )
                        o.addRange(n[s], !0);
                    return this.$blockScrolling -= 1,
                    n.length
                }
                ,
                this.selectMoreLines = function(e, t) {
                    var i, n, o, s, r, a = this.selection.toOrientedRange(), l = a.cursor == a.end, c = this.session.documentToScreenPosition(a.cursor);
                    this.selection.$desiredColumn && (c.column = this.selection.$desiredColumn),
                    i = this.session.screenToDocumentPosition(c.row + e, c.column),
                    a.isEmpty() ? o = i : (n = this.session.documentToScreenPosition(l ? a.end : a.start),
                    o = this.session.screenToDocumentPosition(n.row + e, n.column)),
                    l ? (s = u.fromPoints(i, o),
                    s.cursor = s.start) : (s = u.fromPoints(o, i),
                    s.cursor = s.end),
                    s.desiredColumn = c.column,
                    this.selection.inMultiSelectMode ? t && (r = a.cursor) : this.selection.addRange(a),
                    this.selection.addRange(s),
                    r && this.selection.substractPoint(r)
                }
                ,
                this.transposeSelections = function(e) {
                    var t, i, n, o, s = this.session, r = s.multiSelect, a = r.ranges;
                    for (t = a.length; t--; )
                        i = a[t],
                        i.isEmpty() && (n = s.getWordRange(i.start.row, i.start.column),
                        i.start.row = n.start.row,
                        i.start.column = n.start.column,
                        i.end.row = n.end.row,
                        i.end.column = n.end.column);
                    for (r.mergeOverlappingRanges(),
                    o = [],
                    t = a.length; t--; )
                        i = a[t],
                        o.unshift(s.getTextRange(i));
                    for (e < 0 ? o.unshift(o.pop()) : o.push(o.shift()),
                    t = a.length; t--; )
                        i = a[t],
                        n = i.clone(),
                        s.replace(i, o[t]),
                        i.start.row = n.start.row,
                        i.start.column = n.start.column
                }
                ,
                this.selectMore = function(e, t) {
                    var i, o, s = this.session, r = s.multiSelect, a = r.toOrientedRange();
                    if (a.isEmpty())
                        return a = s.getWordRange(a.start.row, a.start.column),
                        a.cursor = -1 == e ? a.start : a.end,
                        void this.multiSelect.addRange(a);
                    i = s.getTextRange(a),
                    o = n(s, i, e),
                    o && (o.cursor = -1 == e ? o.start : o.end,
                    this.multiSelect.addRange(o)),
                    t && this.multiSelect.substractPoint(a.cursor)
                }
                ,
                this.alignCursors = function() {
                    var e, t, i, n, o, s, r, a, l, c = this.session, d = c.multiSelect, h = d.ranges;
                    h.length ? (o = -1,
                    s = h.filter(function(e) {
                        if (e.cursor.row == o)
                            return !0;
                        o = e.cursor.row
                    }),
                    d.$onRemoveRange(s),
                    r = 0,
                    a = 1 / 0,
                    l = h.map(function(e) {
                        var t = e.cursor
                          , i = c.getLine(t.row)
                          , n = i.substr(t.column).search(/\S/g);
                        return -1 == n && (n = 0),
                        t.column > r && (r = t.column),
                        n < a && (a = n),
                        n
                    }),
                    h.forEach(function(e, t) {
                        var i = e.cursor
                          , n = r - i.column
                          , o = l[t] - a;
                        n > o ? c.insert(i, m.stringRepeat(" ", n - o)) : c.remove(new u(i.row,i.column,i.row,i.column - n + o)),
                        e.start.column = e.end.column = r,
                        e.start.row = e.end.row = i.row,
                        e.cursor = e.end
                    }),
                    d.fromOrientedRange(h[0]),
                    this.renderer.updateCursor(),
                    this.renderer.updateBackMarkers()) : (e = this.selection.getRange(),
                    t = e.start.row,
                    i = e.end.row,
                    n = this.session.doc.removeLines(t, i),
                    n = this.$reAlignText(n),
                    this.session.doc.insertLines(t, n),
                    e.start.column = 0,
                    e.end.column = n[n.length - 1].length,
                    this.selection.setRange(e))
                }
                ,
                this.$reAlignText = function(e) {
                    function t(e) {
                        return m.stringRepeat(" ", e)
                    }
                    function i(e) {
                        return e[2] ? t(s) + e[2] + t(r - e[2].length + a) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0]
                    }
                    function n(e) {
                        return e[2] ? t(s + r - e[2].length) + e[2] + t(a, " ") + e[4].replace(/^([=:])\s+/, "$1 ") : e[0]
                    }
                    function o(e) {
                        return e[2] ? t(s) + e[2] + t(a) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0]
                    }
                    var s, r, a, l = !0, c = !0;
                    return e.map(function(e) {
                        var t = e.match(/(\s*)(.*?)(\s*)([=:].*)/);
                        return t ? null == s ? (s = t[1].length,
                        r = t[2].length,
                        a = t[3].length,
                        t) : (s + r + a != t[1].length + t[2].length + t[3].length && (c = !1),
                        s != t[1].length && (l = !1),
                        s > t[1].length && (s = t[1].length),
                        r < t[2].length && (r = t[2].length),
                        a > t[3].length && (a = t[3].length),
                        t) : [e]
                    }).map(l ? c ? n : i : o)
                }
            }
            .call(d.prototype),
            t.onSessionChange = function(e) {
                var t, i = e.session;
                i.multiSelect || (i.$selectionMarkers = [],
                i.selection.$initRangeList(),
                i.multiSelect = i.selection),
                this.multiSelect = i.multiSelect,
                t = e.oldSession,
                t && (t.multiSelect.removeEventListener("addRange", this.$onAddRange),
                t.multiSelect.removeEventListener("removeRange", this.$onRemoveRange),
                t.multiSelect.removeEventListener("multiSelect", this.$onMultiSelect),
                t.multiSelect.removeEventListener("singleSelect", this.$onSingleSelect)),
                i.multiSelect.on("addRange", this.$onAddRange),
                i.multiSelect.on("removeRange", this.$onRemoveRange),
                i.multiSelect.on("multiSelect", this.$onMultiSelect),
                i.multiSelect.on("singleSelect", this.$onSingleSelect),
                this.inMultiSelectMode != i.selection.inMultiSelectMode && (i.selection.inMultiSelectMode ? this.$onMultiSelect() : this.$onSingleSelect())
            }
            ,
            t.MultiSelect = s,
            e("./config").defineOptions(d.prototype, "editor", {
                enableMultiselect: {
                    set: function(e) {
                        s(this),
                        e ? (this.on("changeSession", this.$multiselectOnSessionChange),
                        this.on("mousedown", f)) : (this.off("changeSession", this.$multiselectOnSessionChange),
                        this.off("mousedown", f))
                    },
                    value: !0
                }
            })
        }),
        define("ace/mouse/multi_select_handler", ["require", "exports", "module", "ace/lib/event"], function(e, t, i) {
            function n(e, t) {
                return e.row == t.row && e.column == t.column
            }
            function o(e) {
                var t, i, o, r, a, l, c, d, h, u, p, f, g, m, _, v, y, b, w, $ = e.domEvent, C = $.altKey, A = $.shiftKey, x = e.getAccelKey(), S = e.getButton();
                if (e.editor.inMultiSelectMode && 2 == S)
                    return void e.editor.textInput.onContextMenu(e.domEvent);
                if (!x && !C)
                    return void (0 == S && e.editor.inMultiSelectMode && e.editor.exitMultiSelectMode());
                if (t = e.editor,
                i = t.selection,
                o = t.inMultiSelectMode,
                r = e.getDocumentPosition(),
                a = i.getCursor(),
                l = e.inSelection() || i.isEmpty() && n(r, a),
                c = e.x,
                d = e.y,
                h = function(e) {
                    c = e.clientX,
                    d = e.clientY
                }
                ,
                u = function() {
                    var e = t.renderer.pixelToScreenCoordinates(c, d)
                      , o = p.screenToDocumentPosition(e.row, e.column);
                    n(g, e) && n(o, i.selectionLead) || (g = e,
                    t.selection.moveCursorToPosition(o),
                    t.selection.clearSelection(),
                    t.renderer.scrollCursorIntoView(),
                    t.removeSelectionMarkers(v),
                    v = i.rectangularRangeBlock(g, f),
                    v.forEach(t.addSelectionMarker, t),
                    t.updateSelectionMarkers())
                }
                ,
                p = t.session,
                f = t.renderer.pixelToScreenCoordinates(c, d),
                g = f,
                !C || A || x || 0 != S) {
                    if (x && 0 == S)
                        return e.stop(),
                        o && !C ? i.toSingleRange() : o || C || i.addRange(),
                        v = [],
                        A ? (f = p.documentToScreenPosition(i.lead),
                        u()) : (i.moveCursorToPosition(r),
                        i.clearSelection()),
                        y = function(e) {
                            clearInterval(w),
                            t.removeSelectionMarkers(v);
                            for (var n = 0; n < v.length; n++)
                                i.addRange(v[n])
                        }
                        ,
                        b = u,
                        s.capture(t.container, h, y),
                        w = setInterval(function() {
                            b()
                        }, 20),
                        e.preventDefault()
                } else {
                    if (!o && l)
                        return;
                    o || (m = i.toOrientedRange(),
                    t.addSelectionMarker(m)),
                    _ = i.rangeList.rangeAtPoint(r),
                    t.once("mouseup", function() {
                        var e = i.toOrientedRange();
                        _ && e.isEmpty() && n(_.cursor, e.cursor) ? i.substractPoint(e.cursor) : (m && (t.removeSelectionMarker(m),
                        i.addRange(m)),
                        i.addRange(e))
                    })
                }
            }
            var s = e("../lib/event");
            t.onMouseDown = o
        }),
        define("ace/commands/multi_select_commands", ["require", "exports", "module", "ace/keyboard/hash_handler"], function(e, t, i) {
            t.defaultCommands = [{
                name: "addCursorAbove",
                exec: function(e) {
                    e.selectMoreLines(-1)
                },
                bindKey: {
                    win: "Ctrl-Alt-Up",
                    mac: "Ctrl-Alt-Up"
                },
                readonly: !0
            }, {
                name: "addCursorBelow",
                exec: function(e) {
                    e.selectMoreLines(1)
                },
                bindKey: {
                    win: "Ctrl-Alt-Down",
                    mac: "Ctrl-Alt-Down"
                },
                readonly: !0
            }, {
                name: "addCursorAboveSkipCurrent",
                exec: function(e) {
                    e.selectMoreLines(-1, !0)
                },
                bindKey: {
                    win: "Ctrl-Alt-Shift-Up",
                    mac: "Ctrl-Alt-Shift-Up"
                },
                readonly: !0
            }, {
                name: "addCursorBelowSkipCurrent",
                exec: function(e) {
                    e.selectMoreLines(1, !0)
                },
                bindKey: {
                    win: "Ctrl-Alt-Shift-Down",
                    mac: "Ctrl-Alt-Shift-Down"
                },
                readonly: !0
            }, {
                name: "selectMoreBefore",
                exec: function(e) {
                    e.selectMore(-1)
                },
                bindKey: {
                    win: "Ctrl-Alt-Left",
                    mac: "Ctrl-Alt-Left"
                },
                readonly: !0
            }, {
                name: "selectMoreAfter",
                exec: function(e) {
                    e.selectMore(1)
                },
                bindKey: {
                    win: "Ctrl-Alt-Right",
                    mac: "Ctrl-Alt-Right"
                },
                readonly: !0
            }, {
                name: "selectNextBefore",
                exec: function(e) {
                    e.selectMore(-1, !0)
                },
                bindKey: {
                    win: "Ctrl-Alt-Shift-Left",
                    mac: "Ctrl-Alt-Shift-Left"
                },
                readonly: !0
            }, {
                name: "selectNextAfter",
                exec: function(e) {
                    e.selectMore(1, !0)
                },
                bindKey: {
                    win: "Ctrl-Alt-Shift-Right",
                    mac: "Ctrl-Alt-Shift-Right"
                },
                readonly: !0
            }, {
                name: "splitIntoLines",
                exec: function(e) {
                    e.multiSelect.splitIntoLines()
                },
                bindKey: {
                    win: "Ctrl-Alt-L",
                    mac: "Ctrl-Alt-L"
                },
                readonly: !0
            }, {
                name: "alignCursors",
                exec: function(e) {
                    e.alignCursors()
                },
                bindKey: {
                    win: "Ctrl-Alt-A",
                    mac: "Ctrl-Alt-A"
                }
            }],
            t.multiSelectCommands = [{
                name: "singleSelection",
                bindKey: "esc",
                exec: function(e) {
                    e.exitMultiSelectMode()
                },
                readonly: !0,
                isAvailable: function(e) {
                    return e && e.inMultiSelectMode
                }
            }];
            var n = e("../keyboard/hash_handler").HashHandler;
            t.keyboardHandler = new n(t.multiSelectCommands)
        }),
        define("ace/worker/worker_client", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter", "ace/config"], function(e, t, i) {
            var n, o = e("../lib/oop"), s = e("../lib/event_emitter").EventEmitter, r = e("../config"), a = function(t, i, n) {
                var o, s, a;
                this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this),
                this.changeListener = this.changeListener.bind(this),
                this.onMessage = this.onMessage.bind(this),
                this.onError = this.onError.bind(this),
                e.nameToUrl && !e.toUrl && (e.toUrl = e.nameToUrl),
                r.get("packaged") || !e.toUrl ? o = r.moduleUrl(i, "worker") : (s = this.$normalizePath,
                o = s(e.toUrl("ace/worker/worker.js", null, "_")),
                a = {},
                t.forEach(function(t) {
                    a[t] = s(e.toUrl(t, null, "_").replace(/(\.js)?(\?.*)?$/, ""))
                })),
                this.$worker = new Worker(o),
                this.$worker.postMessage({
                    init: !0,
                    tlns: a,
                    module: i,
                    classname: n
                }),
                this.callbackId = 1,
                this.callbacks = {},
                this.$worker.onerror = this.onError,
                this.$worker.onmessage = this.onMessage
            };
            (function() {
                o.implement(this, s),
                this.onError = function(e) {
                    throw window.console && console.log && console.log(e),
                    e
                }
                ,
                this.onMessage = function(e) {
                    var t, i = e.data;
                    switch (i.type) {
                    case "log":
                        window.console && console.log && console.log.apply(console, i.data);
                        break;
                    case "event":
                        this._emit(i.name, {
                            data: i.data
                        });
                        break;
                    case "call":
                        t = this.callbacks[i.id],
                        t && (t(i.data),
                        delete this.callbacks[i.id])
                    }
                }
                ,
                this.$normalizePath = function(e) {
                    return location.host ? (e = e.replace(/^[a-z]+:\/\/[^\/]+/, ""),
                    e = location.protocol + "//" + location.host + ("/" == e.charAt(0) ? "" : location.pathname.replace(/\/[^\/]*$/, "")) + "/" + e.replace(/^[\/]+/, "")) : e
                }
                ,
                this.terminate = function() {
                    this._emit("terminate", {}),
                    this.deltaQueue = null,
                    this.$worker.terminate(),
                    this.$worker = null,
                    this.$doc.removeEventListener("change", this.changeListener),
                    this.$doc = null
                }
                ,
                this.send = function(e, t) {
                    this.$worker.postMessage({
                        command: e,
                        args: t
                    })
                }
                ,
                this.call = function(e, t, i) {
                    if (i) {
                        var n = this.callbackId++;
                        this.callbacks[n] = i,
                        t.push(n)
                    }
                    this.send(e, t)
                }
                ,
                this.emit = function(e, t) {
                    try {
                        this.$worker.postMessage({
                            event: e,
                            data: {
                                data: t.data
                            }
                        })
                    } catch (e) {}
                }
                ,
                this.attachToDocument = function(e) {
                    this.$doc && this.terminate(),
                    this.$doc = e,
                    this.call("setValue", [e.getValue()]),
                    e.on("change", this.changeListener)
                }
                ,
                this.changeListener = function(e) {
                    this.deltaQueue ? this.deltaQueue.push(e.data) : (this.deltaQueue = [e.data],
                    setTimeout(this.$sendDeltaQueue, 1))
                }
                ,
                this.$sendDeltaQueue = function() {
                    var e = this.deltaQueue;
                    e && (this.deltaQueue = null,
                    e.length > 20 && e.length > this.$doc.getLength() >> 1 ? this.call("setValue", [this.$doc.getValue()]) : this.emit("change", {
                        data: e
                    }))
                }
            }
            ).call(a.prototype),
            n = function(e, t, i) {
                var n, o, a, l;
                this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this),
                this.changeListener = this.changeListener.bind(this),
                this.callbackId = 1,
                this.callbacks = {},
                this.messageBuffer = [],
                n = null,
                o = Object.create(s),
                a = this,
                this.$worker = {},
                this.$worker.terminate = function() {}
                ,
                this.$worker.postMessage = function(e) {
                    a.messageBuffer.push(e),
                    n && setTimeout(l)
                }
                ,
                l = function() {
                    var e = a.messageBuffer.shift();
                    e.command ? n[e.command].apply(n, e.args) : e.event && o._emit(e.event, e.data)
                }
                ,
                o.postMessage = function(e) {
                    a.onMessage({
                        data: e
                    })
                }
                ,
                o.callback = function(e, t) {
                    this.postMessage({
                        type: "call",
                        id: t,
                        data: e
                    })
                }
                ,
                o.emit = function(e, t) {
                    this.postMessage({
                        type: "event",
                        name: e,
                        data: t
                    })
                }
                ,
                r.loadModule(["worker", t], function(e) {
                    for (n = new e[i](o); a.messageBuffer.length; )
                        l()
                })
            }
            ,
            n.prototype = a.prototype,
            t.UIWorkerClient = n,
            t.WorkerClient = a
        }),
        define("ace/placeholder", ["require", "exports", "module", "ace/range", "ace/lib/event_emitter", "ace/lib/oop"], function(e, t, i) {
            var n = e("./range").Range
              , o = e("./lib/event_emitter").EventEmitter
              , s = e("./lib/oop")
              , r = function(e, t, i, n, o, s) {
                var r, a = this;
                this.length = t,
                this.session = e,
                this.doc = e.getDocument(),
                this.mainClass = o,
                this.othersClass = s,
                this.$onUpdate = this.onUpdate.bind(this),
                this.doc.on("change", this.$onUpdate),
                this.$others = n,
                this.$onCursorChange = function() {
                    setTimeout(function() {
                        a.onCursorChange()
                    })
                }
                ,
                this.$pos = i,
                r = e.getUndoManager().$undoStack || e.getUndoManager().$undostack || {
                    length: -1
                },
                this.$undoStackDepth = r.length,
                this.setup(),
                e.selection.on("changeCursor", this.$onCursorChange)
            };
            (function() {
                s.implement(this, o),
                this.setup = function() {
                    var e = this
                      , t = this.doc
                      , i = this.session
                      , o = this.$pos;
                    this.pos = t.createAnchor(o.row, o.column),
                    this.markerId = i.addMarker(new n(o.row,o.column,o.row,o.column + this.length), this.mainClass, null, !1),
                    this.pos.on("change", function(t) {
                        i.removeMarker(e.markerId),
                        e.markerId = i.addMarker(new n(t.value.row,t.value.column,t.value.row,t.value.column + e.length), e.mainClass, null, !1)
                    }),
                    this.others = [],
                    this.$others.forEach(function(i) {
                        var n = t.createAnchor(i.row, i.column);
                        e.others.push(n)
                    }),
                    i.setUndoSelect(!1)
                }
                ,
                this.showOtherMarkers = function() {
                    var e, t;
                    this.othersActive || (e = this.session,
                    t = this,
                    this.othersActive = !0,
                    this.others.forEach(function(i) {
                        i.markerId = e.addMarker(new n(i.row,i.column,i.row,i.column + t.length), t.othersClass, null, !1),
                        i.on("change", function(o) {
                            e.removeMarker(i.markerId),
                            i.markerId = e.addMarker(new n(o.value.row,o.value.column,o.value.row,o.value.column + t.length), t.othersClass, null, !1)
                        })
                    }))
                }
                ,
                this.hideOtherMarkers = function() {
                    if (this.othersActive) {
                        this.othersActive = !1;
                        for (var e = 0; e < this.others.length; e++)
                            this.session.removeMarker(this.others[e].markerId)
                    }
                }
                ,
                this.onUpdate = function(e) {
                    var t, i, o, s, r, a = e.data, l = a.range;
                    if (l.start.row === l.end.row && l.start.row === this.pos.row && !this.$updating) {
                        if (this.$updating = !0,
                        t = "insertText" === a.action ? l.end.column - l.start.column : l.start.column - l.end.column,
                        l.start.column >= this.pos.column && l.start.column <= this.pos.column + this.length + 1) {
                            if (i = l.start.column - this.pos.column,
                            this.length += t,
                            !this.session.$fromUndo) {
                                if ("insertText" === a.action)
                                    for (o = this.others.length - 1; o >= 0; o--)
                                        s = this.others[o],
                                        r = {
                                            row: s.row,
                                            column: s.column + i
                                        },
                                        s.row === l.start.row && l.start.column < s.column && (r.column += t),
                                        this.doc.insert(r, a.text);
                                else if ("removeText" === a.action)
                                    for (o = this.others.length - 1; o >= 0; o--)
                                        s = this.others[o],
                                        r = {
                                            row: s.row,
                                            column: s.column + i
                                        },
                                        s.row === l.start.row && l.start.column < s.column && (r.column += t),
                                        this.doc.remove(new n(r.row,r.column,r.row,r.column - t));
                                l.start.column === this.pos.column && "insertText" === a.action ? setTimeout(function() {
                                    var e, i, n;
                                    for (this.pos.setPosition(this.pos.row, this.pos.column - t),
                                    e = 0; e < this.others.length; e++)
                                        i = this.others[e],
                                        n = {
                                            row: i.row,
                                            column: i.column - t
                                        },
                                        i.row === l.start.row && l.start.column < i.column && (n.column += t),
                                        i.setPosition(n.row, n.column)
                                }
                                .bind(this), 0) : l.start.column === this.pos.column && "removeText" === a.action && setTimeout(function() {
                                    var e, i;
                                    for (e = 0; e < this.others.length; e++)
                                        i = this.others[e],
                                        i.row === l.start.row && l.start.column < i.column && i.setPosition(i.row, i.column - t)
                                }
                                .bind(this), 0)
                            }
                            for (this.pos._emit("change", {
                                value: this.pos
                            }),
                            o = 0; o < this.others.length; o++)
                                this.others[o]._emit("change", {
                                    value: this.others[o]
                                })
                        }
                        this.$updating = !1
                    }
                }
                ,
                this.onCursorChange = function(e) {
                    if (!this.$updating) {
                        var t = this.session.selection.getCursor();
                        t.row === this.pos.row && t.column >= this.pos.column && t.column <= this.pos.column + this.length ? (this.showOtherMarkers(),
                        this._emit("cursorEnter", e)) : (this.hideOtherMarkers(),
                        this._emit("cursorLeave", e))
                    }
                }
                ,
                this.detach = function() {
                    this.session.removeMarker(this.markerId),
                    this.hideOtherMarkers(),
                    this.doc.removeEventListener("change", this.$onUpdate),
                    this.session.selection.removeEventListener("changeCursor", this.$onCursorChange),
                    this.pos.detach();
                    for (var e = 0; e < this.others.length; e++)
                        this.others[e].detach();
                    this.session.setUndoSelect(!0)
                }
                ,
                this.cancel = function() {
                    var e, t, i;
                    if (-1 === this.$undoStackDepth)
                        throw Error("Canceling placeholders only supported with undo manager attached to session.");
                    for (e = this.session.getUndoManager(),
                    t = (e.$undoStack || e.$undostack).length - this.$undoStackDepth,
                    i = 0; i < t; i++)
                        e.undo(!0)
                }
            }
            ).call(r.prototype),
            t.PlaceHolder = r
        }),
        define("ace/mode/folding/fold_mode", ["require", "exports", "module", "ace/range"], function(e, t, i) {
            var n = e("../../range").Range
              , o = t.FoldMode = function() {}
            ;
            (function() {
                this.foldingStartMarker = null,
                this.foldingStopMarker = null,
                this.getFoldWidget = function(e, t, i) {
                    var n = e.getLine(i);
                    return this.foldingStartMarker.test(n) ? "start" : "markbeginend" == t && this.foldingStopMarker && this.foldingStopMarker.test(n) ? "end" : ""
                }
                ,
                this.getFoldWidgetRange = function(e, t, i) {
                    return null
                }
                ,
                this.indentationBlock = function(e, t, i) {
                    var o, s, r, a, l, c, d = /\S/, h = e.getLine(t), u = h.search(d);
                    if (-1 != u) {
                        for (o = i || h.length,
                        s = e.getLength(),
                        r = t,
                        a = t; ++t < s; )
                            if (-1 != (l = e.getLine(t).search(d))) {
                                if (l <= u)
                                    break;
                                a = t
                            }
                        return a > r ? (c = e.getLine(a).length,
                        new n(r,o,a,c)) : void 0
                    }
                }
                ,
                this.openingBracketBlock = function(e, t, i, o, s) {
                    var r, a = {
                        row: i,
                        column: o + 1
                    }, l = e.$findClosingBracket(t, a, s);
                    if (l)
                        return r = e.foldWidgets[l.row],
                        null == r && (r = this.getFoldWidget(e, l.row)),
                        "start" == r && l.row > a.row && (l.row--,
                        l.column = e.getLine(l.row).length),
                        n.fromPoints(a, l)
                }
                ,
                this.closingBracketBlock = function(e, t, i, o, s) {
                    var r = {
                        row: i,
                        column: o
                    }
                      , a = e.$findOpeningBracket(t, r);
                    if (a)
                        return a.column++,
                        r.column--,
                        n.fromPoints(a, r)
                }
            }
            ).call(o.prototype)
        }),
        function() {
            window.require(["ace/ace"], function(e) {
                e && e.config.init(),
                window.ace || (window.ace = {});
                for (var t in e)
                    e.hasOwnProperty(t) && (ace[t] = e[t])
            })
        }()
    },
    2090: function(e, t) {
        "use strict";
        define("ace/ext/language_tools", ["require", "exports", "module", "ace/snippets", "ace/autocomplete", "ace/config", "ace/autocomplete/text_completer", "ace/editor"], function(e, t, i) {
            var n, o, s, r = e("../snippets").snippetManager, a = e("../autocomplete").Autocomplete, l = e("../config"), c = e("../autocomplete/text_completer"), d = {
                getCompletions: function(e, t, i, n, o) {
                    var s = e.session.getState(i.row);
                    o(null, t.$mode.getCompletions(s, t, i, n))
                }
            }, h = {
                getCompletions: function(e, t, i, n, o) {
                    var s = r.$getScope(e)
                      , a = r.snippetMap
                      , l = [];
                    [s, "_"].forEach(function(e) {
                        var t, i, n, o = a[e] || [];
                        for (t = o.length; t--; )
                            i = o[t],
                            (n = i.name || i.tabTrigger) && l.push({
                                caption: n,
                                snippet: i.content,
                                meta: i.tabTrigger && !i.name ? i.tabTrigger + "⇥ " : "snippet"
                            })
                    }, this),
                    o(null, l)
                }
            }, u = [h, c, d];
            t.addCompleter = function(e) {
                u.push(e)
            }
            ,
            n = {
                name: "expandSnippet",
                exec: function(e) {
                    r.expandWithTab(e) || e.execCommand("indent")
                },
                bindKey: "tab"
            },
            o = function(e, t) {
                var i, n = t.session.$mode, o = n.$id;
                r.files || (r.files = {}),
                o && !r.files[o] && (i = o.replace("mode", "snippets"),
                l.loadModule(i, function(e) {
                    e && (r.files[o] = e,
                    e.snippets = r.parseSnippetFile(e.snippetText),
                    r.register(e.snippets, e.scope))
                }))
            }
            ,
            s = e("../editor").Editor,
            e("../config").defineOptions(s.prototype, "editor", {
                enableBasicAutocompletion: {
                    set: function(e) {
                        e ? (this.completers = u,
                        this.commands.addCommand(a.startCommand)) : this.commands.removeCommand(a.startCommand)
                    },
                    value: !1
                },
                enableSnippets: {
                    set: function(e) {
                        e ? (this.commands.addCommand(n),
                        this.on("changeMode", o),
                        o(null, this)) : (this.commands.removeCommand(n),
                        this.off("changeMode", o))
                    },
                    value: !1
                }
            })
        }),
        define("ace/snippets", ["require", "exports", "module", "ace/lib/lang", "ace/range", "ace/keyboard/hash_handler", "ace/tokenizer", "ace/lib/dom"], function(e, t, i) {
            var n, o, s, r = e("./lib/lang"), a = e("./range").Range, l = e("./keyboard/hash_handler").HashHandler, c = e("./tokenizer").Tokenizer, d = a.comparePoints, h = function() {
                this.snippetMap = {},
                this.snippetNameMap = {}
            };
            (function() {
                this.getTokenizer = function() {
                    function e(e, t, i) {
                        return e = e.substr(1),
                        /^\d+$/.test(e) && !i.inFormatString ? [{
                            tabstopId: parseInt(e, 10)
                        }] : [{
                            text: e
                        }]
                    }
                    function t(e) {
                        return "(?:[^\\\\" + e + "]|\\\\.)"
                    }
                    return h.$tokenizer = new c({
                        start: [{
                            regex: /:/,
                            onMatch: function(e, t, i) {
                                return i.length && i[0].expectIf ? (i[0].expectIf = !1,
                                i[0].elseBranch = i[0],
                                [i[0]]) : ":"
                            }
                        }, {
                            regex: /\\./,
                            onMatch: function(e, t, i) {
                                var n = e[1];
                                return "}" == n && i.length ? e = n : -1 != "`$\\".indexOf(n) ? e = n : i.inFormatString && ("n" == n ? e = "\n" : "t" == n ? e = "\n" : -1 != "ulULE".indexOf(n) && (e = {
                                    changeCase: n,
                                    local: n > "a"
                                })),
                                [e]
                            }
                        }, {
                            regex: /}/,
                            onMatch: function(e, t, i) {
                                return [i.length ? i.shift() : e]
                            }
                        }, {
                            regex: /\$(?:\d+|\w+)/,
                            onMatch: e
                        }, {
                            regex: /\$\{[\dA-Z_a-z]+/,
                            onMatch: function(t, i, n) {
                                var o = e(t.substr(1), i, n);
                                return n.unshift(o[0]),
                                o
                            },
                            next: "snippetVar"
                        }, {
                            regex: /\n/,
                            token: "newline",
                            merge: !1
                        }],
                        snippetVar: [{
                            regex: "\\|" + t("\\|") + "*\\|",
                            onMatch: function(e, t, i) {
                                i[0].choices = e.slice(1, -1).split(",")
                            },
                            next: "start"
                        }, {
                            regex: "/(" + t("/") + "+)/(?:(" + t("/") + "*)/)(\\w*):?",
                            onMatch: function(e, t, i) {
                                var n = i[0];
                                return n.fmtString = e,
                                e = this.splitRegex.exec(e),
                                n.guard = e[1],
                                n.fmt = e[2],
                                n.flag = e[3],
                                ""
                            },
                            next: "start"
                        }, {
                            regex: "`" + t("`") + "*`",
                            onMatch: function(e, t, i) {
                                return i[0].code = e.splice(1, -1),
                                ""
                            },
                            next: "start"
                        }, {
                            regex: "\\?",
                            onMatch: function(e, t, i) {
                                i[0] && (i[0].expectIf = !0)
                            },
                            next: "start"
                        }, {
                            regex: "([^:}\\\\]|\\\\.)*:?",
                            token: "",
                            next: "start"
                        }],
                        formatString: [{
                            regex: "/(" + t("/") + "+)/",
                            token: "regex"
                        }, {
                            regex: "",
                            onMatch: function(e, t, i) {
                                i.inFormatString = !0
                            },
                            next: "start"
                        }]
                    }),
                    h.prototype.getTokenizer = function() {
                        return h.$tokenizer
                    }
                    ,
                    h.$tokenizer
                }
                ,
                this.tokenizeTmSnippet = function(e, t) {
                    return this.getTokenizer().getLineTokens(e, t).tokens.map(function(e) {
                        return e.value || e
                    })
                }
                ,
                this.$getDefaultValue = function(e, t) {
                    var i, n, o;
                    if (/^[A-Z]\d+$/.test(t))
                        return i = t.substr(1),
                        (this.variables[t[0] + "__"] || {})[i];
                    if (/^\d+$/.test(t))
                        return (this.variables.__ || {})[t];
                    if (t = t.replace(/^TM_/, ""),
                    e)
                        switch (n = e.session,
                        t) {
                        case "CURRENT_WORD":
                            o = n.getWordRange();
                        case "SELECTION":
                        case "SELECTED_TEXT":
                            return n.getTextRange(o);
                        case "CURRENT_LINE":
                            return n.getLine(e.getCursorPosition().row);
                        case "PREV_LINE":
                            return n.getLine(e.getCursorPosition().row - 1);
                        case "LINE_INDEX":
                            return e.getCursorPosition().column;
                        case "LINE_NUMBER":
                            return e.getCursorPosition().row + 1;
                        case "SOFT_TABS":
                            return n.getUseSoftTabs() ? "YES" : "NO";
                        case "TAB_SIZE":
                            return n.getTabSize();
                        case "FILENAME":
                        case "FILEPATH":
                            return "ace.ajax.org";
                        case "FULLNAME":
                            return "Ace"
                        }
                }
                ,
                this.variables = {},
                this.getVariableValue = function(e, t) {
                    return this.variables.hasOwnProperty(t) ? this.variables[t](e, t) || "" : this.$getDefaultValue(e, t) || ""
                }
                ,
                this.tmStrFormat = function(e, t, i) {
                    var n, o, s, r = t.flag || "", a = t.guard;
                    return a = RegExp(a, r.replace(/[^gi]/, "")),
                    n = this.tokenizeTmSnippet(t.fmt, "formatString"),
                    o = this,
                    s = e.replace(a, function() {
                        var e, t, s, r, a;
                        for (o.variables.__ = arguments,
                        e = o.resolveVariables(n, i),
                        t = "E",
                        s = 0; s < e.length; s++)
                            r = e[s],
                            "object" == typeof r ? (e[s] = "",
                            r.changeCase && r.local ? (a = e[s + 1]) && "string" == typeof a && ("u" == r.changeCase ? e[s] = a[0].toUpperCase() : e[s] = a[0].toLowerCase(),
                            e[s + 1] = a.substr(1)) : r.changeCase && (t = r.changeCase)) : "U" == t ? e[s] = r.toUpperCase() : "L" == t && (e[s] = r.toLowerCase());
                        return e.join("")
                    }),
                    this.variables.__ = null,
                    s
                }
                ,
                this.resolveVariables = function(e, t) {
                    function i(t) {
                        var i = e.indexOf(t, n + 1);
                        -1 != i && (n = i)
                    }
                    var n, o, s, r = [];
                    for (n = 0; n < e.length; n++)
                        if ("string" == typeof (o = e[n]))
                            r.push(o);
                        else {
                            if ("object" != typeof o)
                                continue;
                            if (o.skip)
                                i(o);
                            else {
                                if (o.processed < n)
                                    continue;
                                o.text ? (s = this.getVariableValue(t, o.text),
                                s && o.fmtString && (s = this.tmStrFormat(s, o)),
                                o.processed = n,
                                null == o.expectIf ? s && (r.push(s),
                                i(o)) : s ? o.skip = o.elseBranch : i(o)) : null != o.tabstopId ? r.push(o) : null != o.changeCase && r.push(o)
                            }
                        }
                    return r
                }
                ,
                this.insertSnippet = function(e, t) {
                    function i(e) {
                        var t, i, n, o = [];
                        for (t = 0; t < e.length; t++) {
                            if ("object" == typeof (i = e[t])) {
                                if (s[i.tabstopId])
                                    continue;
                                n = e.lastIndexOf(i, t - 1),
                                i = o[n] || {
                                    tabstopId: i.tabstopId
                                }
                            }
                            o[t] = i
                        }
                        return o
                    }
                    var o, s, r, a, l, c, d, h, u, p, f, g, m, _, v = e.getCursorPosition(), y = e.session.getLine(v.row), b = y.match(/^\s*/)[0], w = e.session.getTabString(), $ = this.tokenizeTmSnippet(t);
                    for ($ = this.resolveVariables($, e),
                    $ = $.map(function(e) {
                        return "\n" == e ? e + b : "string" == typeof e ? e.replace(/\t/g, w) : e
                    }),
                    o = [],
                    $.forEach(function(e, t) {
                        var i, n, s, r, a;
                        "object" == typeof e && (i = e.tabstopId,
                        n = o[i],
                        n || (n = o[i] = [],
                        n.index = i,
                        n.value = ""),
                        -1 === n.indexOf(e) && (n.push(e),
                        -1 !== (s = $.indexOf(e, t + 1)) && (r = $.slice(t + 1, s),
                        a = r.some(function(e) {
                            return "object" == typeof e
                        }),
                        a && !n.value ? n.value = r : !r.length || n.value && "string" == typeof n.value || (n.value = r.join("")))))
                    }),
                    o.forEach(function(e) {
                        e.length = 0
                    }),
                    s = {},
                    r = 0; r < $.length; r++)
                        "object" == typeof (a = $[r]) && (l = a.tabstopId,
                        c = $.indexOf(a, r + 1),
                        s[l] != a ? (d = o[l],
                        h = "string" == typeof d.value ? [d.value] : i(d.value),
                        h.unshift(r + 1, Math.max(0, c - r)),
                        h.push(a),
                        s[l] = a,
                        $.splice.apply($, h),
                        -1 === d.indexOf(a) && d.push(a)) : s[l] = null);
                    u = 0,
                    p = 0,
                    f = "",
                    $.forEach(function(e) {
                        "string" == typeof e ? ("\n" === e[0] ? (p = e.length - 1,
                        u++) : p += e.length,
                        f += e) : e.start ? e.end = {
                            row: u,
                            column: p
                        } : e.start = {
                            row: u,
                            column: p
                        }
                    }),
                    g = e.getSelectionRange(),
                    m = e.session.replace(g, f),
                    _ = new n(e),
                    _.addTabstops(o, g.start, m),
                    _.tabNext()
                }
                ,
                this.$getScope = function(e) {
                    var t, i, n = e.session.$mode.$id || "";
                    return n = n.split("/").pop(),
                    "html" !== n && "php" !== n || ("php" === n && (n = "html"),
                    t = e.getCursorPosition(),
                    i = e.session.getState(t.row),
                    "object" == typeof i && (i = i[0]),
                    i.substring && ("js-" == i.substring(0, 3) ? n = "javascript" : "css-" == i.substring(0, 4) ? n = "css" : "php-" == i.substring(0, 4) && (n = "php"))),
                    n
                }
                ,
                this.expandWithTab = function(e) {
                    var t, i = e.getCursorPosition(), n = e.session.getLine(i.row), o = n.substring(0, i.column), s = n.substr(i.column), r = this.$getScope(e), a = this.snippetMap;
                    return [r, "_"].some(function(e) {
                        var i = a[e];
                        return i && (t = this.findMatchingSnippet(i, o, s)),
                        !!t
                    }, this),
                    !!t && (e.session.doc.removeInLine(i.row, i.column - t.replaceBefore.length, i.column + t.replaceAfter.length),
                    this.variables.M__ = t.matchBefore,
                    this.variables.T__ = t.matchAfter,
                    this.insertSnippet(e, t.content),
                    this.variables.M__ = this.variables.T__ = null,
                    !0)
                }
                ,
                this.findMatchingSnippet = function(e, t, i) {
                    var n, o;
                    for (n = e.length; n--; )
                        if (o = e[n],
                        (!o.startRe || o.startRe.test(t)) && (!o.endRe || o.endRe.test(i)) && (o.startRe || o.endRe))
                            return o.matchBefore = o.startRe ? o.startRe.exec(t) : [""],
                            o.matchAfter = o.endRe ? o.endRe.exec(i) : [""],
                            o.replaceBefore = o.triggerRe ? o.triggerRe.exec(t)[0] : "",
                            o.replaceAfter = o.endTriggerRe ? o.endTriggerRe.exec(i)[0] : "",
                            o
                }
                ,
                this.snippetMap = {},
                this.snippetNameMap = {},
                this.register = function(e, t) {
                    function i(e) {
                        return e && !/^\^?\(.*\)\$?$|^\\b$/.test(e) && (e = "(?:" + e + ")"),
                        e || ""
                    }
                    function n(e, t, n) {
                        return e = i(e),
                        t = i(t),
                        n ? (e = t + e) && "$" != e[e.length - 1] && (e += "$") : (e += t) && "^" != e[0] && (e = "^" + e),
                        RegExp(e)
                    }
                    function o(e) {
                        var i, o;
                        e.scope || (e.scope = t || "_"),
                        t = e.scope,
                        s[t] || (s[t] = [],
                        a[t] = {}),
                        i = a[t],
                        e.name && (o = i[e.name],
                        o && l.unregister(o),
                        i[e.name] = e),
                        s[t].push(e),
                        e.tabTrigger && !e.trigger && (!e.guard && /^\w/.test(e.tabTrigger) && (e.guard = "\\b"),
                        e.trigger = r.escapeRegExp(e.tabTrigger)),
                        e.startRe = n(e.trigger, e.guard, !0),
                        e.triggerRe = RegExp(e.trigger, "", !0),
                        e.endRe = n(e.endTrigger, e.endGuard, !0),
                        e.endTriggerRe = RegExp(e.endTrigger, "", !0)
                    }
                    var s = this.snippetMap
                      , a = this.snippetNameMap
                      , l = this;
                    e.content ? o(e) : Array.isArray(e) && e.forEach(o)
                }
                ,
                this.unregister = function(e, t) {
                    function i(e) {
                        var i, s, r = o[e.scope || t];
                        r && r[e.name] && (delete r[e.name],
                        i = n[e.scope || t],
                        (s = i && i.indexOf(e)) >= 0 && i.splice(s, 1))
                    }
                    var n = this.snippetMap
                      , o = this.snippetNameMap;
                    e.content ? i(e) : Array.isArray(e) && e.forEach(i)
                }
                ,
                this.parseSnippetFile = function(e) {
                    var t, i, n, o, s, r, a;
                    for (e = e.replace(/\r/g, ""),
                    t = [],
                    i = {},
                    n = /^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm; o = n.exec(e); ) {
                        if (o[1])
                            try {
                                i = JSON.parse(o[1]),
                                t.push(i)
                            } catch (e) {}
                        o[4] ? (i.content = o[4].replace(/^\t/gm, ""),
                        t.push(i),
                        i = {}) : (s = o[2],
                        r = o[3],
                        "regex" == s ? (a = /\/((?:[^\/\\]|\\.)*)|$/g,
                        i.guard = a.exec(r)[1],
                        i.trigger = a.exec(r)[1],
                        i.endTrigger = a.exec(r)[1],
                        i.endGuard = a.exec(r)[1]) : "snippet" == s ? (i.tabTrigger = r.match(/^\S*/)[0],
                        i.name || (i.name = r)) : i[s] = r)
                    }
                    return t
                }
                ,
                this.getSnippetByName = function(e, t) {
                    var i, n = t && this.$getScope(t), o = this.snippetNameMap;
                    return [n, "_"].some(function(t) {
                        var n = o[t];
                        return n && (i = n[e]),
                        !!i
                    }, this),
                    i
                }
            }
            ).call(h.prototype),
            n = function(e) {
                if (e.tabstopManager)
                    return e.tabstopManager;
                e.tabstopManager = this,
                this.$onChange = this.onChange.bind(this),
                this.$onChangeSelection = r.delayedCall(this.onChangeSelection.bind(this)).schedule,
                this.$onChangeSession = this.onChangeSession.bind(this),
                this.$onAfterExec = this.onAfterExec.bind(this),
                this.attach(e)
            }
            ,
            function() {
                this.attach = function(e) {
                    this.index = -1,
                    this.ranges = [],
                    this.tabstops = [],
                    this.selectedTabstop = null,
                    this.editor = e,
                    this.editor.on("change", this.$onChange),
                    this.editor.on("changeSelection", this.$onChangeSelection),
                    this.editor.on("changeSession", this.$onChangeSession),
                    this.editor.commands.on("afterExec", this.$onAfterExec),
                    this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)
                }
                ,
                this.detach = function() {
                    this.tabstops.forEach(this.removeTabstopMarkers, this),
                    this.ranges = null,
                    this.tabstops = null,
                    this.selectedTabstop = null,
                    this.editor.removeListener("change", this.$onChange),
                    this.editor.removeListener("changeSelection", this.$onChangeSelection),
                    this.editor.removeListener("changeSession", this.$onChangeSession),
                    this.editor.commands.removeListener("afterExec", this.$onAfterExec),
                    this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),
                    this.editor.tabstopManager = null,
                    this.editor = null
                }
                ,
                this.onChange = function(e) {
                    var t, i, n, o, s = e.data.range, r = "r" == e.data.action[0], a = s.start, l = s.end, c = a.row, h = l.row, u = h - c, p = l.column - a.column;
                    if (r && (u = -u,
                    p = -p),
                    !this.$inChange && r && (t = this.selectedTabstop,
                    !t.some(function(e) {
                        return d(e.start, a) <= 0 && d(e.end, l) >= 0
                    })))
                        return this.detach();
                    for (i = this.ranges,
                    n = 0; n < i.length; n++)
                        o = i[n],
                        o.end.row < a.row || (d(a, o.start) < 0 && d(l, o.end) > 0 ? (this.removeRange(o),
                        n--) : (o.start.row == c && o.start.column > a.column && (o.start.column += p),
                        o.end.row == c && o.end.column >= a.column && (o.end.column += p),
                        o.start.row >= c && (o.start.row += u),
                        o.end.row >= c && (o.end.row += u),
                        d(o.start, o.end) > 0 && this.removeRange(o)));
                    i.length || this.detach()
                }
                ,
                this.updateLinkedFields = function() {
                    var e, i, n, o, s, r = this.selectedTabstop;
                    if (r.hasLinkedRanges) {
                        for (this.$inChange = !0,
                        e = this.editor.session,
                        i = e.getTextRange(r.firstNonLinked),
                        n = r.length; n--; )
                            o = r[n],
                            o.linked && (s = t.snippetManager.tmStrFormat(i, o.original),
                            e.replace(o, s));
                        this.$inChange = !1
                    }
                }
                ,
                this.onAfterExec = function(e) {
                    e.command && !e.command.readOnly && this.updateLinkedFields()
                }
                ,
                this.onChangeSelection = function() {
                    var e, t, i, n, o, s;
                    if (this.editor) {
                        for (e = this.editor.selection.lead,
                        t = this.editor.selection.anchor,
                        i = this.editor.selection.isEmpty(),
                        n = this.ranges.length; n--; )
                            if (!this.ranges[n].linked && (o = this.ranges[n].contains(e.row, e.column),
                            s = i || this.ranges[n].contains(t.row, t.column),
                            o && s))
                                return;
                        this.detach()
                    }
                }
                ,
                this.onChangeSession = function() {
                    this.detach()
                }
                ,
                this.tabNext = function(e) {
                    var t = this.tabstops.length - 1
                      , i = this.index + (e || 1);
                    i = Math.min(Math.max(i, 0), t),
                    this.selectTabstop(i),
                    i == t && this.detach()
                }
                ,
                this.selectTabstop = function(e) {
                    var t, i, n = this.tabstops[this.index];
                    if (n && this.addTabstopMarkers(n),
                    this.index = e,
                    (n = this.tabstops[this.index]) && n.length) {
                        if (this.selectedTabstop = n,
                        this.editor.inVirtualSelectionMode)
                            this.editor.selection.setRange(n.firstNonLinked);
                        else
                            for (t = this.editor.multiSelect,
                            t.toSingleRange(n.firstNonLinked.clone()),
                            i = n.length; i--; )
                                n.hasLinkedRanges && n[i].linked || t.addRange(n[i].clone(), !0);
                        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)
                    }
                }
                ,
                this.addTabstops = function(e, t, i) {
                    var n, r, l, c;
                    e[0] || (n = a.fromPoints(i, i),
                    s(n.start, t),
                    s(n.end, t),
                    e[0] = [n],
                    e[0].index = 0),
                    r = this.index,
                    l = [r, 0],
                    c = this.ranges,
                    this.editor,
                    e.forEach(function(e) {
                        var i, n, s;
                        for (i = e.length; i--; )
                            n = e[i],
                            s = a.fromPoints(n.start, n.end || n.start),
                            o(s.start, t),
                            o(s.end, t),
                            s.original = n,
                            s.tabstop = e,
                            c.push(s),
                            e[i] = s,
                            n.fmtString ? (s.linked = !0,
                            e.hasLinkedRanges = !0) : e.firstNonLinked || (e.firstNonLinked = s);
                        e.firstNonLinked || (e.hasLinkedRanges = !1),
                        l.push(e),
                        this.addTabstopMarkers(e)
                    }, this),
                    l.push(l.splice(2, 1)[0]),
                    this.tabstops.splice.apply(this.tabstops, l)
                }
                ,
                this.addTabstopMarkers = function(e) {
                    var t = this.editor.session;
                    e.forEach(function(e) {
                        e.markerId || (e.markerId = t.addMarker(e, "ace_snippet-marker", "text"))
                    })
                }
                ,
                this.removeTabstopMarkers = function(e) {
                    var t = this.editor.session;
                    e.forEach(function(e) {
                        t.removeMarker(e.markerId),
                        e.markerId = null
                    })
                }
                ,
                this.removeRange = function(e) {
                    var t = e.tabstop.indexOf(e);
                    e.tabstop.splice(t, 1),
                    t = this.ranges.indexOf(e),
                    this.ranges.splice(t, 1),
                    this.editor.session.removeMarker(e.markerId)
                }
                ,
                this.keyboardHandler = new l,
                this.keyboardHandler.bindKeys({
                    Tab: function(e) {
                        e.tabstopManager.tabNext(1)
                    },
                    "Shift-Tab": function(e) {
                        e.tabstopManager.tabNext(-1)
                    },
                    Esc: function(e) {
                        e.tabstopManager.detach()
                    },
                    Return: function(e) {
                        return !1
                    }
                })
            }
            .call(n.prototype),
            o = function(e, t) {
                0 == e.row && (e.column += t.column),
                e.row += t.row
            }
            ,
            s = function(e, t) {
                e.row == t.row && (e.column -= t.column),
                e.row -= t.row
            }
            ,
            e("./lib/dom").importCssString("\t.ace_snippet-marker {\t    -moz-box-sizing: border-box;\t    box-sizing: border-box;\t    background: rgba(194, 193, 208, 0.09);\t    border: 1px dotted rgba(211, 208, 235, 0.62);\t    position: absolute;\t}"),
            t.snippetManager = new h
        }),
        define("ace/autocomplete", ["require", "exports", "module", "ace/keyboard/hash_handler", "ace/autocomplete/popup", "ace/autocomplete/util", "ace/lib/event", "ace/lib/lang", "ace/snippets"], function(e, t, i) {
            var n, o = e("./keyboard/hash_handler").HashHandler, s = e("./autocomplete/popup").AcePopup, r = e("./autocomplete/util"), a = e("./lib/event"), l = e("./lib/lang"), c = e("./snippets").snippetManager, d = function() {
                this.keyboardHandler = new o,
                this.keyboardHandler.bindKeys(this.commands),
                this.blurListener = this.blurListener.bind(this),
                this.changeListener = this.changeListener.bind(this),
                this.mousedownListener = this.mousedownListener.bind(this),
                this.mousewheelListener = this.mousewheelListener.bind(this),
                this.changeTimer = l.delayedCall(function() {
                    this.updateCompletions(!0)
                }
                .bind(this))
            };
            (function() {
                this.$init = function() {
                    this.popup = new s(document.body || document.documentElement),
                    this.popup.on("click", function(e) {
                        this.insertMatch(),
                        e.stop()
                    }
                    .bind(this))
                }
                ,
                this.openPopup = function(e, t, i) {
                    var n, o, s, r;
                    this.popup || this.$init(),
                    this.popup.setData(this.completions.filtered),
                    n = e.renderer,
                    i || (this.popup.setFontSize(e.getFontSize()),
                    o = n.layerConfig.lineHeight,
                    s = n.$cursorLayer.getPixelPosition(this.base, !0),
                    s.left -= this.popup.getTextLeftOffset(),
                    r = e.container.getBoundingClientRect(),
                    s.top += r.top - n.layerConfig.offset,
                    s.left += r.left,
                    s.left += n.$gutterLayer.gutterWidth,
                    this.popup.show(s, o))
                }
                ,
                this.detach = function() {
                    this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),
                    this.editor.off("changeSelection", this.changeListener),
                    this.editor.off("blur", this.changeListener),
                    this.editor.off("mousedown", this.mousedownListener),
                    this.editor.off("mousewheel", this.mousewheelListener),
                    this.changeTimer.cancel(),
                    this.popup && this.popup.hide(),
                    this.activated = !1,
                    this.completions = this.base = null
                }
                ,
                this.changeListener = function(e) {
                    var t = this.editor.selection.lead;
                    (t.row != this.base.row || t.column < this.base.column) && this.detach(),
                    this.activated ? this.changeTimer.schedule() : this.detach()
                }
                ,
                this.blurListener = function() {
                    document.activeElement != this.editor.textInput.getElement() && this.detach()
                }
                ,
                this.mousedownListener = function(e) {
                    this.detach()
                }
                ,
                this.mousewheelListener = function(e) {
                    this.detach()
                }
                ,
                this.goTo = function(e) {
                    var t = this.popup.getRow()
                      , i = this.popup.session.getLength() - 1;
                    switch (e) {
                    case "up":
                        t = t < 0 ? i : t - 1;
                        break;
                    case "down":
                        t = t >= i ? -1 : t + 1;
                        break;
                    case "start":
                        t = 0;
                        break;
                    case "end":
                        t = i
                    }
                    this.popup.setRow(t)
                }
                ,
                this.insertMatch = function(e) {
                    var t, i, n;
                    if (e || (e = this.popup.getData(this.popup.getRow())),
                    !e)
                        return !1;
                    if (e.completer && e.completer.insertMatch)
                        e.completer.insertMatch(this.editor);
                    else {
                        if (this.completions.filterText)
                            for (t = this.editor.selection.getAllRanges(),
                            i = 0; n = t[i]; i++)
                                n.start.column -= this.completions.filterText.length,
                                this.editor.session.remove(n);
                        e.snippet ? c.insertSnippet(this.editor, e.snippet) : this.editor.execCommand("insertstring", e.value || e)
                    }
                    this.detach()
                }
                ,
                this.commands = {
                    Up: function(e) {
                        e.completer.goTo("up")
                    },
                    Down: function(e) {
                        e.completer.goTo("down")
                    },
                    "Ctrl-Up|Ctrl-Home": function(e) {
                        e.completer.goTo("start")
                    },
                    "Ctrl-Down|Ctrl-End": function(e) {
                        e.completer.goTo("end")
                    },
                    Esc: function(e) {
                        e.completer.detach()
                    },
                    Space: function(e) {
                        e.completer.detach(),
                        e.insert(" ")
                    },
                    Return: function(e) {
                        e.completer.insertMatch()
                    },
                    "Shift-Return": function(e) {
                        e.completer.insertMatch(!0)
                    },
                    Tab: function(e) {
                        e.completer.insertMatch()
                    },
                    PageUp: function(e) {
                        e.completer.popup.gotoPageUp()
                    },
                    PageDown: function(e) {
                        e.completer.popup.gotoPageDown()
                    }
                },
                this.gatherCompletions = function(e, t) {
                    var i, n = e.getSession(), o = e.getCursorPosition(), s = n.getLine(o.row), a = r.retrievePrecedingIdentifier(s, o.column);
                    return this.base = e.getCursorPosition(),
                    this.base.column -= a.length,
                    i = [],
                    r.parForEach(e.completers, function(t, s) {
                        t.getCompletions(e, n, o, a, function(e, t) {
                            e || (i = i.concat(t)),
                            s()
                        })
                    }, function() {
                        t(null, {
                            prefix: a,
                            matches: i
                        })
                    }),
                    !0
                }
                ,
                this.showPopup = function(e) {
                    this.editor && this.detach(),
                    this.activated = !0,
                    this.editor = e,
                    e.completer != this && (e.completer && e.completer.detach(),
                    e.completer = this),
                    e.keyBinding.addKeyboardHandler(this.keyboardHandler),
                    e.on("changeSelection", this.changeListener),
                    e.on("blur", this.blurListener),
                    e.on("mousedown", this.mousedownListener),
                    e.on("mousewheel", this.mousewheelListener),
                    this.updateCompletions()
                }
                ,
                this.updateCompletions = function(e) {
                    var t, i;
                    if (e && this.base && this.completions) {
                        if (t = this.editor.getCursorPosition(),
                        (i = this.editor.session.getTextRange({
                            start: this.base,
                            end: t
                        })) == this.completions.filterText)
                            return;
                        return this.completions.setFilter(i),
                        this.completions.filtered.length ? void this.openPopup(this.editor, i, e) : this.detach()
                    }
                    this.gatherCompletions(this.editor, function(t, i) {
                        var o = i && i.matches;
                        return o && o.length ? (this.completions = new n(o),
                        this.completions.setFilter(i.prefix),
                        this.completions.filtered.length ? void this.openPopup(this.editor, i.prefix, e) : this.detach()) : this.detach()
                    }
                    .bind(this))
                }
                ,
                this.cancelContextMenu = function() {
                    var e = function(t) {
                        this.editor.off("nativecontextmenu", e),
                        t && t.domEvent && a.stopEvent(t.domEvent)
                    }
                    .bind(this);
                    setTimeout(e, 10),
                    this.editor.on("nativecontextmenu", e)
                }
            }
            ).call(d.prototype),
            d.startCommand = {
                name: "startAutocomplete",
                exec: function(e) {
                    e.completer || (e.completer = new d),
                    e.completer.showPopup(e),
                    e.completer.cancelContextMenu()
                },
                bindKey: "Ctrl-Space|Ctrl-Shift-Space|Alt-Space"
            },
            n = function(e, t, i) {
                this.all = e,
                this.filtered = e,
                this.filterText = t || ""
            }
            ,
            function() {
                this.setFilter = function(e) {
                    var t, i;
                    t = e.length > this.filterText && 0 === e.lastIndexOf(this.filterText, 0) ? this.filtered : this.all,
                    this.filterText = e,
                    t = this.filterCompletions(t, this.filterText),
                    t = t.sort(function(e, t) {
                        return t.exactMatch - e.exactMatch || t.score - e.score
                    }),
                    i = null,
                    t = t.filter(function(e) {
                        var t = e.value || e.caption || e.snippet;
                        return t !== i && (i = t,
                        !0)
                    }),
                    this.filtered = t
                }
                ,
                this.filterCompletions = function(e, t) {
                    var i, n, o, s, r, a, l, c, d, h, u, p = [], f = t.toUpperCase(), g = t.toLowerCase();
                    e: for (i = 0; n = e[i]; i++)
                        if (o = n.value || n.caption || n.snippet) {
                            for (s = -1,
                            r = 0,
                            a = 0,
                            d = 0; d < t.length; d++) {
                                if (h = o.indexOf(g[d], s + 1),
                                u = o.indexOf(f[d], s + 1),
                                (l = h >= 0 && (u < 0 || h < u) ? h : u) < 0)
                                    continue e;
                                c = l - s - 1,
                                c > 0 && (-1 === s && (a += 10),
                                a += c),
                                r |= 1 << l,
                                s = l
                            }
                            n.matchMask = r,
                            n.exactMatch = a ? 0 : 1,
                            n.score = (n.score || 0) - a,
                            p.push(n)
                        }
                    return p
                }
            }
            .call(n.prototype),
            t.Autocomplete = d,
            t.FilteredList = n
        }),
        define("ace/autocomplete/popup", ["require", "exports", "module", "ace/edit_session", "ace/virtual_renderer", "ace/editor", "ace/range", "ace/lib/event", "ace/lib/lang", "ace/lib/dom"], function(e, t, i) {
            var n = (e("../edit_session").EditSession,
            e("../virtual_renderer").VirtualRenderer)
              , o = e("../editor").Editor
              , s = e("../range").Range
              , r = e("../lib/event")
              , a = e("../lib/lang")
              , l = e("../lib/dom")
              , c = function(e) {
                var t, i = new n(e);
                return i.$maxLines = 4,
                t = new o(i),
                t.setHighlightActiveLine(!1),
                t.setShowPrintMargin(!1),
                t.renderer.setShowGutter(!1),
                t.renderer.setHighlightGutterLine(!1),
                t.$mouseHandler.$focusWaitTimout = 0,
                t
            }
              , d = function(e) {
                var t, i, n, o, d, h, u, p = l.createElement("div"), f = new c(p);
                return e && e.appendChild(p),
                p.style.display = "none",
                f.renderer.content.style.cursor = "default",
                f.renderer.setStyle("ace_autocomplete"),
                f.setOption("displayIndentGuides", !1),
                t = function() {}
                ,
                f.focus = t,
                f.$isFocused = !0,
                f.renderer.$cursorLayer.restartTimer = t,
                f.renderer.$cursorLayer.element.style.opacity = 0,
                f.renderer.$maxLines = 8,
                f.renderer.$keepTextAreaAtCursor = !1,
                f.setHighlightActiveLine(!1),
                f.session.highlight(""),
                f.session.$searchHighlight.clazz = "ace_highlight-marker",
                f.on("mousedown", function(e) {
                    var t = e.getDocumentPosition();
                    f.moveCursorToPosition(t),
                    f.selection.clearSelection(),
                    o.start.row = o.end.row = t.row,
                    e.stop()
                }),
                n = new s(-1,0,-1,1 / 0),
                o = new s(-1,0,-1,1 / 0),
                o.id = f.session.addMarker(o, "ace_active-line", "fullLine"),
                f.setSelectOnHover = function(e) {
                    e ? n.id && (f.session.removeMarker(n.id),
                    n.id = null) : n.id = f.session.addMarker(n, "ace_line-hover", "fullLine")
                }
                ,
                f.setSelectOnHover(!1),
                f.on("mousemove", function(e) {
                    if (!i)
                        return void (i = e);
                    if (i.x != e.x || i.y != e.y) {
                        i = e,
                        i.scrollTop = f.renderer.scrollTop;
                        var t = i.getDocumentPosition().row;
                        n.start.row != t && (n.id || f.setRow(t),
                        h(t))
                    }
                }),
                f.renderer.on("beforeRender", function() {
                    if (i && -1 != n.start.row) {
                        i.$pos = null;
                        var e = i.getDocumentPosition().row;
                        n.id || f.setRow(e),
                        h(e, !0)
                    }
                }),
                f.renderer.on("afterRender", function() {
                    var e = f.getRow()
                      , t = f.renderer.$textLayer
                      , i = t.element.childNodes[e - t.config.firstRow];
                    i != t.selectedNode && (t.selectedNode && l.removeCssClass(t.selectedNode, "ace_selected"),
                    t.selectedNode = i,
                    i && l.addCssClass(i, "ace_selected"))
                }),
                d = function() {
                    h(-1)
                }
                ,
                h = function(e, t) {
                    e !== n.start.row && (n.start.row = n.end.row = e,
                    t || f.session._emit("changeBackMarker"),
                    f._emit("changeHoverMarker"))
                }
                ,
                f.getHoveredRow = function() {
                    return n.start.row
                }
                ,
                r.addListener(f.container, "mouseout", d),
                f.on("hide", d),
                f.on("changeSelection", d),
                f.session.doc.getLength = function() {
                    return f.data.length
                }
                ,
                f.session.doc.getLine = function(e) {
                    var t = f.data[e];
                    return "string" == typeof t ? t : t && t.value || ""
                }
                ,
                u = f.session.bgTokenizer,
                u.$tokenizeRow = function(e) {
                    var t, i, n, o, s = f.data[e], r = [];
                    if (!s)
                        return r;
                    for ("string" == typeof s && (s = {
                        value: s
                    }),
                    s.caption || (s.caption = s.value),
                    t = -1,
                    e = 0; e < s.caption.length; e++)
                        n = s.caption[e],
                        i = s.matchMask & 1 << e ? 1 : 0,
                        t !== i ? (r.push({
                            type: s.className || (i ? "completion-highlight" : ""),
                            value: n
                        }),
                        t = i) : r[r.length - 1].value += n;
                    return s.meta && (o = f.renderer.$size.scrollerWidth / f.renderer.layerConfig.characterWidth,
                    s.meta.length + s.caption.length < o - 2 && r.push({
                        type: "rightAlignedText",
                        value: s.meta
                    })),
                    r
                }
                ,
                u.$updateOnChange = t,
                u.start = t,
                f.session.$computeWidth = function() {
                    return this.screenWidth = 0
                }
                ,
                f.data = [],
                f.setData = function(e) {
                    f.data = e || [],
                    f.setValue(a.stringRepeat("\n", e.length), -1),
                    f.setRow(0)
                }
                ,
                f.getData = function(e) {
                    return f.data[e]
                }
                ,
                f.getRow = function() {
                    return o.start.row
                }
                ,
                f.setRow = function(e) {
                    e = Math.max(-1, Math.min(this.data.length, e)),
                    o.start.row != e && (f.selection.clearSelection(),
                    o.start.row = o.end.row = e || 0,
                    f.session._emit("changeBackMarker"),
                    f.moveCursorTo(e || 0, 0),
                    f.isOpen && f._signal("select"))
                }
                ,
                f.hide = function() {
                    this.container.style.display = "none",
                    this._signal("hide"),
                    f.isOpen = !1
                }
                ,
                f.show = function(e, t) {
                    var n = this.container
                      , o = window.innerHeight
                      , s = this.renderer
                      , r = s.$maxLines * t * 1.4
                      , a = e.top + this.$borderSize;
                    a + r > o - t ? (n.style.top = "",
                    n.style.bottom = o - a + "px") : (a += t,
                    n.style.top = a + "px",
                    n.style.bottom = ""),
                    n.style.left = e.left + "px",
                    n.style.display = "",
                    this.renderer.$textLayer.checkForSizeChanges(),
                    this._signal("show"),
                    i = null,
                    f.isOpen = !0
                }
                ,
                f.getTextLeftOffset = function() {
                    return this.$borderSize + this.renderer.$padding + this.$imageSize
                }
                ,
                f.$imageSize = 0,
                f.$borderSize = 1,
                f
            };
            l.importCssString("\t.ace_autocomplete.ace-tm .ace_marker-layer .ace_active-line {\t    background-color: #CAD6FA;\t    z-index: 1;\t}\t.ace_autocomplete.ace-tm .ace_line-hover {\t    border: 1px solid #abbffe;\t    margin-top: -1px;\t    background: rgba(233,233,253,0.4);\t}\t.ace_autocomplete .ace_line-hover {\t    position: absolute;\t    z-index: 2;\t}\t.ace_rightAlignedText {\t    color: gray;\t    display: inline-block;\t    position: absolute;\t    right: 4px;\t    text-align: right;\t    z-index: -1;\t}\t.ace_autocomplete .ace_completion-highlight{\t    color: #000;\t    text-shadow: 0 0 0.01em;\t}\t.ace_autocomplete {\t    width: 280px;\t    z-index: 200000;\t    background: #fbfbfb;\t    color: #444;\t    border: 1px lightgray solid;\t    position: fixed;\t    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\t    line-height: 1.4;\t}"),
            t.AcePopup = d
        }),
        define("ace/autocomplete/util", ["require", "exports", "module"], function(e, t, i) {
            t.parForEach = function(e, t, i) {
                var n, o = 0, s = e.length;
                for (0 === s && i(),
                n = 0; n < s; n++)
                    t(e[n], function(e, t) {
                        ++o === s && i(e, t)
                    })
            }
            ;
            var n = /[a-zA-Z_0-9\$-\.]/;
            t.retrievePrecedingIdentifier = function(e, t, i) {
                var o, s;
                for (i = i || n,
                o = [],
                s = t - 1; s >= 0 && i.test(e[s]); s--)
                    o.push(e[s]);
                return o.reverse().join("")
            }
            ,
            t.retrieveFollowingIdentifier = function(e, t, i) {
                var o, s;
                for (i = i || n,
                o = [],
                s = t; s < e.length && i.test(e[s]); s++)
                    o.push(e[s]);
                return o
            }
        }),
        define("ace/autocomplete/text_completer", ["require", "exports", "module", "ace/range"], function(e, t, i) {
            function n(e, t) {
                return e.getTextRange(s.fromPoints({
                    row: 0,
                    column: 0
                }, t)).split(r).length - 1
            }
            function o(e, t) {
                var i = n(e, t)
                  , o = e.getValue().split(r)
                  , s = Object.create(null)
                  , a = o[i];
                return o.forEach(function(e, t) {
                    var n, r;
                    e && e !== a && (n = Math.abs(i - t),
                    r = o.length - n,
                    s[e] ? s[e] = Math.max(r, s[e]) : s[e] = r)
                }),
                s
            }
            var s = e("ace/range").Range
              , r = /[^a-zA-Z_0-9\$\-]+/;
            t.getCompletions = function(e, t, i, n, s) {
                var r = o(t, i, n);
                s(null, Object.keys(r).map(function(e) {
                    return {
                        name: e,
                        value: e,
                        score: r[e],
                        meta: "local"
                    }
                }))
            }
        })
    },
    2091: function(e, t) {
        "use strict";
        TradingView.Ace = TradingView.Ace || {},
        TradingView.Ace.tvscriptBuiltinFunctionsRegExList = [],
        TradingView.Ace.tvscriptBuiltinVariablesRegExList = [],
        TradingView.Ace.tvscriptBuiltinFunctionsList = [],
        TradingView.Ace.tvscriptBuiltinVariablesList = [],
        define("ace/mode/tvscript", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/tvscript_highlight_rules", "ace/mode/matching_brace_outdent", "ace/range", "ace/worker/worker_client", "ace/mode/behaviour/cstyle", "ace/mode/folding/cstyle"], function(e, t, i) {
            var n = e("../lib/oop")
              , o = e("./text").Mode
              , s = e("./tvscript_highlight_rules").TVScriptHighlightRules
              , r = e("./matching_brace_outdent").MatchingBraceOutdent
              , a = (e("../range").Range,
            e("../worker/worker_client").WorkerClient,
            e("./behaviour/cstyle").CstyleBehaviour)
              , l = e("./folding/cstyle").FoldMode
              , c = function() {
                this.HighlightRules = s,
                this.$outdent = new r,
                this.$behaviour = new a,
                this.foldingRules = new l
            };
            n.inherits(c, o),
            function() {
                this.lineCommentStart = "//"
            }
            .call(c.prototype),
            t.Mode = c
        }),
        define("ace/mode/tvscript_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function(e, t, i) {
            var n = e("../lib/oop")
              , o = e("./text_highlight_rules").TextHighlightRules
              , s = function() {
                var e = "\\\\([\\\\'\"])";
                this.m_defaultRules = {
                    start: [{
                        token: "comment",
                        regex: "\\/\\/.*$"
                    }, {
                        token: "string",
                        regex: "'(?=.)",
                        next: "qstring"
                    }, {
                        token: "string",
                        regex: '"(?=.)',
                        next: "qqstring"
                    }, {
                        token: "constant.numeric",
                        regex: "[0-9]+\\b"
                    }, {
                        token: "constant.numeric",
                        regex: "[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"
                    }, {
                        token: "constant.language",
                        regex: "(?:true|false)\\b"
                    }, {
                        token: "constant.other",
                        regex: /#[0-9a-fA-F]{6,6}\b/
                    }, {
                        token: "keyword.equals",
                        regex: /=/
                    }, {
                        token: "keyword.operator",
                        regex: /[\/%*+\-]|==|!=|<=|>=|<|>|\?|\:/
                    }, {
                        token: "keyword.operator",
                        regex: /[\[|\]|\,]/
                    }, {
                        token: "keyword.operator",
                        regex: /\b(?:not|or|and|if|else|for|to|by|break|continue)\b/
                    }, {
                        token: "paren",
                        regex: /[(|)]/
                    }, {
                        token: "support.function",
                        regex: "\\b(" + TradingView.Ace.tvscriptBuiltinFunctionsRegExList.join("|") + ")(?=\\s*\\()"
                    }, {
                        token: "support.variable",
                        regex: "\\b(?:" + TradingView.Ace.tvscriptBuiltinVariablesRegExList.join("|") + ")\\b"
                    }, {
                        token: "other",
                        regex: /\w([\.]?(\w+[\.])*\w+)?\b/
                    }],
                    qqstring: [{
                        token: "string",
                        regex: e
                    }, {
                        token: "string",
                        regex: "\\\\$",
                        next: "qqstring"
                    }, {
                        token: "string",
                        regex: '"|$',
                        next: "start"
                    }, {
                        defaultToken: "string"
                    }],
                    qstring: [{
                        token: "string",
                        regex: e
                    }, {
                        token: "string",
                        regex: "\\\\$",
                        next: "qstring"
                    }, {
                        token: "string",
                        regex: "'|$",
                        next: "start"
                    }, {
                        defaultToken: "string"
                    }]
                },
                this.$rules = this.m_defaultRules
            };
            n.inherits(s, o),
            t.TVScriptHighlightRules = s
        }),
        define("ace/mode/matching_brace_outdent", ["require", "exports", "module", "ace/range"], function(e, t, i) {
            var n = e("../range").Range
              , o = function() {};
            (function() {
                this.checkOutdent = function(e, t) {
                    return !!/^\s+$/.test(e) && /^\s*\}/.test(t)
                }
                ,
                this.autoOutdent = function(e, t) {
                    var i, o, s, r = e.getLine(t), a = r.match(/^(\s*\})/);
                    return a ? (i = a[1].length,
                    (o = e.findMatchingBracket({
                        row: t,
                        column: i
                    })) && o.row != t ? (s = this.$getIndent(e.getLine(o.row)),
                    void e.replace(new n(t,0,t,i - 1), s)) : 0) : 0
                }
                ,
                this.$getIndent = function(e) {
                    return e.match(/^\s*/)[0]
                }
            }
            ).call(o.prototype),
            t.MatchingBraceOutdent = o
        }),
        define("ace/mode/behaviour/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function(e, t, i) {
            var n = e("../../lib/oop")
              , o = e("../behaviour").Behaviour
              , s = e("../../token_iterator").TokenIterator
              , r = e("../../lib/lang")
              , a = ["text", "paren.rparen", "punctuation.operator"]
              , l = ["text", "paren.rparen", "punctuation.operator", "comment"]
              , c = 0
              , d = -1
              , h = ""
              , u = 0
              , p = -1
              , f = ""
              , g = ""
              , m = function() {
                m.isSaneInsertion = function(e, t) {
                    var i, n = e.getCursorPosition(), o = new s(t,n.row,n.column);
                    return !(!this.$matchTokenType(o.getCurrentToken() || "text", a) && (i = new s(t,n.row,n.column + 1),
                    !this.$matchTokenType(i.getCurrentToken() || "text", a))) && (o.stepForward(),
                    o.getCurrentTokenRow() !== n.row || this.$matchTokenType(o.getCurrentToken() || "text", l))
                }
                ,
                m.$matchTokenType = function(e, t) {
                    return t.indexOf(e.type || e) > -1
                }
                ,
                m.recordAutoInsert = function(e, t, i) {
                    var n = e.getCursorPosition()
                      , o = t.doc.getLine(n.row);
                    this.isAutoInsertedClosing(n, o, h[0]) || (c = 0),
                    d = n.row,
                    h = i + o.substr(n.column),
                    c++
                }
                ,
                m.recordMaybeInsert = function(e, t, i) {
                    var n = e.getCursorPosition()
                      , o = t.doc.getLine(n.row);
                    this.isMaybeInsertedClosing(n, o) || (u = 0),
                    p = n.row,
                    f = o.substr(0, n.column) + i,
                    g = o.substr(n.column),
                    u++
                }
                ,
                m.isAutoInsertedClosing = function(e, t, i) {
                    return c > 0 && e.row === d && i === h[0] && t.substr(e.column) === h
                }
                ,
                m.isMaybeInsertedClosing = function(e, t) {
                    return u > 0 && e.row === p && t.substr(e.column) === g && t.substr(0, e.column) == f
                }
                ,
                m.popAutoInsertedClosing = function() {
                    h = h.substr(1),
                    c--
                }
                ,
                m.clearMaybeInsertedClosing = function() {
                    u = 0,
                    p = -1
                }
                ,
                this.add("braces", "insertion", function(e, t, i, n, o) {
                    var s, a, l, c, d, h = i.getCursorPosition(), p = n.doc.getLine(h.row);
                    if ("{" == o) {
                        if (s = i.getSelectionRange(),
                        "" !== (a = n.doc.getTextRange(s)) && "{" !== a && i.getWrapBehavioursEnabled())
                            return {
                                text: "{" + a + "}",
                                selection: !1
                            };
                        if (m.isSaneInsertion(i, n))
                            return /[\]\}\)]/.test(p[h.column]) ? (m.recordAutoInsert(i, n, "}"),
                            {
                                text: "{}",
                                selection: [1, 1]
                            }) : (m.recordMaybeInsert(i, n, "{"),
                            {
                                text: "{",
                                selection: [1, 1]
                            })
                    } else if ("}" == o) {
                        if ("}" == p.substring(h.column, h.column + 1) && null !== n.$findOpeningBracket("}", {
                            column: h.column + 1,
                            row: h.row
                        }) && m.isAutoInsertedClosing(h, p, o))
                            return m.popAutoInsertedClosing(),
                            {
                                text: "",
                                selection: [1, 1]
                            }
                    } else if (("\n" == o || "\r\n" == o) && (l = "",
                    m.isMaybeInsertedClosing(h, p) && (l = r.stringRepeat("}", u),
                    m.clearMaybeInsertedClosing()),
                    "}" == p.substring(h.column, h.column + 1) || "" !== l))
                        return n.findMatchingBracket({
                            row: h.row,
                            column: h.column
                        }, "}") ? (c = this.getNextLineIndent(e, p.substring(0, h.column), n.getTabString()),
                        d = this.$getIndent(p),
                        {
                            text: "\n" + c + "\n" + d + l,
                            selection: [1, c.length, 1, c.length]
                        }) : null
                }),
                this.add("braces", "deletion", function(e, t, i, n, o) {
                    var s, r = n.doc.getTextRange(o);
                    if (!o.isMultiLine() && "{" == r) {
                        if (s = n.doc.getLine(o.start.row),
                        "}" == s.substring(o.end.column, o.end.column + 1))
                            return o.end.column++,
                            o;
                        u--
                    }
                }),
                this.add("parens", "insertion", function(e, t, i, n, o) {
                    var s, r, a, l;
                    if ("(" == o) {
                        if (s = i.getSelectionRange(),
                        "" !== (r = n.doc.getTextRange(s)) && i.getWrapBehavioursEnabled())
                            return {
                                text: "(" + r + ")",
                                selection: !1
                            };
                        if (m.isSaneInsertion(i, n))
                            return m.recordAutoInsert(i, n, ")"),
                            {
                                text: "()",
                                selection: [1, 1]
                            }
                    } else if (")" == o && (a = i.getCursorPosition(),
                    l = n.doc.getLine(a.row),
                    ")" == l.substring(a.column, a.column + 1) && null !== n.$findOpeningBracket(")", {
                        column: a.column + 1,
                        row: a.row
                    }) && m.isAutoInsertedClosing(a, l, o)))
                        return m.popAutoInsertedClosing(),
                        {
                            text: "",
                            selection: [1, 1]
                        }
                }),
                this.add("parens", "deletion", function(e, t, i, n, o) {
                    var s, r = n.doc.getTextRange(o);
                    if (!o.isMultiLine() && "(" == r && (s = n.doc.getLine(o.start.row),
                    ")" == s.substring(o.start.column + 1, o.start.column + 2)))
                        return o.end.column++,
                        o
                }),
                this.add("brackets", "insertion", function(e, t, i, n, o) {
                    var s, r, a, l;
                    if ("[" == o) {
                        if (s = i.getSelectionRange(),
                        "" !== (r = n.doc.getTextRange(s)) && i.getWrapBehavioursEnabled())
                            return {
                                text: "[" + r + "]",
                                selection: !1
                            };
                        if (m.isSaneInsertion(i, n))
                            return m.recordAutoInsert(i, n, "]"),
                            {
                                text: "[]",
                                selection: [1, 1]
                            }
                    } else if ("]" == o && (a = i.getCursorPosition(),
                    l = n.doc.getLine(a.row),
                    "]" == l.substring(a.column, a.column + 1) && null !== n.$findOpeningBracket("]", {
                        column: a.column + 1,
                        row: a.row
                    }) && m.isAutoInsertedClosing(a, l, o)))
                        return m.popAutoInsertedClosing(),
                        {
                            text: "",
                            selection: [1, 1]
                        }
                }),
                this.add("brackets", "deletion", function(e, t, i, n, o) {
                    var s, r = n.doc.getTextRange(o);
                    if (!o.isMultiLine() && "[" == r && (s = n.doc.getLine(o.start.row),
                    "]" == s.substring(o.start.column + 1, o.start.column + 2)))
                        return o.end.column++,
                        o
                }),
                this.add("string_dquotes", "insertion", function(e, t, i, n, o) {
                    var s, r, a, l, c, d, h, u, p, f;
                    if ('"' == o || "'" == o) {
                        if (s = o,
                        r = i.getSelectionRange(),
                        "" !== (a = n.doc.getTextRange(r)) && "'" !== a && '"' != a && i.getWrapBehavioursEnabled())
                            return {
                                text: s + a + s,
                                selection: !1
                            };
                        if (l = i.getCursorPosition(),
                        c = n.doc.getLine(l.row),
                        "\\" == c.substring(l.column - 1, l.column))
                            return null;
                        for (d = n.getTokens(r.start.row),
                        h = 0,
                        p = -1,
                        f = 0; f < d.length && (u = d[f],
                        u.type == TVScript.Type.STRING ? p = -1 : p < 0 && (p = u.value.indexOf(s)),
                        !(u.value.length + h > r.start.column)); f++)
                            h += d[f].value.length;
                        if (!u || p < 0 && "comment" !== u.type && (u.type !== TVScript.Type.STRING || r.start.column !== u.value.length + h - 1 && u.value.lastIndexOf(s) === u.value.length - 1)) {
                            if (!m.isSaneInsertion(i, n))
                                return;
                            return {
                                text: s + s,
                                selection: [1, 1]
                            }
                        }
                        if (u && u.type === TVScript.Type.STRING && c.substring(l.column, l.column + 1) == s)
                            return {
                                text: "",
                                selection: [1, 1]
                            }
                    }
                }),
                this.add("string_dquotes", "deletion", function(e, t, i, n, o) {
                    var s, r = n.doc.getTextRange(o);
                    if (!o.isMultiLine() && ('"' == r || "'" == r) && (s = n.doc.getLine(o.start.row),
                    s.substring(o.start.column + 1, o.start.column + 2) == r))
                        return o.end.column++,
                        o
                })
            };
            n.inherits(m, o),
            t.CstyleBehaviour = m
        }),
        define("ace/mode/folding/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode"], function(e, t, i) {
            var n = e("../../lib/oop")
              , o = (e("../../range").Range,
            e("./fold_mode").FoldMode)
              , s = t.FoldMode = function(e) {
                e && (this.foldingStartMarker = RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + e.start)),
                this.foldingStopMarker = RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + e.end)))
            }
            ;
            n.inherits(s, o),
            function() {
                this.foldingStartMarker = /(\{|\[)[^\}\]]*$|^\s*(\/\*)/,
                this.foldingStopMarker = /^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,
                this.getFoldWidgetRange = function(e, t, i) {
                    var n, o = e.getLine(i), s = o.match(this.foldingStartMarker);
                    if (s)
                        return n = s.index,
                        s[1] ? this.openingBracketBlock(e, s[1], i, n) : e.getCommentFoldRange(i, n + s[0].length, 1);
                    if ("markbeginend" === t)
                        return s = o.match(this.foldingStopMarker),
                        s ? (n = s.index + s[0].length,
                        s[1] ? this.closingBracketBlock(e, s[1], i, n) : e.getCommentFoldRange(i, n, -1)) : void 0
                }
            }
            .call(s.prototype)
        })
    },
    2092: function(e, t) {
        "use strict";
        define("ace/theme/tomorrow", ["require", "exports", "module", "ace/lib/dom"], function(e, t, i) {
            t.isDark = !1,
            t.cssClass = "ace-tomorrow",
            t.cssText = ".ace-tomorrow .ace_gutter{\tbackground:#f6f6f6;\tcolor:#4d4d4c\t}\t.ace-tomorrow .ace_print-margin{\twidth:1px;\tbackground:#f6f6f6\t}\t.ace-tomorrow{\tbackground-color:#fff;\tcolor:#4d4d4c\t}\t.ace-tomorrow .ace_cursor{\tcolor:#aeafad\t}\t.ace-tomorrow .ace_marker-layer .ace_selection{\tbackground:#DADDE0\t}\t.ace-tomorrow.ace_multiselect .ace_selection.ace_start{\tbox-shadow:0 0 3px 0 #fff;\tborder-radius:2px\t}\t.ace-tomorrow .ace_marker-layer .ace_step{\tbackground:#ff0\t}\t.ace-tomorrow .ace_marker-layer .ace_bracket{\tmargin:-1px 0 0 -1px;\tborder:1px solid #777;\tbackground:#00FF00;\topacity:0.3;\tfilter: alpha(Opacity=30);\t}\t.ace-tomorrow .ace_marker-layer .ace-sel{\tmargin:-1px 0 0 -1px;\tborder:1px solid #d1d1d1\t}\t.ace-tomorrow .ace_marker-layer .ace_active-line{\tbackground:#efefef\t}\t.ace-tomorrow .ace_gutter-active-line{\tbackground-color:#dcdcdc\t}\t.ace-tomorrow .ace_marker-layer .ace_selected-word{\tborder:1px solid #DADDE0\t}\t.ace-tomorrow .ace_invisible{\tcolor:#d1d1d1\t}\t.ace-tomorrow .ace_keyword,.ace-tomorrow .ace_meta,.ace-tomorrow .ace_storage,.ace-tomorrow .ace_storage.ace_type,.ace-tomorrow .ace_support.ace_type{\tcolor:#8959a8\t}\t.ace-tomorrow .ace_keyword.ace_operator{\tcolor:#3e999f\t}\t.ace-tomorrow .ace_constant.ace_character,.ace-tomorrow .ace_constant.ace_language,.ace-tomorrow .ace_constant.ace_numeric,.ace-tomorrow .ace_keyword.ace_other.ace_unit,.ace-tomorrow .ace_support.ace_constant,.ace-tomorrow .ace_variable.ace_parameter{\tcolor:#f5871f\t}\t.ace-tomorrow .ace_constant.ace_other{\tcolor:#666969\t}\t.ace-tomorrow .ace_invalid{\tcolor:#fff;\tbackground-color:#c82829\t}\t.ace-tomorrow .ace_invalid.ace_deprecated{\tcolor:#fff;\tbackground-color:#8959a8\t}\t.ace-tomorrow .ace_fold{\tbackground-color:#4271ae;\tborder-color:#4d4d4c\t}\t.ace-tomorrow .ace_entity.ace_name.ace_function,.ace-tomorrow .ace_support.ace_function,.ace-tomorrow .ace_variable{\tcolor:#4271ae\t}\t.ace-tomorrow .ace_support.ace_class,.ace-tomorrow .ace_support.ace_type{\tcolor:#c99e00\t}\t.ace-tomorrow .ace_heading,.ace-tomorrow .ace_string{\tcolor:#718c00\t}\t.ace-tomorrow .ace_entity.ace_name.ace_tag,.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,.ace-tomorrow .ace_meta.ace_tag,.ace-tomorrow .ace_string.ace_regexp,.ace-tomorrow .ace_variable{\tcolor:#c82829\t}\t.ace-tomorrow .ace_comment{\tcolor:#8e908c\t}\t.ace-tomorrow .ace_indent-guide{\tbackground:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAAAAAC86un7AAAADElEQVQIHWP4z7AbAAO8AbtPl9xwAAAAAElFTkSuQmCC) right repeat-y\t}",
            e("../lib/dom").importCssString(t.cssText, t.cssClass)
        })
    },
    2093: function(e, t) {
        "use strict";
        define("ace/theme/tomorrow_night", ["require", "exports", "module", "ace/lib/dom"], function(e, t, i) {
            t.isDark = !0,
            t.cssClass = "ace-tomorrow-night",
            t.cssText = ".ace-tomorrow-night .ace_gutter {\tbackground: #25282c;\tcolor: #C5C8C6\t}\t.ace-tomorrow-night .ace_print-margin {\twidth: 1px;\tbackground: #25282c\t}\t.ace-tomorrow-night  {\tbackground-color: #1D1F21;\tcolor: #C5C8C6\t}\t.ace-tomorrow-night .ace_cursor {\tcolor: #AEAFAD\t}\t.ace-tomorrow-night .ace_marker-layer .ace_selection {\tbackground: #373B41\t}\t.ace-tomorrow-night.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px #1D1F21;\tborder-radius: 2px\t}\t.ace-tomorrow-night .ace_marker-layer .ace_step {\tbackground: rgb(102, 82, 0)\t}\t.ace-tomorrow-night .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid #4B4E55\t}\t.ace-tomorrow-night .ace_marker-layer .ace_active-line {\tbackground: #282A2E\t}\t.ace-tomorrow-night .ace_gutter-active-line {\tbackground-color: #282A2E\t}\t.ace-tomorrow-night .ace_marker-layer .ace_selected-word {\tborder: 1px solid #373B41\t}\t.ace-tomorrow-night .ace_invisible {\tcolor: #4B4E55\t}\t.ace-tomorrow-night .ace_keyword,\t.ace-tomorrow-night .ace_meta,\t.ace-tomorrow-night .ace_storage,\t.ace-tomorrow-night .ace_storage.ace_type,\t.ace-tomorrow-night .ace_support.ace_type {\tcolor: #B294BB\t}\t.ace-tomorrow-night .ace_keyword.ace_operator {\tcolor: #8ABEB7\t}\t.ace-tomorrow-night .ace_constant.ace_character,\t.ace-tomorrow-night .ace_constant.ace_language,\t.ace-tomorrow-night .ace_constant.ace_numeric,\t.ace-tomorrow-night .ace_keyword.ace_other.ace_unit,\t.ace-tomorrow-night .ace_support.ace_constant,\t.ace-tomorrow-night .ace_variable.ace_parameter {\tcolor: #DE935F\t}\t.ace-tomorrow-night .ace_constant.ace_other {\tcolor: #CED1CF\t}\t.ace-tomorrow-night .ace_invalid {\tcolor: #CED2CF;\tbackground-color: #DF5F5F\t}\t.ace-tomorrow-night .ace_invalid.ace_deprecated {\tcolor: #CED2CF;\tbackground-color: #B798BF\t}\t.ace-tomorrow-night .ace_fold {\tbackground-color: #81A2BE;\tborder-color: #C5C8C6\t}\t.ace-tomorrow-night .ace_entity.ace_name.ace_function,\t.ace-tomorrow-night .ace_support.ace_function,\t.ace-tomorrow-night .ace_variable {\tcolor: #81A2BE\t}\t.ace-tomorrow-night .ace_support.ace_class,\t.ace-tomorrow-night .ace_support.ace_type {\tcolor: #F0C674\t}\t.ace-tomorrow-night .ace_heading,\t.ace-tomorrow-night .ace_string {\tcolor: #B5BD68\t}\t.ace-tomorrow-night .ace_entity.ace_name.ace_tag,\t.ace-tomorrow-night .ace_entity.ace_other.ace_attribute-name,\t.ace-tomorrow-night .ace_meta.ace_tag,\t.ace-tomorrow-night .ace_string.ace_regexp,\t.ace-tomorrow-night .ace_variable {\tcolor: #CC6666\t}\t.ace-tomorrow-night .ace_comment {\tcolor: #969896\t}\t.ace-tomorrow-night .ace_indent-guide {\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y;\t}",
            e("../lib/dom").importCssString(t.cssText, t.cssClass)
        })
    },
    2094: function(e, t, i) {
        "use strict";
        i(1849);
        var n = i(1829).encodeURI;
        TradingView.Ace = TradingView.Ace || {},
        TradingView.Ace.dom = ace.require("ace/lib/dom"),
        TradingView.Ace.event = ace.require("ace/lib/event"),
        TradingView.Ace.Range = ace.require("ace/range").Range,
        TradingView.Ace.tooltipNode = null,
        TradingView.Ace.TokenTooltip = function(e, t, i) {
            e.tokenTooltip || (e.tokenTooltip = this,
            this.editor = e,
            this.data = t,
            this.referenceDialog = i,
            e.tooltip = TradingView.Ace.tooltipNode || this.$init(),
            this.getDocPos = this.getDocPos.bind(this),
            this.getToken = this.getToken.bind(this),
            this.update = this.update.bind(this),
            this.onMouseMove = this.onMouseMove.bind(this),
            this.onMouseOut = this.onMouseOut.bind(this),
            this.onClick = this.onClick.bind(this),
            TradingView.Ace.event.addListener(e.renderer.scroller, "mousemove", this.onMouseMove),
            TradingView.Ace.event.addListener(e.renderer.content, "mouseout", this.onMouseOut),
            TradingView.Ace.event.addListener(e.renderer.content, "click", this.onClick))
        }
        ,
        function() {
            this.token = {},
            this.range = new TradingView.Ace.Range,
            this.hide = function() {
                this.editor.session.removeMarker(this.marker),
                TradingView.Ace.tooltipNode.style.display = "none",
                this.isOpen = !1
            }
            ,
            this.getDocPos = function() {
                var e, t, i, n, o, s = this.editor.renderer;
                return this.lastT - (s.timeStamp || 0) > 1e3 && (s.rect = null,
                s.timeStamp = this.lastT,
                this.maxHeight = window.innerHeight,
                this.maxWidth = window.innerWidth),
                e = s.rect = s.scroller.getBoundingClientRect(),
                t = (this.x + s.scrollLeft - e.left - s.$padding) / s.characterWidth,
                i = Math.floor((this.y + s.scrollTop - e.top) / s.lineHeight),
                n = Math.round(t),
                o = {
                    row: i,
                    column: n,
                    side: t - n > 0 ? 1 : -1
                },
                this.editor.session.screenToDocumentPosition(o.row, o.column)
            }
            ,
            this.getToken = function(e) {
                var t = this.editor.session.getTokenAt(e.row, e.column);
                return t || this.editor.session.getLine(e.row) || (t = {
                    type: "",
                    value: "",
                    state: this.editor.session.bgTokenizer.getState(0)
                }),
                t
            }
            ,
            this.update = function() {
                var e, t, i;
                if (this.$timer = null,
                e = this.getDocPos(),
                !(t = this.getToken(e)))
                    return void this.hide();
                this.isOpen || (TradingView.Ace.tooltipNode.style.display = "",
                this.isOpen = !0),
                i = this.getTokenInfo(t),
                null === i || void 0 === i ? this.hide() : this.tokenText !== i && (TradingView.Ace.tooltipNode.innerHTML = i,
                this.tooltipWidth = TradingView.Ace.tooltipNode.offsetWidth,
                this.tooltipHeight = TradingView.Ace.tooltipNode.offsetHeight,
                this.tokenText = i),
                this.updateTooltipPosition(this.x, this.y),
                this.token = t,
                this.editor.session.removeMarker(this.marker),
                this.range = new TradingView.Ace.Range(e.row,t.start,e.row,t.start + t.value.length),
                this.marker = this.editor.session.addMarker(this.range, "ace-sel", "text")
            }
            ,
            this.getTokenInfo = function(e) {
                var t, i = e.value;
                switch (e.type) {
                case "support.function":
                    return t = this.data.functions.docs[i],
                    this.getBriefMetainfo(i, t, $.t(t.kind));
                case "support.variable":
                    return t = this.data.variables.docs[i],
                    this.getBriefMetainfo(i, t, $.t("Built-in variable"));
                case "keyword.operator":
                    return t = this.data.operators.docs[i],
                    this.getBriefMetainfo(i, t, $.t("Language operator"));
                default:
                    return null
                }
            }
            ,
            this.onMouseMove = function(e) {
                this.x = e.clientX,
                this.y = e.clientY,
                this.isOpen && (this.lastT = e.timeStamp,
                this.updateTooltipPosition(this.x, this.y)),
                this.$timer || (this.isOpen ? this.$timer = setTimeout(this.update, 100) : this.$timer = setTimeout(this.update, 1200))
            }
            ,
            this.onMouseOut = function(e) {
                for (var t = e && e.relatedTarget, i = e && e.currentTarget; t && (t = t.parentNode); )
                    if (t === i)
                        return;
                TradingView.Ace.tooltipNode.style.display = "none",
                this.editor.session.removeMarker(this.marker),
                this.$timer = clearTimeout(this.$timer),
                this.isOpen = !1
            }
            ,
            this.onClick = function(e) {
                var t, i;
                if ((e.ctrlKey || e.metaKey) && (t = this.getToken(this.getDocPos()))) {
                    if ("support.function" === t.type)
                        i = "fun_" + t.value;
                    else if ("support.variable" === t.type)
                        i = "var_" + t.value;
                    else {
                        if ("keyword.operator" !== t.type)
                            return;
                        i = "op_" + n(t.value)
                    }
                    this.referenceDialog && this.referenceDialog.open(i)
                }
            }
            ,
            this.updateTooltipPosition = function(e, t) {
                var i = TradingView.Ace.tooltipNode.style;
                e + 10 + this.tooltipWidth > this.maxWidth && (e = window.innerWidth - this.tooltipWidth - 10),
                (t > .75 * window.innerHeight || t + 20 + this.tooltipHeight > this.maxHeight) && (t = t - this.tooltipHeight - 30),
                i.left = e + 10 + "px",
                i.top = t + 20 + "px"
            }
            ,
            this.$init = function() {
                TradingView.Ace.tooltipNode = document.documentElement.appendChild(TradingView.Ace.dom.createElement("div"));
                var e = TradingView.Ace.tooltipNode.style;
                return TradingView.Ace.tooltipNode.className = "tv-script-tooltip",
                e.position = "fixed",
                e.display = "none",
                TradingView.Ace.tooltipNode
            }
            ,
            this.destroy = function() {
                this.onMouseOut(),
                TradingView.Ace.event.removeListener(this.editor.renderer.scroller, "mousemove", this.onMouseMove),
                TradingView.Ace.event.removeListener(this.editor.renderer.content, "mouseout", this.onMouseOut),
                delete this.editor.tokenTooltip
            }
            ,
            this.getBriefMetainfo = function(e, t, i) {
                var n = function(e) {
                    return e.replace(/{@(\\w+)\\s+([\\w.]+)}/g, "<code>$2</code>")
                }
                  , o = '<h3><span class="name">' + e + '</span> <span class="type">' + i + "</span></h3>";
                return t.desc && t.desc.length && (o += t.desc.map(function(e) {
                    return '<p class="desc">' + n(e) + "</p>"
                }).join("")),
                t.type && (o += '<p class="type"><strong>Type:</strong> <code>' + t.type + "</code></p>"),
                t.syntax && t.syntax.length && (o += '<h4>Syntax</h4><p class="syntax">' + t.syntax.map(function(e) {
                    return "<code>" + e + "</code>"
                }).join("<br>") + "</p>"),
                t.returns && t.returns.length && (o += "<h4>Returns</h4>" + t.returns.map(function(e) {
                    return '<p class="returns">' + n(e) + "</p>"
                }).join("")),
                o += "<cite>Ctrl&thinsp;+&thinsp;click (PC) or cmd&thinsp;+&thinsp;click (Mac) on keyword for more help</cite>"
            }
        }
        .call(TradingView.Ace.TokenTooltip.prototype)
    },
    2211: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 11"><path d="M5 0c-.942 0-1.69.178-2.25.53-.56.354-.844.834-.844 1.47v1.906c0 .394-.137.686-.437.875-.3.19-.8.277-1.47.285v.875c.62 0 1.08.1 1.403.28.326.18.5.48.5.906V9c0 .632.274 1.12.813 1.47.537.348 1.297.522 2.28.53v-.875c-.585-.008-1.04-.092-1.344-.28-.303-.19-.437-.49-.437-.908V7.095c0-.883-.597-1.403-1.75-1.563v-.06c1.153-.16 1.75-.68 1.75-1.564V2.094C3.22 1.3 3.81.868 5 .844V0zm3 0v.844c1.19.024 1.78.457 1.78 1.25v1.812c0 .883.597 1.403 1.75 1.563v.06c-1.153.16-1.75.68-1.75 1.56v1.844c0 .42-.133.718-.436.907-.303.19-.76.274-1.344.28V11c.983-.008 1.743-.182 2.28-.53.54-.35.814-.838.814-1.47V7.125c0-.427.174-.724.5-.906.326-.187.785-.285 1.406-.285V5.06c-.673-.01-1.17-.092-1.47-.28-.3-.19-.436-.48-.436-.875V2c0-.636-.285-1.116-.844-1.47C9.69.18 8.942 0 8 0z" font-family="Open Sans" font-size="40" letter-spacing="0" word-spacing="0" style="line-height:125%;-inkscape-font-specification:Open Sans"/></svg>'
    },
    2213: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><g transform="translate(-8 -7)"><path fill-rule="evenodd" d="M17 11c1.38 0 2.63.56 3.54 1.46L18 15h6V9l-2.05 2.05A6.976 6.976 0 0 0 17 9c-3.53 0-6.43 2.61-6.92 6h2.02a5 5 0 0 1 4.9-4zm6.92 6H21.9a5 5 0 0 1-4.9 4c-1.38 0-2.63-.56-3.54-1.46L16 17h-6v6l2.05-2.05A6.976 6.976 0 0 0 17 23c1.55 0 2.98-.51 4.14-1.36l1.5-1.5A6.89 6.89 0 0 0 23.92 17z"/></g></svg>'
    },
    2214: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 12"><path d="M0 0h3v12H0zm4 0v12h3V0H4zm1 1h1v10H5V1zm3-1h3v12H8z"/></svg>'
    },
    2243: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" width="16" height="17"><path d="M15.944 3.997L12.29.93l-1.025 1.215 3.654 3.067 1.024-1.215zM4.727 2.147L3.71.93.056 3.99 1.08 5.205l3.647-3.06zm3.67 3.66H7.205v4.768l3.774 2.264.595-.978L8.397 9.98V5.807zM8 2.63a7.15 7.15 0 0 0 0 14.3 7.15 7.15 0 0 0 0-14.3zm0 12.71a5.557 5.557 0 0 1-5.56-5.56A5.557 5.557 0 0 1 8 4.22a5.557 5.557 0 0 1 5.56 5.56A5.557 5.557 0 0 1 8 15.34z"/></svg>'
    },
    2251: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><g fill="none" fill-rule="evenodd" stroke="#CFD0D1" stroke-width="2" transform="translate(1 1)"><circle cx="6" cy="6" r="6"/><path d="M10 10l4 4"/></g></svg>'
    },
    2254: function(e, t) {},
    2284: function(e, t) {},
    2335: function(e, t) {
        "use strict";
        function i(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        var n, o;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        n = function() {
            function e(e, t) {
                var i, n;
                for (i = 0; i < t.length; i++)
                    n = t[i],
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n)
            }
            return function(t, i, n) {
                return i && e(t.prototype, i),
                n && e(t, n),
                t
            }
        }(),
        o = function() {
            function e() {
                i(this, e)
            }
            return n(e, [{
                key: "load",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function() {}
                    ;
                    return $.ajax({
                        type: "POST",
                        url: "/textnotes/getall/",
                        success: e,
                        error: t,
                        async: !1
                    })
                }
            }]),
            e
        }(),
        t.default = o,
        e.exports = t.default
    },
    2430: function(e, t, i) {
        "use strict";
        function n(e) {
            this.options = e || {}
        }
        var o = i(892).createTabbedDialog
          , s = i(9).trackEvent
          , r = null;
        n.prototype.show = function() {
            var e, t, i, n;
            s("GUI", "Shortcuts"),
            e = [],
            t = $('<div class="main keyboard-help tv-dialog__section"><div class="columns"><div class="column"><h4>' + $.t("Chart") + '</h4><p><span class="descr">' + $.t("Open indicators") + '</span><span class="value"><kbd>/</kbd></span></p><p><span class="descr">' + $.t("Open load Chart") + '</span><span class="value"><kbd>.</kbd></span></p><p><span class="descr">' + $.t("Change symbol") + '</span><span class="value">' + $.t("<kbd>Symbol</kbd>") + '</span></p><p><span class="descr">' + $.t("Change interval. Type in a digit for minute charts, or first letter of the word for longer resolutions e.g. 1, 5, 30, 60, 1440, H, 2H, 6H, D, 5D, 3W, 6M.") + '</span><span class="value">' + $.t("<kbd>Number</kbd>&nbsp;or&nbsp;<kbd>,</kbd>") + '</span></p><p><span class="descr">' + $.t("Move chart 1 bar to the left") + '</span><span class="value"><kbd>&larr;</kbd></span></p><p><span class="descr">' + $.t("Move chart 1 bar to the right") + '</span><span class="value"><kbd>&rarr;</kbd></span></p><p><span class="descr">' + $.t("Move further to the left") + '</span><span class="value"><kbd>Ctrl / &#8997;</kbd>&nbsp;+&nbsp;<kbd>&larr;</kbd></span></p><p><span class="descr">' + $.t("Move further to the right") + '</span><span class="value"><kbd>Ctrl / &#8997;</kbd>&nbsp;+&nbsp;<kbd>&rarr;</kbd></span></p><p><span class="descr">' + $.t("Undo") + '</span><span class="value"><kbd>Ctrl</kbd>&nbsp;+&nbsp;<kbd>z</kbd></span></p><p><span class="descr">' + $.t("Redo") + '</span><span class="value"><kbd>Ctrl</kbd>&nbsp;+&nbsp;<kbd>y</kbd></span></p><p><span class="descr">' + $.t("Partially erase") + '</span><span class="value"><kbd>Ctrl</kbd>&nbsp;+&nbsp;<kbd>' + $.t("Eraser") + '</kbd></span></p><p><span class="descr">' + $.t("Gann Box fixed increments") + '</span><span class="value">' + $.t("<code>Hold</code>&nbsp;<kbd>Shift</kbd>") + '</span></p><p><span class="descr">' + $.t("Measure tool") + '</span><span class="value">' + $.t("<code>Hold</code>&nbsp;<kbd>Shift</kbd>&nbsp; + Click") + '</span></p><p><span class="descr">' + $.t("Copy selected object") + '</span><span class="value"><kbd>Ctrl</kbd>&nbsp+&nbsp;<kbd>c</kbd></span></p><p><span class="descr">' + $.t("Paste object") + '</span><span class="value"><kbd>Ctrl</kbd>&nbsp+&nbsp;<kbd>v</kbd></span></p><p><span class="descr">' + $.t("Switching between charts in multi-charts layout") + '</span><span class="value"><kbd>Tab</kbd></span></p><p><span class="descr">' + $.t("Toggle maximize pane") + '</span><span class="value"><kbd>' + $.t("DoubleClick") + '</kbd></span></p></div><div class="column"><h4>&nbsp;</h4><p><span class="descr">' + $.t("Clone a drawing tool") + '</span><span class="value"><kbd>Ctrl</kbd>&nbsp;+&nbsp;<code>' + $.t("drag") + '</code></span></p><p><span class="descr">' + $.t("Add alert") + '</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>a</kbd></span></p><p><span class="descr">' + $.t("Go to date") + '</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>g</kbd></span></p><p><span class="descr">' + $.t("Insert horizontal line") + '</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>h</kbd></span></p><p><span class="descr">' + $.t("Add text note for symbol") + '</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>n</kbd></span></p><p><span class="descr">' + $.t("Take snapshot") + '</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>s</kbd></span></p><p><span class="descr">' + $.t("Reset chart") + '</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>r</kbd></span></p><p><span class="descr">' + $.t("Insert vertical line") + '</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>v</kbd></span></p><p><span class="descr">' + $.t("Add symbol to watchlist") + '</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>w</kbd></span></p><p><span class="descr">' + $.t("Open Publish Idea dialog") + '</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>p</kbd></span></p><p><span class="descr">' + $.t("Close Publish Idea dialog") + '</span><span class="value"><kbd>Esc</kbd></span></p><p><span class="descr">' + $.t("Square") + '</span><span class="value"><code>Rectangle</code>&nbsp;+&nbsp;<kbd>Shift</kbd></span></p><p><span class="descr">' + $.t("Circle") + '</span><span class="value"><code>Ellipse</code>&nbsp;+&nbsp;<kbd>Shift</kbd></span></p><p><span class="descr">' + $.t("45 degrees angle or horizontal") + '</span><span class="value">' + $.t("<code>Trend Line or Channel +</code>&nbsp;<kbd>Shift</kbd>") + "</span></p><h4>" + $.t("Watchlist & Screener") + '</h4><p><span class="descr">' + $.t("Next symbol") + '</span><span class="value"><kbd>&darr;</kbd>,&nbsp;<kbd>Space</kbd></span></p><p><span class="descr">' + $.t("Previous symbol") + '</span><span class="value"><kbd>&uarr;</kbd>,&nbsp;<kbd>Shift</kbd> + <kbd>Space</kbd></span></p><h4>' + $.t("Trading") + '</h4><p><span class="descr">' + $.t("Place market order to buy") + '</span><span class="value"><kbd>Shift</kbd>&nbsp+&nbsp;<kbd>b</kbd></span></p><p><span class="descr">' + $.t("Place market order to sell") + '</span><span class="value"><kbd>Shift</kbd>&nbsp+&nbsp;<kbd>s</kbd></span></p></div></div></div>'),
            e.push({
                name: $.t("Chart"),
                page: t
            }),
            i = $('<div class="main keyboard-help tv-dialog__section"><div class="columns"><div class="column"><h4>' + $.t("Script") + '</h4><p><span class="descr">' + $.t("New script") + '</span><span class="value"><kbd>Ctrl / ⌥</kbd> + <kbd>i</kbd></span></p><p><span class="descr">' + $.t("Save script") + '</span><span class="value"><kbd>Ctrl / ⌥</kbd> + <kbd>s</kbd></span></p><p><span class="descr">' + $.t("Open script") + '</span><span class="value"><kbd>Ctrl / ⌥</kbd> + <kbd>o</kbd></span></p><p><span class="descr">' + $.t("Delete script") + '</span><span class="value"><kbd>Ctrl / ⌥</kbd> + <kbd>e</kbd></span></p><p><span class="descr">' + $.t("Add script to chart") + '</span><span class="value"><kbd>Ctrl / ⌥</kbd> + <kbd>Enter</kbd></span></p><p><span class="descr">' + $.t("Open pine script reference") + '</span><span class="value"><kbd>Ctrl / ⌘</kbd> + Click</span></p><p><span class="descr">' + $.t("Toggle console") + '</span><span class="value"><kbd>Ctrl / ⌥</kbd> + <kbd>`</kbd></span></p><h4>' + $.t("Go to") + '</h4><p><span class="descr">' + $.t("Go to word left") + '</span><span class="value"><kbd>Ctrl / ⌥</kbd> + <kbd>←</kbd></span></p><p><span class="descr">' + $.t("Go to word right") + '</span><span class="value"><kbd>Ctrl / ⌥</kbd> + <kbd>→</kbd></span></p><p><span class="descr">' + $.t("Go to line start") + '</span><span class="value"><kbd>Home</kbd></span></p><p><span class="descr">' + $.t("Go to line end") + '</span><span class="value"><kbd>End</kbd></span></p><p><span class="descr">' + $.t("Go to start") + '</span><span class="value"><kbd>Ctrl / ⌥</kbd> + <kbd>Home</kbd></span></p><p><span class="descr">' + $.t("Go to end") + '</span><span class="value"><kbd>Ctrl / ⌥</kbd> + <kbd>End</kbd></span></p></div><div class="column"><h4>' + $.t("Line Operations") + '</h4><p><span class="descr">' + $.t("Remove line") + '</span><span class="value"><kbd>Ctrl / ⌘</kbd> + <kbd>d</kbd></span></p><p><span class="descr">' + $.t("Copy lines up") + '</span><span class="value"><kbd>Alt</kbd> + <kbd>Shift / ⌘</kbd> + <kbd>↑</kbd></span></p><p><span class="descr">' + $.t("Copy lines down") + '</span><span class="value"><kbd>Alt</kbd> + <kbd>Shift / ⌘</kbd> + <kbd>↓</kbd></span></p><p><span class="descr">' + $.t("Move lines up") + '</span><span class="value"><kbd>Alt</kbd> + <kbd>↑</kbd></span></p><p><span class="descr">' + $.t("Move lines down") + '</span><span class="value"><kbd>Alt</kbd> + <kbd>↓</kbd></span></p><p><span class="descr">' + $.t("Remove to line end") + '</span><span class="value"><kbd>Alt</kbd> + <kbd>Delete</kbd> / <kbd>Ctrl</kbd> + <kbd>k</kbd></span></p><p><span class="descr">' + $.t("Remove to line start") + '</span><span class="value"><kbd>Alt / ⌘</kbd> + <kbd>Backspace</kbd></span></p><p><span class="descr">' + $.t("Remove word left") + '</span><span class="value"><kbd>Ctrl / ⌥</kbd> + <kbd>Backspace</kbd></span></p><p><span class="descr">' + $.t("Remove word right") + '</span><span class="value"><kbd>Ctrl / ⌥</kbd> + <kbd>Delete</kbd></span></p><p><span class="descr">' + $.t("Autocomplete") + '</span><span class="value"><kbd>Ctrl / ⌥</kbd> + <kbd>Space</kbd></span></p><h4>' + $.t("Selection") + '</h4><p><span class="descr">' + $.t("Select all") + '</span><span class="value"><kbd>Ctrl / ⌘</kbd> + <kbd>a</kbd></span></p><p><span class="descr">' + $.t("Select line start") + '</span><span class="value"><kbd>Shift</kbd> + <kbd>Home</kbd></span></p><p><span class="descr">' + $.t("Select line end") + '</span><span class="value"><kbd>Shift</kbd> + <kbd>End</kbd></span></p><p><span class="descr">' + $.t("Select up") + '</span><span class="value"><kbd>Shift</kbd> + <kbd>↑</kbd></span></p><p><span class="descr">' + $.t("Select down") + '</span><span class="value"><kbd>Shift</kbd> + <kbd>↓</kbd></span></p></div></div></div>'),
            e.push({
                name: $.t("Pine Editor"),
                page: i
            }),
            n = o({
                tabs: e,
                width: 800,
                activeTab: this.options.activeTab,
                destroyOnClose: !0,
                withScroll: !1,
                contentAddClass: "js-dialog__scroll-wrap",
                isClickOutFn: function(e) {
                    if ($(e.target).parents().andSelf().is("._tv-dialog, .properties-toolbar, .colorpicker, .charts-popup-list, ._tv-dialog, .tvcolorpicker-popup, .symbol-edit-popup, .context-menu"))
                        return !1
                }
            }),
            n.tabs.tabChanged.subscribe(null, function(e) {
                n.tabs.checkScrollArrows(!0)
            }),
            n.dialog.on("beforeClose", function() {
                r = null
            }),
            r && r.close(),
            r = n.dialog,
            n.dialog.open()
        }
        ,
        e.exports.ShortcutsDialog = n
    },
    2439: function(e, t) {
        (function(t) {
            var i = "undefined" != typeof window ? window : "undefined" != typeof WorkerGlobalScope && self instanceof WorkerGlobalScope ? self : {}
              , n = function() {
                var e, t = /\blang(?:uage)?-(\w+)\b/i, n = 0, o = i.Prism = {
                    util: {
                        encode: function(e) {
                            return e instanceof s ? new s(e.type,o.util.encode(e.content),e.alias) : "Array" === o.util.type(e) ? e.map(o.util.encode) : e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/\u00a0/g, " ")
                        },
                        type: function(e) {
                            return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]
                        },
                        objId: function(e) {
                            return e.__id || Object.defineProperty(e, "__id", {
                                value: ++n
                            }),
                            e.__id
                        },
                        clone: function(e) {
                            var t, i;
                            switch (o.util.type(e)) {
                            case "Object":
                                t = {};
                                for (i in e)
                                    e.hasOwnProperty(i) && (t[i] = o.util.clone(e[i]));
                                return t;
                            case "Array":
                                return e.map && e.map(function(e) {
                                    return o.util.clone(e)
                                })
                            }
                            return e
                        }
                    },
                    languages: {
                        extend: function(e, t) {
                            var i, n = o.util.clone(o.languages[e]);
                            for (i in t)
                                n[i] = t[i];
                            return n
                        },
                        insertBefore: function(e, t, i, n) {
                            var s, r, a, l;
                            if (n = n || o.languages,
                            s = n[e],
                            2 == arguments.length) {
                                i = arguments[1];
                                for (r in i)
                                    i.hasOwnProperty(r) && (s[r] = i[r]);
                                return s
                            }
                            a = {};
                            for (l in s)
                                if (s.hasOwnProperty(l)) {
                                    if (l == t)
                                        for (r in i)
                                            i.hasOwnProperty(r) && (a[r] = i[r]);
                                    a[l] = s[l]
                                }
                            return o.languages.DFS(o.languages, function(t, i) {
                                i === n[e] && t != e && (this[t] = a)
                            }),
                            n[e] = a
                        },
                        DFS: function(e, t, i, n) {
                            n = n || {};
                            for (var s in e)
                                e.hasOwnProperty(s) && (t.call(e, s, e[s], i || s),
                                "Object" !== o.util.type(e[s]) || n[o.util.objId(e[s])] ? "Array" !== o.util.type(e[s]) || n[o.util.objId(e[s])] || (n[o.util.objId(e[s])] = !0,
                                o.languages.DFS(e[s], t, s, n)) : (n[o.util.objId(e[s])] = !0,
                                o.languages.DFS(e[s], t, null, n)))
                        }
                    },
                    plugins: {},
                    highlightAll: function(e, t) {
                        var i, n, s, r = {
                            callback: t,
                            selector: 'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'
                        };
                        for (o.hooks.run("before-highlightall", r),
                        i = r.elements || document.querySelectorAll(r.selector),
                        n = 0; s = i[n++]; )
                            o.highlightElement(s, !0 === e, r.callback)
                    },
                    highlightElement: function(e, n, s) {
                        for (var r, a, l, c, d, h = e; h && !t.test(h.className); )
                            h = h.parentNode;
                        if (h && (r = (h.className.match(t) || [, ""])[1].toLowerCase(),
                        a = o.languages[r]),
                        e.className = e.className.replace(t, "").replace(/\s+/g, " ") + " language-" + r,
                        h = e.parentNode,
                        /pre/i.test(h.nodeName) && (h.className = h.className.replace(t, "").replace(/\s+/g, " ") + " language-" + r),
                        l = e.textContent,
                        c = {
                            element: e,
                            language: r,
                            grammar: a,
                            code: l
                        },
                        o.hooks.run("before-sanity-check", c),
                        !c.code || !c.grammar)
                            return c.code && (c.element.textContent = c.code),
                            void o.hooks.run("complete", c);
                        o.hooks.run("before-highlight", c),
                        n && i.Worker ? (d = new Worker(o.filename),
                        d.onmessage = function(e) {
                            c.highlightedCode = e.data,
                            o.hooks.run("before-insert", c),
                            c.element.innerHTML = c.highlightedCode,
                            s && s.call(c.element),
                            o.hooks.run("after-highlight", c),
                            o.hooks.run("complete", c)
                        }
                        ,
                        d.postMessage(JSON.stringify({
                            language: c.language,
                            code: c.code,
                            immediateClose: !0
                        }))) : (c.highlightedCode = o.highlight(c.code, c.grammar, c.language),
                        o.hooks.run("before-insert", c),
                        c.element.innerHTML = c.highlightedCode,
                        s && s.call(e),
                        o.hooks.run("after-highlight", c),
                        o.hooks.run("complete", c))
                    },
                    highlight: function(e, t, i) {
                        var n = o.tokenize(e, t);
                        return s.stringify(o.util.encode(n), i)
                    },
                    tokenize: function(e, t, i) {
                        var n, s, r, a, l, c, d, h, u, p, f, g, m, _, v, y, b, w, $, C, A, x, S, k, F = o.Token, E = [e], T = t.rest;
                        if (T) {
                            for (n in T)
                                t[n] = T[n];
                            delete t.rest
                        }
                        e: for (n in t)
                            if (t.hasOwnProperty(n) && t[n])
                                for (s = t[n],
                                s = "Array" === o.util.type(s) ? s : [s],
                                r = 0; r < s.length; ++r)
                                    for (a = s[r],
                                    l = a.inside,
                                    c = !!a.lookbehind,
                                    d = !!a.greedy,
                                    h = 0,
                                    u = a.alias,
                                    d && !a.pattern.global && (p = ("" + a.pattern).match(/[imuy]*$/)[0],
                                    a.pattern = RegExp(a.pattern.source, p + "g")),
                                    a = a.pattern || a,
                                    f = 0,
                                    g = 0; f < E.length; g += E[f].length,
                                    ++f) {
                                        if (m = E[f],
                                        E.length > e.length)
                                            break e;
                                        if (!(m instanceof F)) {
                                            if (a.lastIndex = 0,
                                            _ = a.exec(m),
                                            v = 1,
                                            !_ && d && f != E.length - 1) {
                                                if (a.lastIndex = g,
                                                !(_ = a.exec(e)))
                                                    break;
                                                for (y = _.index + (c ? _[1].length : 0),
                                                b = _.index + _[0].length,
                                                w = f,
                                                $ = g,
                                                C = E.length; w < C && $ < b; ++w)
                                                    $ += E[w].length,
                                                    y >= $ && (++f,
                                                    g = $);
                                                if (E[f]instanceof F || E[w - 1].greedy)
                                                    continue;
                                                v = w - f,
                                                m = e.slice(g, $),
                                                _.index -= g
                                            }
                                            _ && (c && (h = _[1].length),
                                            y = _.index + h,
                                            _ = _[0].slice(h),
                                            b = y + _.length,
                                            A = m.slice(0, y),
                                            x = m.slice(b),
                                            S = [f, v],
                                            A && S.push(A),
                                            k = new F(n,l ? o.tokenize(_, l) : _,u,_,d),
                                            S.push(k),
                                            x && S.push(x),
                                            Array.prototype.splice.apply(E, S))
                                        }
                                    }
                        return E
                    },
                    hooks: {
                        all: {},
                        add: function(e, t) {
                            var i = o.hooks.all;
                            i[e] = i[e] || [],
                            i[e].push(t)
                        },
                        run: function(e, t) {
                            var i, n, s = o.hooks.all[e];
                            if (s && s.length)
                                for (i = 0; n = s[i++]; )
                                    n(t)
                        }
                    }
                }, s = o.Token = function(e, t, i, n, o) {
                    this.type = e,
                    this.content = t,
                    this.alias = i,
                    this.length = 0 | (n || "").length,
                    this.greedy = !!o
                }
                ;
                return s.stringify = function(e, t, i) {
                    var n, r, a;
                    return "string" == typeof e ? e : "Array" === o.util.type(e) ? e.map(function(i) {
                        return s.stringify(i, t, e)
                    }).join("") : (n = {
                        type: e.type,
                        content: s.stringify(e.content, t, i),
                        tag: "span",
                        classes: ["token", e.type],
                        attributes: {},
                        language: t,
                        parent: i
                    },
                    "comment" == n.type && (n.attributes.spellcheck = "true"),
                    e.alias && (r = "Array" === o.util.type(e.alias) ? e.alias : [e.alias],
                    Array.prototype.push.apply(n.classes, r)),
                    o.hooks.run("wrap", n),
                    a = Object.keys(n.attributes).map(function(e) {
                        return e + '="' + (n.attributes[e] || "").replace(/"/g, "&quot;") + '"'
                    }).join(" "),
                    "<" + n.tag + ' class="' + n.classes.join(" ") + '"' + (a ? " " + a : "") + ">" + n.content + "</" + n.tag + ">")
                }
                ,
                i.document ? (e = document.currentScript || [].slice.call(document.getElementsByTagName("script")).pop(),
                e && (o.filename = e.src,
                document.addEventListener && !e.hasAttribute("data-manual") && ("loading" !== document.readyState ? window.requestAnimationFrame ? window.requestAnimationFrame(o.highlightAll) : window.setTimeout(o.highlightAll, 16) : document.addEventListener("DOMContentLoaded", o.highlightAll))),
                i.Prism) : i.addEventListener ? (i.addEventListener("message", function(e) {
                    var t = JSON.parse(e.data)
                      , n = t.language
                      , s = t.code
                      , r = t.immediateClose;
                    i.postMessage(o.highlight(s, o.languages[n], n)),
                    r && i.close()
                }, !1),
                i.Prism) : i.Prism
            }();
            void 0 !== e && e.exports && (e.exports = n),
            void 0 !== t && (t.Prism = n),
            n.languages.markup = {
                comment: /<!--[\w\W]*?-->/,
                prolog: /<\?[\w\W]+?\?>/,
                doctype: /<!DOCTYPE[\w\W]+?>/i,
                cdata: /<!\[CDATA\[[\w\W]*?]]>/i,
                tag: {
                    pattern: /<\/?(?!\d)[^\s>\/=$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,
                    inside: {
                        tag: {
                            pattern: /^<\/?[^\s>\/]+/i,
                            inside: {
                                punctuation: /^<\/?/,
                                namespace: /^[^\s>\/:]+:/
                            }
                        },
                        "attr-value": {
                            pattern: /=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,
                            inside: {
                                punctuation: /[=>"']/
                            }
                        },
                        punctuation: /\/?>/,
                        "attr-name": {
                            pattern: /[^\s>\/]+/,
                            inside: {
                                namespace: /^[^\s>\/:]+:/
                            }
                        }
                    }
                },
                entity: /&#?[\da-z]{1,8};/i
            },
            n.hooks.add("wrap", function(e) {
                "entity" === e.type && (e.attributes.title = e.content.replace(/&amp;/, "&"))
            }),
            n.languages.xml = n.languages.markup,
            n.languages.html = n.languages.markup,
            n.languages.mathml = n.languages.markup,
            n.languages.svg = n.languages.markup,
            n.languages.css = {
                comment: /\/\*[\w\W]*?\*\//,
                atrule: {
                    pattern: /@[\w-]+?.*?(;|(?=\s*\{))/i,
                    inside: {
                        rule: /@[\w-]+/
                    }
                },
                url: /url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,
                selector: /[^\{\}\s][^\{\};]*?(?=\s*\{)/,
                string: {
                    pattern: /("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,
                    greedy: !0
                },
                property: /(\b|\B)[\w-]+(?=\s*:)/i,
                important: /\B!important\b/i,
                function: /[-a-z0-9]+(?=\()/i,
                punctuation: /[(){};:]/
            },
            n.languages.css.atrule.inside.rest = n.util.clone(n.languages.css),
            n.languages.markup && (n.languages.insertBefore("markup", "tag", {
                style: {
                    pattern: /(<style[\w\W]*?>)[\w\W]*?(?=<\/style>)/i,
                    lookbehind: !0,
                    inside: n.languages.css,
                    alias: "language-css"
                }
            }),
            n.languages.insertBefore("inside", "attr-value", {
                "style-attr": {
                    pattern: /\s*style=("|').*?\1/i,
                    inside: {
                        "attr-name": {
                            pattern: /^\s*style/i,
                            inside: n.languages.markup.tag.inside
                        },
                        punctuation: /^\s*=\s*['"]|['"]\s*$/,
                        "attr-value": {
                            pattern: /.+/i,
                            inside: n.languages.css
                        }
                    },
                    alias: "language-css"
                }
            }, n.languages.markup.tag)),
            n.languages.clike = {
                comment: [{
                    pattern: /(^|[^\\])\/\*[\w\W]*?\*\//,
                    lookbehind: !0
                }, {
                    pattern: /(^|[^\\:])\/\/.*/,
                    lookbehind: !0
                }],
                string: {
                    pattern: /(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,
                    greedy: !0
                },
                "class-name": {
                    pattern: /((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,
                    lookbehind: !0,
                    inside: {
                        punctuation: /(\.|\\)/
                    }
                },
                keyword: /\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,
                boolean: /\b(true|false)\b/,
                function: /[a-z0-9_]+(?=\()/i,
                number: /\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,
                operator: /--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,
                punctuation: /[{}[\];(),.:]/
            },
            n.languages.javascript = n.languages.extend("clike", {
                keyword: /\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,
                number: /\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,
                function: /[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i,
                operator: /--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*\*?|\/|~|\^|%|\.{3}/
            }),
            n.languages.insertBefore("javascript", "keyword", {
                regex: {
                    pattern: /(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,
                    lookbehind: !0,
                    greedy: !0
                }
            }),
            n.languages.insertBefore("javascript", "string", {
                "template-string": {
                    pattern: /`(?:\\\\|\\?[^\\])*?`/,
                    greedy: !0,
                    inside: {
                        interpolation: {
                            pattern: /\$\{[^}]+\}/,
                            inside: {
                                "interpolation-punctuation": {
                                    pattern: /^\$\{|\}$/,
                                    alias: "punctuation"
                                },
                                rest: n.languages.javascript
                            }
                        },
                        string: /[\s\S]+/
                    }
                }
            }),
            n.languages.markup && n.languages.insertBefore("markup", "tag", {
                script: {
                    pattern: /(<script[\w\W]*?>)[\w\W]*?(?=<\/script>)/i,
                    lookbehind: !0,
                    inside: n.languages.javascript,
                    alias: "language-javascript"
                }
            }),
            n.languages.js = n.languages.javascript,
            function() {
                "undefined" != typeof self && self.Prism && self.document && document.querySelector && (self.Prism.fileHighlight = function() {
                    var e = {
                        js: "javascript",
                        py: "python",
                        rb: "ruby",
                        ps1: "powershell",
                        psm1: "powershell",
                        sh: "bash",
                        bat: "batch",
                        h: "c",
                        tex: "latex"
                    };
                    Array.prototype.forEach && Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(t) {
                        for (var i, o, s, r, a = t.getAttribute("data-src"), l = t, c = /\blang(?:uage)?-(?!\*)(\w+)\b/i; l && !c.test(l.className); )
                            l = l.parentNode;
                        l && (i = (t.className.match(c) || [, ""])[1]),
                        i || (o = (a.match(/\.(\w+)$/) || [, ""])[1],
                        i = e[o] || o),
                        s = document.createElement("code"),
                        s.className = "language-" + i,
                        t.textContent = "",
                        s.textContent = "Loading…",
                        t.appendChild(s),
                        r = new XMLHttpRequest,
                        r.open("GET", a, !0),
                        r.onreadystatechange = function() {
                            4 == r.readyState && (r.status < 400 && r.responseText ? (s.textContent = r.responseText,
                            n.highlightElement(s)) : r.status >= 400 ? s.textContent = "✖ Error " + r.status + " while fetching file: " + r.statusText : s.textContent = "✖ Error: File does not exist or is empty")
                        }
                        ,
                        r.send(null)
                    })
                }
                ,
                document.addEventListener("DOMContentLoaded", self.Prism.fileHighlight))
            }()
        }
        ).call(t, function() {
            return this
        }())
    },
    2501: function(e, t, i) {
        "use strict";
        var n, o, s;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        n = i(4),
        o = i(56),
        i(2254),
        s = function() {
            function e(e, t) {
                var i, s;
                for (void 0 === t && (t = {
                    collapsible: !0,
                    customScroll: !1
                }),
                this._activeIndex = -1,
                this._clickHandler = this._clickHandler.bind(this),
                this._sections = [],
                this._activeIndex = -1,
                this._options = t,
                i = 0; i < e.children.length; ++i)
                    s = e.children[i],
                    s.classList.contains("tv-accordion__section-header") && (this._sections.push({
                        body: s.nextElementSibling,
                        header: s
                    }),
                    s.addEventListener("click", this._clickHandler),
                    s.classList.contains("tv-accordion__section-header--active") && (this._activeIndex = i));
                t.customScroll && this._sections.forEach(function(e) {
                    e.body.classList.add("tv-accordion__section-body--custom-scroll"),
                    e.body.innerHTML = '<div style="position: relative">' + e.body.innerHTML + "</div>",
                    e.scroll = new o.SidebarCustomScroll($(e.body),$(e.body.firstElementChild))
                }),
                t.collapsible || -1 !== this._activeIndex || this.setActiveIndex(0),
                this.onSectionChange = new n
            }
            return e.prototype.setActiveSectionByHeader = function(e) {
                this.setActiveIndex(this._sections.findIndex(function(t) {
                    return t.header === e
                }))
            }
            ,
            e.prototype.setActiveIndex = function(e) {
                var t, i = this._activeIndex;
                this._activeIndex !== e && (!this._options.collapsible && (e < 0 || e >= this._sections.length) || (-1 !== this._activeIndex && this._sections[this._activeIndex].header.classList.remove("tv-accordion__section-header--active"),
                e < 0 || e >= this._sections.length ? this._activeIndex = -1 : (this._activeIndex = e,
                this._sections[this._activeIndex].header.classList.add("tv-accordion__section-header--active")),
                this._activeIndex !== i && this.onSectionChange && (this._options.customScroll && (t = this._sections[this._activeIndex].scroll,
                t.atStart() && t.scrollToStart(),
                t.resize()),
                this.onSectionChange.fire(this._activeIndex))))
            }
            ,
            e.prototype.closeAll = function() {
                this._options.collapsible && -1 !== this._activeIndex && (this._sections[this._activeIndex].header.classList.remove("tv-accordion__section-header--active"),
                this._activeIndex = -1,
                this.onSectionChange.fire(this._activeIndex))
            }
            ,
            e.prototype.makeContentElementVisible = function(e, t) {
                var i, n, o, s, r;
                for (void 0 === t && (t = !1),
                i = e; !i.classList.contains("tv-accordion__section-body") && null !== i.parentElement; )
                    i = i.parentElement;
                i && i.classList.contains("tv-accordion__section-body") && i.previousElementSibling && (n = i.previousElementSibling,
                this.setActiveSectionByHeader(n),
                o = e.getBoundingClientRect(),
                s = i.getBoundingClientRect(),
                (t || s.top > o.top || s.bottom < o.bottom) && (this._options.customScroll ? (r = this._sections[this._activeIndex].scroll,
                r.isTouch() ? e.scrollIntoView() : r.scrollTo($(e), {
                    areaHeight: e.offsetHeight,
                    offsetTop: e.offsetTop,
                    position: "top"
                })) : e.scrollIntoView()))
            }
            ,
            e.prototype.getSections = function() {
                return this._sections
            }
            ,
            e.prototype.getActiveSection = function() {
                return -1 !== this._activeIndex ? this._sections[this._activeIndex] : null
            }
            ,
            e.prototype._clickHandler = function(e) {
                var t = e.currentTarget;
                -1 !== this._activeIndex && this._sections[this._activeIndex].header === t ? this.closeAll() : this.setActiveSectionByHeader(t)
            }
            ,
            e
        }(),
        t.TvAccordion = s
    },
    2522: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 12"><path d="M4 0C2.347 0 1 1.347 1 3v2H.3c-.165 0-.3.135-.3.3v6.4c0 .165.135.3.3.3h8.4c.165 0 .3-.135.3-.3V5.3c0-.165-.135-.3-.3-.3H8V3c0-1.653-1.347-3-3-3H4zm0 1h1c1.117 0 2 .883 2 2v2H2V3c0-1.117.883-2 2-2z"/></svg>'
    },
    2534: function(e, t, i) {
        "use strict";
        function n(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        function o(e, t, i) {
            return t in e ? Object.defineProperty(e, t, {
                value: i,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = i,
            e
        }
        function s(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        var r, a, l, c, d, h, u, p;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        r = function() {
            function e(e, t) {
                var i, n;
                for (i = 0; i < t.length; i++)
                    n = t[i],
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n)
            }
            return function(t, i, n) {
                return i && e(t.prototype, i),
                n && e(t, n),
                t
            }
        }(),
        a = i(146),
        l = i(144),
        c = i(2707),
        d = n(c),
        h = i(2),
        u = n(h),
        p = function() {
            function e(t) {
                s(this, e),
                this._bridge = t,
                this._trading = (0,
                l.tradingService)(),
                this.onBrokerChange(this._trading.activeBroker()),
                this._trading.onBrokerChange.subscribe(this, this.onBrokerChange)
            }
            return r(e, [{
                key: "activate",
                value: function() {
                    this._accountManager && this._accountManager.drawAttention && this._accountManager.drawAttention()
                }
            }, {
                key: "onBrokerChange",
                value: function(e) {
                    var t = this;
                    this._accountManager && this._accountManager.remove(),
                    e ? e.metainfo().configFlags.supportCustomBottomWidget ? this._accountManager = e.createBottomWidget(this._bridge) : i.e(147, function(n) {
                        var o = i(2535);
                        t._accountManager = new o(e,t._bridge)
                    }) : this._accountManager = new d.default(this._bridge,this._trading)
                }
            }], [{
                key: "onTabShow",
                value: function(e) {
                    var t, n, s, r, c, d = e.$button;
                    d.find(".title").html('\n\t\t\t<span class="js-indicator">' + i(2958) + '</span>\n\t\t\t<span class="js-broker">' + (u.default.enabled("trading_terminal") ? $.t("Account Manager") : $.t("Trading Panel")) + "</span>\n\t\t"),
                    t = (0,
                    l.tradingService)(),
                    n = d.find(".js-indicator"),
                    s = function(e) {
                        var i, s, r = (i = {},
                        o(i, a.CONNECTSTATUSES.ERROR, "failed"),
                        o(i, a.CONNECTSTATUSES.CONNECTING, "connecting"),
                        o(i, a.CONNECTSTATUSES.CONNECTED, "connected"),
                        o(i, a.CONNECTSTATUSES.DISCONNECTED, "disconnected"),
                        i), l = (s = {},
                        o(s, a.CONNECTSTATUSES.ERROR, $.t("Failed")),
                        o(s, a.CONNECTSTATUSES.CONNECTING, $.t("Connecting")),
                        o(s, a.CONNECTSTATUSES.CONNECTED, $.t("Connected")),
                        o(s, a.CONNECTSTATUSES.DISCONNECTED, $.t("Disconnected")),
                        s), c = "apply-common-tooltip trading-indicator ";
                        window.is_authenticated && !u.default.enabled("trading_terminal") && t.activeBroker() ? (n.attr("title", l[e.status]),
                        c += r[e.status]) : c += "js-hidden",
                        n.attr("class", c)
                    }
                    ,
                    r = d.find(".js-broker"),
                    c = function() {
                        var e = function(e) {
                            return r.text(e)
                        }
                          , i = t.activeBroker();
                        e(i ? i.connectionStatus() === a.CONNECTSTATUSES.CONNECTED ? i.accountManagerInfo().accountTitle : i.metainfo().title : $.t("Trading Panel"))
                    }
                    ,
                    c(),
                    t.onBrokerChange.subscribe(null, function() {
                        s({
                            status: t.connectStatus()
                        }),
                        c()
                    }),
                    t.onConnectionStatusChange.subscribe(null, function(e) {
                        s({
                            status: e
                        }),
                        c()
                    }),
                    s({
                        status: t.connectStatus()
                    })
                }
            }]),
            e
        }(),
        t.default = p,
        e.exports = t.default
    },
    2559: function(e, t, i) {
        (function(t, n) {
            "use strict";
            function o(e, t) {
                if (e.symbol_full && !e.symbolExpr && (e.symbolExpr = e.symbol_full),
                this.layout = t,
                this.render(e),
                e.symbol) {
                    var i = widgetbar.layout.pages[0].widgets[0];
                    i.widgetObject && i.widgetObject.list.addTextNote(e.symbolExpr, this.select.bind(this))
                }
            }
            var s, r, a, l, c, d;
            i(2634),
            s = i(2335),
            r = new s,
            a = i(56).SidebarCustomScroll,
            l = i(9).trackEvent,
            c = i(31).TVXWindowEvents,
            d = function(e) {
                this._bridge = e,
                this._widget = this,
                this.listNotes = [],
                this.currentId = void 0,
                this._createLayout(),
                is_authenticated ? (this.$notesDescBlock.show(),
                this._getUserTextNotes(),
                this._addListeners()) : (this.$notesDescBlock.hide(),
                this._addTestNoteListeners()),
                this.active = !0,
                c.on("windowaddnote", this.attachNote.bind(this)),
                c.on("windowremovenote", this.deattachNote.bind(this)),
                c.on("windoweditnote", this.updateNote.bind(this))
            }
            ,
            d.prototype._createLayout = function() {
                var e = i(68);
                this.$content = this._bridge.$body,
                $(e.textNotesWidgetLayout).appendTo(this.$content),
                this.$notesBlock = this.$content.find(".notes-block"),
                this.$notesDescBlock = this.$content.find(".notes-desc-block"),
                this.$notesHeader = this.$content.find(".textnotes-search-header"),
                this.$addNoteBtn = this.$content.find(".new-note-btn"),
                this.$removeNoteBtn = this.$content.find(".remove-note-btn"),
                this.$searchInputBlock = this.$content.find(".search-input-block"),
                this.$searchInput = this.$content.find("input.search-input"),
                this.$notes = this.$content.find(".notes"),
                this.$notesWrap = this.$content.find(".notes-wrapper"),
                this.$searchClean = this.$content.find(".search-clean"),
                this.$noteDescTitle = this.$content.find("input.title"),
                this.$noteDescText = this.$content.find("textarea"),
                this.$notesDescWrap = this.$content.find(".notes-desc-wrapper"),
                this.$notesDescInner = this.$content.find(".notes-desc-inner"),
                this.$noteDateCreated = this.$content.find(".created-val"),
                this.$noteDateModified = this.$content.find(".modified-val"),
                this._scrollNotes = new a(this.$notesWrap,this.$notes),
                this._scrollDesc = new a(this.$notesDescWrap,this.$notesDescInner,{
                    showTopShadow: !1
                }),
                "iPad" !== navigator.platform && this.$notesDescWrap.addClass("ov"),
                this.$noteDescText.autosize({
                    append: ""
                })
            }
            ,
            d.prototype._addTestNoteListeners = function() {
                function e() {
                    t.$addNoteBtn.off("click", i),
                    t.$removeNoteBtn.off("click", i),
                    t.$noteDescTitle.off("focus", i),
                    t.$searchInput.off("keydown", i),
                    t.$noteDescText.off("keydown", i),
                    t.$noteDescTitle.off("keydown", i)
                }
                var t = this
                  , i = function() {
                    runOrSignIn(function() {
                        e(),
                        t._getUserTextNotes(),
                        t._addListeners()
                    }, {
                        source: "Text notes",
                        sourceMeta: "Chart"
                    })
                };
                this.$addNoteBtn.on("click", i),
                this.$removeNoteBtn.on("click", i),
                this.$noteDescTitle.on("focus", i),
                this.$searchInput.on("keydown", i),
                this.$noteDescText.on("keydown", i),
                this.$noteDescTitle.on("keydown", i)
            }
            ,
            d.prototype._addListeners = function() {
                var e = this;
                this.$noteDescTitle.on("keyup", function(t) {
                    13 === t.keyCode && e.$noteDescText.focus(),
                    e.getCurrentNote().update("title", $(this).val())
                }),
                this.$noteDescTitle.on("change", function(t) {
                    e.getCurrentNote().update("title", $(this).val(), !0)
                }),
                this.$noteDescText.on("change", function(t) {
                    e._scrollDesc.resize(),
                    e._scrollDesc.updateScroll(),
                    e._scrollDesc.updateScrollBar(),
                    e.getCurrentNote().update("description", $(this).val(), !0)
                }),
                this.$noteDescText.on("autosize.resized", function() {
                    e._scrollDesc.resize(),
                    e._scrollDesc.updateScrollBar()
                }),
                this.$notesDescBlock.on("scroll", function(t) {
                    var i = this.scrollTop;
                    i && (this.scrollTop = 0,
                    e._scrollDesc.scroll(-i, 1))
                }),
                this.$searchClean.on("click", function() {
                    e.$searchInput.val("").trigger("keyup")
                }),
                this.$searchInput.on("keyup", function(t) {
                    var i;
                    for (i = e.listNotes.length - 1; i >= 0; i--)
                        -1 === e.listNotes[i].get("title").toLowerCase().indexOf(e.$searchInput.val().toLowerCase()) && -1 === e.listNotes[i].get("description").toLowerCase().indexOf(e.$searchInput.val().toLowerCase()) ? e.listNotes[i].$view.css("display", "none") : e.listNotes[i].$view.css("display", "block");
                    if ("" !== e.$searchInput.val() && e.$searchInputBlock.addClass("searching"),
                    "" === e.$searchInput.val())
                        for (e.$searchInputBlock.removeClass("searching"),
                        i = e.listNotes.length - 1; i >= 0; i--)
                            e.listNotes[i].$view.css("display", "block");
                    e._scrollNotes.scrollToStart()
                }),
                this._bridge.height.subscribe(function() {
                    e.$noteDescText.trigger("autosize.resize"),
                    e._scrollDesc.resize(),
                    e._scrollNotes.resize()
                }),
                this._bridge.minimized.subscribe(function(t) {
                    t || (e.$noteDescText.trigger("autosize.resizeIncludeStyle"),
                    e._scrollDesc.resize(),
                    e._scrollNotes.resize())
                }, {
                    callWithLast: !0
                }),
                this.$removeNoteBtn.on("click.note-remove", this.removeNote.bind(this)),
                this.$addNoteBtn.on("click", function() {
                    l("Text Notes", "BP Text Notes New"),
                    this.addNote()
                }
                .bind(this))
            }
            ,
            d.prototype._getUserTextNotes = function() {
                r.load(function(e) {
                    if (0 === e.length)
                        this.addNote();
                    else {
                        for (var t in e)
                            this.attachNote(e[t], !0);
                        this.listNotes.length > 0 && !this.currentId && (this.currentId = this.listNotes[0].$view.data("id"),
                        this.$notesDescBlock.show(),
                        this.listNotes[this.listNotes.length - 1].select())
                    }
                }
                .bind(this))
            }
            ,
            d.prototype.addTextNoteListeners = function(e) {
                var t = this;
                e.onClick(function(e, i) {
                    t._scrollDesc.scrollToStart(),
                    i.select()
                }),
                e.$view.find(".favorite").on("click", function() {
                    $(this).toggleClass("active")
                }),
                e.$view.find(".symbol").on("click", function() {
                    t._bridge.chartWidgetCollection.setSymbol(e.$view.data("symbol"))
                })
            }
            ,
            d.prototype.addNote = function(e, t, i) {
                var n = {
                    title: $.t("New Untitled Note"),
                    description: ""
                };
                t && (n.symbol = t,
                n.symbol_full = i),
                $.post("/textnotes/add/", n, function(e) {
                    if (!1 === e) {
                        var n = null;
                        i && (n = this.getSymbolNote(i).el),
                        !n && t && (n = this.getShortSymbolNote(t).el),
                        n && (this._scrollNotes.scrollTo(n.$view),
                        n.select())
                    }
                    e && (c.emit("windowaddnote", JSON.stringify(e)),
                    this.attachNote(e))
                }
                .bind(this))
            }
            ,
            d.prototype.attachNote = function(e, t) {
                "string" == typeof e && (e = JSON.parse(e));
                var i = new o(e,this);
                this.addTextNoteListeners(i),
                this.$notes.prepend(i.$view),
                this.listNotes.push(i),
                i.blocks.badge.length > 0 && i.blocks.title.css("max-width", i.blocks.header.width() - i.blocks.badge.width() - 1),
                t || (i.select(),
                this.$notesDescBlock.show(),
                this.$noteDescTitle.select(),
                e.symbol && i.highlight(),
                this._scrollNotes.scrollToStart(),
                this._scrollDesc.scrollToStart())
            }
            ,
            d.prototype.removeNote = function(e) {
                l("Text Notes", "BP Text Notes Delete"),
                "number" != typeof e && (e = this.currentId),
                this.$removeNoteBtn.off("click.note-remove").addClass("ajax-process-bg"),
                $.post("/textnotes/remove/", {
                    id_note: e
                }, function() {
                    c.emit("windowremovenote", e),
                    this.deattachNote(e),
                    this.$removeNoteBtn.removeClass("ajax-process-bg").on("click.note-remove", this.removeNote.bind(this))
                }
                .bind(this))
            }
            ,
            d.prototype.deattachNote = function(e) {
                var t, i = this.getNote(e);
                i.el.get("symbol_full") && (t = widgetbar.layout.pages[0].widgets[0],
                t.widgetObject && t.widgetObject.list.removeTextNote(i.el.get("symbol_full"))),
                i.el.$view.remove(),
                this.listNotes.splice(i.i, 1),
                this.listNotes.length > 0 && (this.listNotes[i.i - 1] ? this.listNotes[i.i - 1].select() : this.listNotes[i.i] ? this.listNotes[i.i].select() : this.listNotes[0].select(),
                this._scrollNotes.resize()),
                0 === this.listNotes.length && $(".notes-desc-block").hide()
            }
            ,
            d.prototype.editNote = function(e) {
                var t = {
                    id: e.get("id"),
                    title: e.get("title"),
                    symbol: e.get("symbol"),
                    description: e.get("description")
                };
                $.post("/textnotes/edit/", t, function(i) {
                    t.modified = i.modified,
                    e.update("modified", i.modified),
                    c.emit("windoweditnote", JSON.stringify(t))
                })
            }
            ,
            d.prototype.updateNote = function(e) {
                "string" == typeof e && (e = JSON.parse(e)),
                this.getNote(e.id).el.update(e),
                this.currentId === e.id && (this.$noteDescTitle.val(e.title),
                this.$noteDescText.val(e.description))
            }
            ,
            d.prototype.getNote = function(e) {
                var t, i;
                for (e = e,
                t = {},
                i = this.listNotes.length - 1; i >= 0; i--)
                    this.listNotes[i].$view.data("id") === e && (t.el = this.listNotes[i],
                    t.i = i);
                return t
            }
            ,
            d.prototype.getCurrentNote = function() {
                return this.getNote(this.currentId).el
            }
            ,
            d.prototype.getSymbolNote = function(e) {
                var t, i = {};
                for (t = this.listNotes.length - 1; t >= 0; t--)
                    this.listNotes[t].get("symbolExpr") === e && (i.el = this.listNotes[t],
                    i.i = t);
                return i
            }
            ,
            d.prototype.getShortSymbolNote = function(e) {
                var t, i = {};
                for (t = this.listNotes.length - 1; t >= 0; t--)
                    this.listNotes[t].get("symbol") === e && (i.el = this.listNotes[t],
                    i.i = t);
                return i
            }
            ,
            o.prototype.get = function(e) {
                return this.$view.data(e)
            }
            ,
            o.prototype.set = function(e, t) {
                return void 0 === t && "object" == typeof e ? this.$view.data(e) : "string" == typeof e && this.$view.data(e, t),
                this
            }
            ,
            o.prototype.render = function(e) {
                var n = i(68);
                return this.$view = $(t.render(n.textNotesWidgetItem, e)),
                this.set(e),
                this.blocks = {
                    modified: this.layout.$noteDateModified,
                    title: this.$view.find(".title"),
                    header: this.$view.find(".note-header"),
                    badge: this.$view.find(".symbol-badge"),
                    description: this.$view.find(".note-desc")
                },
                this
            }
            ,
            o.prototype.updateField = function(e, t) {
                return this.set(e, t),
                "modified" === e && (t = n.unix(t).format("D MMM, H:mm.")),
                this.blocks[e] && this.blocks[e].text(t),
                this
            }
            ,
            o.prototype.update = function(e, t, i) {
                return "string" == typeof e ? this.updateField(e, t) : "object" == typeof e && $.each(e, this.updateField.bind(this)),
                i && this.layout.editNote(this),
                this
            }
            ,
            o.prototype.select = function() {
                var e, t, i, o;
                return this.layout.currentId = this.get("id"),
                e = n.unix(this.get("created")),
                t = e.format("D {0}, H:mm").format(e.format("MMM")),
                i = n.unix(this.get("modified")),
                o = i.format("D {0}, H:mm").format(i.format("MMM")),
                this.layout.$noteDescTitle.val(this.get("title")),
                this.layout.$noteDescText.val(this.get("description")).attr("style", "").trigger("autosize.resize"),
                this.layout.$noteDateCreated.html(t),
                this.layout.$noteDateModified.html(o),
                this.layout.$notes.find(".note").removeClass("active"),
                this.$view.addClass("active"),
                this
            }
            ,
            o.prototype.scroll = function() {
                return this.layout._scrollNotes.scrollTo(this.$view, {
                    position: "top"
                }),
                this
            }
            ,
            o.prototype.highlight = function() {
                this.$view.highlight(2)
            }
            ,
            o.prototype.getId = function() {
                return this.get("id")
            }
            ,
            o.prototype.onClick = function(e) {
                this.$view.on("click", function(t) {
                    t.stopPropagation(),
                    t.preventDefault(),
                    e(t, this)
                }
                .bind(this))
            }
            ,
            o.prototype.onDelete = function(e) {
                this.$view.find(".delete").on("click", function(t) {
                    t.stopPropagation(),
                    t.preventDefault(),
                    e(t, this)
                }
                .bind(this))
            }
            ,
            o.prototype.onFavorite = function(e) {
                this.$view.find(".favorite").on("click", function(t) {
                    t.stopPropagation(),
                    t.preventDefault(),
                    e(t, this)
                }
                .bind(this))
            }
            ,
            e.exports = d
        }
        ).call(t, i(5), i(37))
    },
    2634: function(e, t) {},
    2657: function(e, t) {},
    2668: function(e, t) {},
    2707: function(e, t, i) {
        "use strict";
        function n(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        function o(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        var s, r, a, l, c, d, h;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        s = function() {
            function e(e, t) {
                var i, n;
                for (i = 0; i < t.length; i++)
                    n = t[i],
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n)
            }
            return function(t, i, n) {
                return i && e(t.prototype, i),
                n && e(t, n),
                t
            }
        }(),
        r = i(2709),
        a = i(2264),
        l = i(10),
        c = n(l),
        d = i(463),
        h = function() {
            function e(t, i) {
                o(this, e),
                this._UILocked = !1,
                this._brokerButtons = {},
                this._bridge = t,
                this._trading = i,
                this._brokers = this._trading.availableBrokers(),
                this._filter = new c.default(TVSettings.getBool(a.settingsKeys.FILTER_BROKER, !0)),
                this._filter.subscribe(this._onFilterChanged.bind(this)),
                this._createLayout(),
                0 === this._brokers.length ? this._header.text($.t("No brokers available")) : (this._setPanelMsg(),
                this._setFilter(),
                window.loginStateChange.subscribe(this, this._setPanelMsg)),
                this._trading.onBrokerLoading.subscribe(this, this._onStaffLoading),
                this._trading.onNeedSelectBroker.subscribe(this, this._onDrawAttention)
            }
            return s(e, [{
                key: "_setPanelMsg",
                value: function() {
                    window.is_authenticated ? this._header.text($.t("Select your broker to connect the broker account:")) : this._header.text($.t("Please log into your TradingView account first."))
                }
            }, {
                key: "_setFilter",
                value: function() {
                    var e = this
                      , t = 0;
                    Object.values(this._brokers).forEach(function(i) {
                        !i.locales || i.locales && i.locales.length && -1 !== i.locales.indexOf(window.locale) ? e._brokerButtons[i.id].removeClass("i-hidden") : (e._brokerButtons[i.id].addClass("i-hidden"),
                        t++)
                    }),
                    t && (this._filter.value() ? (this._$filterBox.text($.t("Brokers are filtered for your region. Hidden {0} broker(s).").format(t) + " "),
                    $("<span>").text($.t("Show all.")).on("click", function() {
                        return e._filter.setValue(!1)
                    }).appendTo(this._$filterBox)) : (Object.values(this._brokerButtons).forEach(function(e) {
                        return e.removeClass("i-hidden")
                    }),
                    this._$filterBox.text(""),
                    $("<span>").text($.t("Filter brokers for your region.")).on("click", function() {
                        return e._filter.setValue(!0)
                    }).appendTo(this._$filterBox)))
                }
            }, {
                key: "_onFilterChanged",
                value: function() {
                    TVSettings.setValue(a.settingsKeys.FILTER_BROKER, this._filter.value(), {
                        forceFlush: !0
                    }),
                    this._setFilter()
                }
            }, {
                key: "_onStaffLoading",
                value: function(e) {
                    var t = this
                      , i = e.brokerId
                      , n = e.promise;
                    this._lockUI(i),
                    this._header.text("Loading..."),
                    n.then(function() {
                        t._unlockUI()
                    }).catch(function() {
                        t._header.text("An error occured"),
                        t._unlockUI()
                    })
                }
            }, {
                key: "_onDrawAttention",
                value: function() {
                    this._drawAttention()
                }
            }, {
                key: "_drawAttention",
                value: function() {
                    var e = (0,
                    d.setThemedColor)("active-hover-text");
                    (0,
                    r.runForTimes)(r.flick, 3, this._header, "color", e)
                }
            }, {
                key: "_createLayout",
                value: function() {
                    if (!this._$element) {
                        this._$element = $("<div>").addClass("trading-broker-select-screen"),
                        this._header = $("<h2>"),
                        this._header.appendTo(this._$element);
                        for (var e = 0; e < this._brokers.length; e++)
                            this._$element.append(this._createBrokerButton(this._brokers[e]));
                        this._$filterBox = $("<div>").addClass("trading-broker-filter"),
                        this._$filterBox.appendTo(this._$element),
                        this._$element.appendTo(this._bridge.$body)
                    }
                }
            }, {
                key: "_createBrokerButton",
                value: function(e) {
                    var t = this
                      , i = e.id
                      , n = $("<span>").addClass("trading-broker-button").addClass("broker-" + i).attr("tabIndex", -1).on("click", function() {
                        t._trading.selectBrokerUI(i)
                    });
                    n.append(e.icon),
                    n.appendTo(this._$element),
                    this._brokerButtons[i] = n
                }
            }, {
                key: "_lockUI",
                value: function(e) {
                    this._UILocked = !0,
                    this._$element.find(".trading-broker-button").addClass("disabled"),
                    $(this._brokerButtons[e]).removeClass("disabled").addClass("selected")
                }
            }, {
                key: "_unlockUI",
                value: function() {
                    this._UILocked = !1,
                    this._$element && (this._$element.find(".trading-broker-button.disabled").removeClass("disabled"),
                    this._$element.find(".trading-broker-button.selected").removeClass("selected"))
                }
            }, {
                key: "remove",
                value: function() {
                    this._$element && this._$element.remove(),
                    this._trading.onBrokerLoading.unsubscribe(this, this._onStaffLoading),
                    this._$element = null
                }
            }]),
            e
        }(),
        t.default = h,
        e.exports = t.default
    },
    2709: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.flick = function(e, t, i) {
            var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 300;
            return new Promise(function(o) {
                e.css(t, i),
                setTimeout(function() {
                    e.css(t, ""),
                    setTimeout(function() {
                        o()
                    }, n)
                }, n)
            }
            )
        }
        ,
        t.runForTimes = function(e, t) {
            var i, n, o, s;
            for (i = arguments.length,
            n = Array(i > 2 ? i - 2 : 0),
            o = 2; o < i; o++)
                n[o - 2] = arguments[o];
            (s = function e(i, o) {
                o > t || i.apply(null, n).then(function() {
                    e(i, ++o)
                })
            }
            )(e, 1)
        }
    },
    2777: function(e, t, i) {
        (function(t) {
            "use strict";
            function n() {
                this.title = $.t("Open Script"),
                this.options = {},
                this.matchedItems = [],
                this.itemsData = [],
                this.qs = new o.QuickSearch(this.fieldsExtractor,this.searchResult.bind(this)),
                this.nameSort = new o.SortObject(this.stringCompare("name")),
                this.sourceSort = new o.SortObject(this.stringCompare("scriptTitle")),
                this.lastVersionSort = new o.SortObject(this.versionCompare("lastVersion")),
                this.modifiedSort = new o.SortObject(this.dateCompare("modified")),
                this.favsModel = l(),
                this.favsModel.on("change:favorites", this.fillList, this)
            }
            var o = i(1724)
              , s = i(56).SidebarCustomScroll
              , r = i(87)
              , a = i(654).Version
              , l = i(1374).getFavoriteScriptsModel;
            i(2668),
            i(1849),
            n.prototype.fieldsExtractor = function(e) {
                return [e.name, e.scriptTitle]
            }
            ,
            n.prototype._appendListItem = function(e) {
                var n, o, s, l, c, d, h, u, p, f = $('<div class="item">').appendTo(this.itemsList);
                e.active && f.addClass("active"),
                n = $('<div class="value name first">').appendTo(f),
                o = $('<div class="open-script__icon-favorite">').click(function(t) {
                    this.favsModel.favorite(e.scriptIdPart),
                    this.fillList(),
                    t.stopPropagation()
                }
                .bind(this)),
                this.favsModel.isFav(e.scriptIdPart) ? (o.addClass("active"),
                o.html(i(735))) : o.html(i(837)),
                o.appendTo(n),
                $('<span class="text">').text(e.name).appendTo(n),
                r.isScriptStrategy(e) && $(i(2956)).attr({
                    class: "strategy"
                }).appendTo(n),
                s = $('<div class="actions">').appendTo(f),
                $('<div class="open-script__icon-delete">').html(i(47)).appendTo(s).click(function(t) {
                    var i = this
                      , n = $.Deferred();
                    e.deleteAction(n),
                    n.then(function() {
                        i.removeItem(e)
                    }),
                    t.stopPropagation()
                }
                .bind(this)),
                l = $('<div class="value source last">').appendTo(f),
                $('<span class="text">').text(e.scriptTitle).appendTo(l),
                c = this,
                f.click(function(t) {
                    var i = $(this)
                      , n = $.Deferred();
                    e.openAction(n),
                    n.then(function() {
                        i.siblings().removeClass("active"),
                        i.addClass("active"),
                        c.itemsData.forEach(function(e) {
                            e.active = !1
                        }),
                        e.active = !0
                    })
                }),
                d = $('<div class="value last-version">').appendTo(f),
                u = a.parse(e.lastVersion).major(),
                h = u < 0 ? "1.0" : e.lastVersion,
                $('<span class="text">').text(h).appendTo(d),
                p = t.unix(e.modified),
                $('<div class="value modified">').text(p.format("L LT")).appendTo(f)
            }
            ,
            n.prototype.removeItem = function(e) {
                var t = this.itemsData.indexOf(e);
                t > -1 && this.itemsData.splice(t, 1),
                this.showNoScriptsPlaceholder(),
                this.setItemsData(this.itemsData)
            }
            ,
            n.prototype.stringCompare = function(e) {
                return function(t, i) {
                    return t[e].localeCompare(i[e])
                }
            }
            ,
            n.prototype.versionCompare = function(e) {
                return function(t, i) {
                    var n = a.parse(t[e])
                      , o = a.parse(i[e]);
                    return n.compareTo(o)
                }
            }
            ,
            n.prototype.dateCompare = function(e) {
                return function(i, n) {
                    return t(n[e]).diff(i[e])
                }
            }
            ,
            n.prototype.setActiveHeader = function(e) {
                $.each(this.header.children(".item"), function() {
                    $(this)[$(this).data("sort") === e ? "addClass" : "removeClass"]("active")
                })
            }
            ,
            n.prototype.getSort = function(e) {
                return "name" === e ? this.nameSort : "modified" === e ? this.modifiedSort : "lastVersion" === e ? this.lastVersionSort : this.sourceSort
            }
            ,
            n.prototype.prepareSort = function() {
                var e = TVSettings.getValue("openScriptDialog.sort.field") || "name"
                  , t = TVSettings.getBool("openScriptDialog.sort.asc") || !1;
                this.currentSortObj = this.getSort(e),
                this.currentSortObj.setIsAscending(t),
                this.setActiveHeader(e)
            }
            ,
            n.prototype.sortClick = function(e) {
                this.setSort($(e.target).data("sort"), !0),
                this.fillList()
            }
            ,
            n.prototype.setSort = function(e) {
                var t = this.currentSortObj
                  , i = this.getSort(e);
                i === t ? this.currentSortObj.inverse() : this.currentSortObj = i,
                TVSettings.setValue("openScriptDialog.sort.field", e),
                TVSettings.setValue("openScriptDialog.sort.asc", this.currentSortObj.isAscending),
                this.setActiveHeader(e)
            }
            ,
            n.prototype.sortList = function() {
                var e, t = [], i = [];
                this.matchedItems.forEach(function(e) {
                    this.favsModel.isFav(e.scriptIdPart) ? t.push(e) : i.push(e)
                }
                .bind(this)),
                null != this.currentSortObj && (e = this.currentSortObj.getPredicate(),
                i.sort(e),
                t.sort(e)),
                this.matchedItems = t.concat(i)
            }
            ,
            n.prototype.fillList = function() {
                var e = this;
                this.sortList(),
                this.itemsList.empty(),
                $.each(this.matchedItems, function() {
                    e._appendListItem(this)
                }),
                this.highlightOccurrences(this.qs.regExps)
            }
            ,
            n.prototype.searchResult = function(e, t) {
                this.matchedItems = e,
                this.fillList()
            }
            ,
            n.prototype.setItemsData = function(e) {
                this.itemsData = e,
                this.qs.setItems(e),
                this.qs.search()
            }
            ,
            n.prototype.layoutHeader = function() {
                var e = $('<div class="list-header">').appendTo(this.content);
                return $('<div class="item name first">').text($.t("Name")).data("sort", "name").appendTo(e),
                $('<div class="item source">').text($.t("Title")).data("sort", "source").appendTo(e),
                $('<div class="item last-version">').text($.t("Version")).data("sort", "lastVersion").appendTo(e),
                $('<div class="item modified">').text($.t("Last Modified")).data("sort", "modified").appendTo(e),
                e
            }
            ,
            n.prototype.resetSearchClick = function() {
                this.input.val("").trigger("input").focus()
            }
            ,
            n.prototype.show = function(e) {
                var t, n, o = this;
                this.options.width = "644px",
                this.options.content = '<div class="open-script"><div class="search"><input type="text" name="q" value="" autocomplete="off" placeholder="' + $.t("Search") + '"><a class="input-reset"></a><div class="search-icon">' + i(1988) + "</div></div></div>",
                TVDialogs.destroy(this.title),
                t = TVDialogs.createDialog(this.title, this.options),
                TVDialogs.positionDialog(t),
                n = t.find(".open-script"),
                this.input = t.find(".search input"),
                this.inputReset = t.find(".search .input-reset"),
                this.content = $('<div class="list-content"></div>').appendTo(n),
                this.header = this.layoutHeader(),
                this.itemsListContainer = $('<div class="list-container">').appendTo(this.content),
                this.itemsList = $('<div class="list">').appendTo(this.itemsListContainer),
                this._scroll = new s(this.itemsListContainer,this.itemsList,{
                    showBottomShadow: !1
                }),
                this.header.children(".item").click($.proxy(this, "sortClick")),
                this.inputReset.click($.proxy(this, "resetSearchClick")),
                this.input.on("input propertychange", function() {
                    this._scroll.scrollTo(0),
                    this.qs.onInput(this.input.val()),
                    "" !== this.input.val() ? this.inputReset.show() : this.inputReset.hide()
                }
                .bind(this)),
                this.noScripts = $('<div class="no-scripts">' + $.t("No saved scripts yet") + "</div>").appendTo(n),
                this.prepareSort(),
                this.setItemsData(e),
                TVDialogs.resizeContent(t.height(), this.itemsListContainer),
                this.noScripts.height(this.content.height()),
                this.showNoScriptsPlaceholder(),
                TVDialogs.positionDialog(t),
                TVDialogs.applyHandlers(t, {
                    doNotCloseOnBgClickIfShadowbox: !0
                }),
                setTimeout(function() {
                    t.on("mousedownoutside", function(e) {
                        $(e.target).parents().andSelf().is(".tv-script-dialog") && (TVDialogs.destroy(o.title),
                        t.unbind("mousedownoutside"))
                    })
                })
            }
            ,
            n.prototype.showNoScriptsPlaceholder = function() {
                0 === this.itemsData.length ? (this.content.hide(),
                this.noScripts.show()) : (this.content.show(),
                this.noScripts.hide())
            }
            ,
            n.prototype.highlightOccurrences = function(e) {
                this.itemsList.children(".item").each(function() {
                    var t, i = $(this).find(".value.name").find("span"), n = i.text();
                    n = o.highlightText(n, e),
                    i.html(n),
                    t = $(this).find(".value.source").find("span"),
                    n = t.text(),
                    n = o.highlightText(n, e),
                    t.html(n)
                })
            }
            ,
            e.exports = n
        }
        ).call(t, i(37))
    },
    2790: function(e, t, i) {
        "use strict";
        function n(e, t) {
            this._chartWidgetCollection = e,
            this._title = $.t("Script Editor"),
            this._ui = {},
            t && t.$body && (this._ui.$body = t.$body),
            t && t.height && (this._heightWV = t.height),
            t && t.width && (this._widthWV = t.width),
            t && t.visible && (this._visibleWV = t.visible),
            t && t.$button && (this._$tabButton = t.$button),
            t && t.trackEvent && "function" == typeof t.trackEvent ? this._trackEvent = t.trackEvent : this._trackEvent = function() {}
            ,
            this._scripts = [],
            this._stdScripts = [],
            this._newScriptNumberOffset = 0,
            this._DEFAULT_SCRIPT_TITLE = $.t("My Script"),
            this._newScriptTemplate = '//@version=3\nstudy("' + this._DEFAULT_SCRIPT_TITLE + '")\nplot(close)',
            this._DEFAULT_STRATEGY_SCRIPT_TITLE = $.t("My Strategy"),
            this._newStrategyScriptTemplate = '//@version=3\nstrategy("' + this._DEFAULT_STRATEGY_SCRIPT_TITLE + '", overlay=true)\n\nlongCondition = crossover(sma(close, 14), sma(close, 28))\nif (longCondition)\n    strategy.entry("My Long Entry Id", strategy.long)\n\nshortCondition = crossunder(sma(close, 14), sma(close, 28))\nif (shortCondition)\n    strategy.entry("My Short Entry Id", strategy.short)',
            this._currScript = {},
            this._isVisible = !1,
            this._readOnly = !1,
            this.favsModel = y(),
            loginStateChange.subscribe(this, this._updateOnLoginStateChange)
        }
        var o, s, r, a, l, c, d, h, u, p, f, g, m, _, v, y, b, w, C, A, x, S, k, F;
        i(2085),
        i(59),
        i(1849),
        o = i(155),
        s = o.Action,
        r = o.ActionSeparator,
        a = i(563),
        l = i(2777),
        c = i(585).bindPopupMenu,
        d = i(87),
        h = i(654).Version,
        u = i(236),
        p = i(759),
        f = i(42).createNoticeDialog,
        g = i(2933).PineReferenceDialog,
        m = i(674),
        _ = m.SaveRenameDialog,
        v = m.InputField,
        y = i(1374).getFavoriteScriptsModel,
        b = i(462).createConfirmDialog,
        w = i(1822).htmlEscape,
        C = i(241).clean,
        A = i(1),
        x = A.getLogger("Chart.TVScriptWidget"),
        S = A.LOGLEVEL,
        k = i(463).watchedTheme,
        F = i(2430),
        n.prototype._updateOnLoginStateChange = function() {
            this._ui.$body.toggleClass("not-auth", !is_authenticated)
        }
        ,
        n.prototype._isNewScript = function() {
            return TradingView.isAbsent(this._currScript.scriptIdPart)
        }
        ,
        n.prototype._isLegacyScript = function() {
            return TradingView.isExistent(this._currScript.version) && this._currScript.version.isLess(new h(0,0))
        }
        ,
        n.prototype._isCurrScriptNull = function() {
            return TradingView.isAbsent(this._currScript.scriptSource)
        }
        ,
        n.prototype._isBufferModified = function() {
            function e(e) {
                return e && e.replace(/(\r\n|\r|\n)/g, "\n")
            }
            return e(this._currScript.scriptSource) !== e(this._ui.editor.getValue())
        }
        ,
        n.prototype._model = function() {
            return this._chartWidgetCollection.activeChartWidget.value().model()
        }
        ,
        n.prototype.show = function(e) {
            this._prepareLayoutAndShow(),
            this._isCurrScriptNull() && this._newIndicatorScript(),
            e ? this._openScriptWithConfirm(e) : this._openScript(this._currScript)
        }
        ,
        n.prototype.isVisible = function() {
            return this._isVisible
        }
        ,
        n.prototype.loadedScriptIdPart = function() {
            if (this._isVisible)
                return this._currScript.scriptIdPart
        }
        ,
        n._prepareLayoutAsWidget = function() {}
        ,
        n.prototype._prepareLayoutAndShow = function() {
            var e, t, n, o, s, r;
            this._ui.$dialogContent || (this._ui.$dialogContent = this._ui.$body,
            this._ui.$body.addClass("tv-script-widget"),
            e = this,
            t = this,
            this._ui.pineReferenceDialog = new g,
            this._ui.$header = $('<div class="tv-script-header">').appendTo(this._ui.$dialogContent),
            this._ui.$headerContent = $('<div class="tv-script-header-content clearfix">').appendTo(this._ui.$header),
            this._ui.$nameWrap = $('<div class="name-wrap">').appendTo(this._ui.$headerContent),
            this._ui.$titleControls = $('<div class="title-controls">').appendTo(this._ui.$nameWrap),
            this._ui.$editTitleButton = $('<span class="title-button hide-if-readonly hide-if-unsaved apply-common-tooltip"></span>').append($(i(1448))).attr("title", $.t("Rename script")).on("click", t._renameButtonHandler.bind(t)).appendTo(this._ui.$titleControls),
            this._ui.$favTitleButton = $('<span class="title-button hide-if-unsaved title-button-favorite apply-common-tooltip"></span>').append($(i(757))).attr("title", $.t("Favorite")).on("click", function(i) {
                i.preventDefault(),
                e.favsModel.favorite(t._currScript.scriptIdPart)
            }).appendTo(this._ui.$titleControls),
            this._ui.$versionWrap = $('<span class="apply-common-tooltip tv-dropdown-behavior tv-script-widget-version-wrap hide-if-unsaved"></span>').attr("title", $.t("Select version")).data("scroll", !0).appendTo(this._ui.$titleControls),
            this._ui.$versionText = $('<span class="tv-dropdown-behavior__button apply-common-tooltip title-button title-button-version with-arrow"></span>').appendTo(this._ui.$versionWrap),
            this._ui.$versionDropdown = $('<span class="tv-dropdown__body tv-dropdown__body--over-trigger tv-dropdown-behavior__body tv-script-widget-version-popup i-hidden"></span>').appendTo(this._ui.$versionWrap),
            this._ui.$versionTitle = $('<div class="tv-dropdown__title tv-dropdown-behavior__item">').text($.t("version")).appendTo(this._ui.$versionDropdown),
            this._ui.$versionScrollContainer = $('<div class="tv-dropdown-behavior__scroll">').appendTo(this._ui.$versionDropdown),
            this._ui.$versionPopupItemsWrap = $('<div class="tv-script-widget-version-popup__items-wrap tv-dropdown-behavior__inscroll">').appendTo(this._ui.$versionScrollContainer),
            this._ui.$versionWrap.tvDropdown("updateScroll"),
            this._ui.$nameText = $('<div class="name">').on("click", function(e) {
                e.preventDefault(),
                t._readOnly ? t._saveAsButtonHandler() : t._currScript.scriptName ? t._renameButtonHandler() : t._saveButtonHandler()
            }).appendTo(this._ui.$nameWrap),
            this._ui.$controls = $(document.createElement("div")).addClass("tv-script-controls").appendTo(this._ui.$headerContent),
            this._ui.$buttonOpen = $(document.createElement("a")).addClass("button hide-if-not-auth").text($.t("Open", {
                context: "input"
            })).click(this._openButtonHandler.bind(this)).appendTo(t._ui.$controls),
            this._ui.$buttonNew = $(document.createElement("a")).addClass("button with-arrow").text($.t("New")).appendTo(t._ui.$controls),
            this._ui.$buttonSave = $(document.createElement("a")).addClass("button tv-script-save-button hide-if-readonly").text($.t("Save")).click(this._saveButtonHandler.bind(this)).appendTo(t._ui.$controls),
            this._ui.$buttonSaveAs = $(document.createElement("a")).addClass("button tv-script-save-button hide-if-readonly hide-if-unsaved").text($.t("Save As...")).click(this._saveAsButtonHandler.bind(this)).appendTo(t._ui.$controls),
            this._ui.$buttonClone = $(document.createElement("a")).addClass("button tv-script-save-button show-if-readonly hide-if-unsaved").text($.t("Make a Copy...")).click(this._saveAsButtonHandler.bind(this)).appendTo(t._ui.$controls),
            this._ui.$buttonAdd = $(document.createElement("a")).addClass("button tv-script-add-button").text($.t("Add to Chart")).click(this._addButtonHandler.bind(this)).appendTo(t._ui.$controls),
            this._ui.$buttonPublish = $(document.createElement("a")).addClass("button button hide-if-readonly tv-script-publishform-button").text($.t("Publish Script")).click(this._publishToggleHandler.bind(this)).appendTo(e._ui.$controls),
            this._ui.$buttonHelp = $(document.createElement("a")).addClass("button with-arrow tv-script-help-button").text($.t("Help")).appendTo(t._ui.$controls),
            this._ui.$publishForm = $(),
            c(this._ui.$buttonNew, null, {
                direction: "down",
                event: "popup-menu"
            }),
            this._ui.$buttonNew.on("click", function() {
                var e = $(this);
                u.requestPineEditorNewTemplateScripts().done(function(i) {
                    var n, o = [];
                    o.push({
                        title: $.t("Blank indicator script"),
                        action: function() {
                            t._trackEvent("New"),
                            t._newIndicatorScript()
                        },
                        addClass: "special"
                    }),
                    o.push({
                        title: $.t("Blank strategy script"),
                        action: function() {
                            t._trackEvent("New"),
                            t._newStrategyScript()
                        },
                        addClass: "special"
                    }),
                    o.push({
                        separator: !0
                    }),
                    n = i.map(function(e) {
                        return {
                            title: e.scriptName,
                            action: function() {
                                t._trackEvent("New"),
                                u.getPineSourceCode(e.scriptIdPart, e.version).done(function(e) {
                                    var i = {
                                        scriptSource: e.source,
                                        scriptName: e.scriptName,
                                        scriptTitle: e.scriptTitle
                                    };
                                    t._openScriptWithConfirm(i, function() {
                                        t._setScriptModified(!0)
                                    })
                                }).fail(function(t) {
                                    var i = "Could not getPineSourceCode for pineId=" + e.scriptIdPart + " reason: " + t;
                                    x.logError(i),
                                    this._writeConsoleError(i)
                                }
                                .bind(this))
                            }
                        }
                    }).sort(function(e, t) {
                        return e = (e.title || "").toLowerCase(),
                        t = (t.title || "").toLowerCase(),
                        e < t ? -1 : e > t ? 1 : 0
                    }),
                    e.trigger("popup-menu", [o.concat(n)])
                })
            }),
            c(this._ui.$buttonHelp, [{
                title: $.t("Pine Script Tutorial"),
                action: function() {
                    t._trackEvent("Tutorial");
                    var e;
                    switch (window.locale) {
                    case "kr":
                        e = "https://docs.google.com/a/tradingview.com/document/d/1Au0X1c-0HcSmqblzG1SVYka9QlFGZiAvkeBEbxHCBsc/edit?usp=sharing";
                        break;
                    default:
                        e = "https://www.tradingview.com/wiki/Pine_Script_Tutorial"
                    }
                    window.open(e, "_blank")
                }
            }, {
                title: $.t("Pine Script Reference (pop-up)"),
                action: function() {
                    t._trackEvent("Reference Pop-up"),
                    t._ui.pineReferenceDialog.open()
                }
            }, {
                title: $.t("Pine Script Reference (new window)"),
                action: function() {
                    t._trackEvent("Refernece New Window"),
                    window.open("/study-script-reference/", "_blank")
                }
            }, {
                title: $.t("How to use the reference materials (Video)"),
                action: function() {
                    t._trackEvent("How To use Refrence Video"),
                    window.open("http://blog.tradingview.com/?p=510", "_blank")
                }
            }, {
                title: $.t("Pine Editor Keyboard Shortcuts"),
                action: function() {
                    t._trackEvent("Pine Editor Keyboard Shortcuts"),
                    new F.ShortcutsDialog({
                        activeTab: 1
                    }).show()
                }
            }, {
                title: $.t("Suggestions & Feedback"),
                action: function() {
                    t._trackEvent("Suggestions and Feedback"),
                    window.open("https://getsatisfaction.com/tradingview/", "_blank")
                }
            }], {
                direction: "down",
                addClass: "wider",
                careRightBorder: !0
            }),
            n = "",
            this._ui.$editorContainer = $('<div class="tv-script-editor-container"></div>').appendTo(this._ui.$dialogContent),
            $('<div id="editor"></div>').appendTo(this._ui.$editorContainer).text(n),
            this._ui.editor = ace.edit("editor"),
            this._ui.editor.setFontSize("13px"),
            k.subscribe(this._onChangeTheme.bind(this)),
            this._onChangeTheme(k.value()),
            this._ui.editor.commands.addCommand({
                name: "save",
                bindKey: {
                    win: "Ctrl-s",
                    mac: "Command-s"
                },
                exec: function(e) {
                    t._saveButtonHandler()
                }
            }),
            this._ui.editor.commands.addCommand({
                name: "open",
                bindKey: {
                    win: "Ctrl-o",
                    mac: "Command-o"
                },
                exec: function(e) {
                    t._openButtonHandler()
                }
            }),
            this._ui.editor.commands.addCommand({
                name: "new",
                bindKey: {
                    win: "Ctrl-i",
                    mac: "Command-i"
                },
                exec: function(e) {
                    t._newButtonHandler()
                }
            }),
            this._ui.editor.commands.addCommand({
                name: "delete",
                bindKey: {
                    win: "Ctrl-e",
                    mac: "Command-e"
                },
                exec: function(e) {
                    t._deleteButtonHandler()
                }
            }),
            this._ui.editor.commands.addCommand({
                name: "add",
                bindKey: {
                    win: "Ctrl-enter",
                    mac: "Command-enter"
                },
                exec: function(e) {
                    t._addButtonHandler()
                }
            }),
            this._ui.editor.commands.addCommand({
                name: "toggleconsole",
                bindKey: {
                    win: "Ctrl-`",
                    mac: "Command-`"
                },
                exec: function(e) {
                    t._toggleConsole()
                }
            }),
            o = ace.require("ace/ext/language_tools"),
            s = function(e) {
                return e.map(function(e) {
                    return e.replace(".", "\\.")
                })
            }
            ,
            r = i(1548),
            TradingView.Ace.tvscriptBuiltinFunctionsList = Object.keys(r.functions.docs),
            TradingView.Ace.tvscriptBuiltinFunctionsRegExList = s(TradingView.Ace.tvscriptBuiltinFunctionsList),
            TradingView.Ace.tvscriptBuiltinVariablesList = Object.keys(r.variables.docs),
            TradingView.Ace.tvscriptBuiltinVariablesRegExList = s(TradingView.Ace.tvscriptBuiltinVariablesList),
            this._ui.editor.session.setMode("ace/mode/tvscript"),
            this._ui.editor.session.setNewLineMode("windows"),
            this._ui.editor.setOptions({
                enableBasicAutocompletion: !0
            }),
            this._setupAutocompletion(o, this._ui.editor, TradingView.Ace.tvscriptBuiltinVariablesList, TradingView.Ace.tvscriptBuiltinFunctionsList),
            this._ui.editor.tokenTooltip = new TradingView.Ace.TokenTooltip(this._ui.editor,r,this._ui.pineReferenceDialog),
            this._ui.editor.getSession().on("change", function(e, t) {
                var i = this._isBufferModified();
                this._setScriptModified(i)
            }
            .bind(this)),
            this._ui.editor.getSession().setUseSoftTabs(!0),
            this._ui.editor.getSession().setTabSize(4),
            this._ui.$consoleContainer = $('<div class="tv-script-console-container"><div class="tv-script-console-header"><div class="tv-script-console-toggle"><div class="tv-script-console-icon"></div></div><div class="tv-script-console-resize"></div></div><div class="tv-script-console-body"><div class="tv-script-console-text selectable"></div></div></div>').appendTo(this._ui.$dialogContent),
            this._ui.$console = this._ui.$consoleContainer.find(".tv-script-console-text"),
            this._ui.$consoleHeader = this._ui.$consoleContainer.find(".tv-script-console-header"),
            this._ui.$consoleBody = this._ui.$consoleContainer.find(".tv-script-console-body"),
            this._ui.$consoleResize = this._ui.$consoleContainer.find(".tv-script-console-resize"),
            this._ui.$consoleBody.hide(),
            this._ui.$consoleContainer.find(".tv-script-console-toggle").click(function() {
                e._toggleConsole()
            }),
            this._ui.$consoleResize.on("mousedown touchstart", function(t) {
                e._onConsoleResizeHandleMousedown(t)
            }),
            this._heightWV && this._heightWV.subscribe(this._onDialogResize.bind(this)),
            this._widthWV && this._widthWV.subscribe(this._onDialogResize.bind(this)),
            $(window).on("resize", this._onDialogResize.bind(this)),
            this._isVisible = !0,
            this._visibleWV.subscribe(function(e) {
                t._isVisible = e,
                u.scriptUpdater().onScriptOpen(),
                e && t._onDialogResize()
            }, {
                callWithLast: !0
            }),
            this.favsModel.on("change:favorites", this._syncFavorite, this),
            this._ui.$buttonReadonly = $('<span class="tv-script-readonly-icon apply-common-tooltip"></span>').append($(i(2522))).attr("title", $.t("This script is read only")).appendTo(this._$tabButton),
            this._ui.$buttonModified = $('<span class="tv-script-modified-icon apply-common-tooltip">*</span>').attr("title", $.t("Unsaved script")).appendTo(this._$tabButton),
            this._ui.$body.on("contextmenu", this._onContextMenu.bind(this)),
            this._updateOnLoginStateChange())
        }
        ,
        n.prototype._onChangeTheme = function(e) {
            "dark" === e ? this._ui.editor.setTheme("ace/theme/tomorrow_night") : this._ui.editor.setTheme("ace/theme/tomorrow")
        }
        ,
        n.prototype._onContextMenu = function(e) {
            var t, i, n, o, l;
            e.isDefaultPrevented() || $(e.target).is("textarea, input") || (t = $(this._ui.$consoleBody),
            i = $(e.target).parents().andSelf().is(t),
            n = [],
            o = new s({
                text: $.t("Show Console"),
                checkable: !0,
                checked: this._ui.$consoleContainer.hasClass("open"),
                shortcut: "ctrl-`"
            }),
            o.callbacks().subscribe(this, function() {
                this._toggleConsole()
            }),
            n.push(o),
            i && (l = new s({
                text: $.t("Clear Console")
            }),
            l.callbacks().subscribe(this, function() {
                this._ui.$console.empty()
            }),
            n.push(new r),
            n.push(l)),
            a.createMenu(n).show(e),
            e.preventDefault())
        }
        ,
        n.prototype._onDialogResize = function() {
            var e, t, i, n;
            this._isVisible && (e = this._heightWV.value(),
            isFinite(e) && (t = this._ui,
            i = e - t.$header.outerHeight() - t.$consoleContainer.outerHeight(),
            i < 0 ? t.$consoleContainer.hasClass("open") && t.$consoleBody.height(t.$consoleBody.height() + i) : (t.$editorContainer.height(i),
            n = $(window).height() - t.$versionWrap.offset().top - 115,
            t.$versionScrollContainer.css("maxHeight", n)),
            t.editor.resize()))
        }
        ,
        n.prototype._selectScriptName = function(e) {
            var t, i, n, o, s, r = this._ui.editor.getSelection(), a = 1, l = 7, c = this._ui.editor.getValue().split("\n");
            for (t = 0; t < c.length; ++t)
                if (0 <= (i = c[t].indexOf(e))) {
                    a = t,
                    l = i;
                    break
                }
            n = a,
            o = l + e.length,
            s = new TradingView.Ace.Range(a,l,n,o),
            this._ui.editor.moveCursorTo(a, l),
            r.addRange(s),
            this._ui.editor.focus()
        }
        ,
        n.prototype._setupAutocompletion = function(e, t, i, n) {
            var o = this._createAutocompletionList(n, "builtin function").concat(this._createAutocompletionList(i, "builtin variable"))
              , s = {
                getCompletions: function(e, t, i, n, s) {
                    s(null, o)
                }
            };
            e.addCompleter(s)
        }
        ,
        n.prototype._createAutocompletionList = function(e, t) {
            return e.map(function(e) {
                return {
                    name: e,
                    value: e,
                    score: 100500,
                    meta: t
                }
            })
        }
        ,
        n.prototype._showConsole = function(e) {
            if (this._ui.$consoleBody) {
                var e = "function" == typeof e ? e : function() {}
                ;
                if (this._ui.$consoleBody.is(":visible"))
                    return void e();
                this._ui.$consoleContainer.addClass("open"),
                this._ui.$consoleBody.show(0, e),
                this._onDialogResize()
            }
        }
        ,
        n.prototype._hideConsole = function() {
            this._ui.$consoleBody && this._ui.$consoleBody.is(":visible") && (this._ui.$consoleContainer.removeClass("open"),
            this._ui.$consoleBody.hide(),
            this._onDialogResize())
        }
        ,
        n.prototype._toggleConsole = function() {
            this._ui.$consoleBody && (this._ui.$consoleContainer.hasClass("open") ? this._hideConsole() : this._showConsole())
        }
        ,
        n.prototype._onConsoleResizeHandleMousedown = function(e) {
            var t, i, n, o, s, r, a, l;
            e.isDefaultPrevented() || (e.preventDefault(),
            t = this,
            i = e.originalEvent.touches ? e.originalEvent.touches[0].clientY : e.pageY,
            n = this._ui.$editorContainer,
            o = this._ui.$consoleBody,
            s = n.height(),
            r = o.height(),
            a = function(e) {
                var a, l, c, d;
                a = e.originalEvent.touches ? e.originalEvent.touches[0].clientY : e.pageY,
                l = a - i,
                c = s + l,
                (d = r - l) <= 0 || c <= 0 || s !== c && r !== d && (i = a,
                s = c,
                r = d,
                n.height(s),
                o.height(r),
                t._ui.editor.resize())
            }
            ,
            l = function(e) {
                $(document.documentElement).off("mousemove touchmove", a).off("mouseup touchend", l)
            }
            ,
            $(document.documentElement).on("mousemove touchmove", a).one("mouseup touchend", l))
        }
        ,
        n.prototype._newButtonHandler = function() {
            this._trackEvent("New"),
            runOrSignIn(this._newIndicatorScript.bind(this), {
                source: "Script create",
                sourceMeta: "Chart"
            })
        }
        ,
        n.prototype._newScript = function(e, t) {
            var i = {
                scriptSource: e
            }
              , n = function() {
                this._selectScriptName(t),
                this._setScriptModified(!0)
            }
            .bind(this);
            this._openScriptWithConfirm(i, n)
        }
        ,
        n.prototype._newIndicatorScript = function() {
            this._newScript(this._newScriptTemplate, this._DEFAULT_SCRIPT_TITLE)
        }
        ,
        n.prototype._newStrategyScript = function() {
            this._newScript(this._newStrategyScriptTemplate, this._DEFAULT_STRATEGY_SCRIPT_TITLE)
        }
        ,
        n.prototype._generatePromptName = function(e, t) {
            var i, n, o, s, r, a;
            for (e = (e || "").trim(),
            t = t || [],
            i = 1,
            n = e,
            o = " ",
            s = 0,
            r = /(.*?)(\s+)(\d*)$/.exec(e),
            r && (n = r[1],
            o = r[2],
            s = +r[3]),
            a = e,
            i = 1; -1 !== t.indexOf(a); i++)
                a = n + o + (s + i);
            return a
        }
        ,
        n.prototype._openButtonHandler = function() {
            var e = this;
            e._trackEvent("Open"),
            u.requestUserScripts().done(function(t) {
                var i = new l
                  , n = t.map(function(t) {
                    return {
                        name: t.scriptName,
                        scriptTitle: t.scriptTitle,
                        scriptIdPart: t.scriptIdPart,
                        lastVersion: t.version,
                        isTVScriptStrategy: d.isScriptStrategy(t),
                        modified: t.modified,
                        openAction: function(i) {
                            e._tryOpenScriptVersion(t.scriptIdPart, t.version).done(function() {
                                i.resolve()
                            })
                        },
                        deleteAction: function(i) {
                            e._deleteScriptHandler(t.scriptName, t.scriptIdPart, function() {
                                i.resolve()
                            })
                        },
                        active: t.scriptIdPart === e._currScript.scriptIdPart
                    }
                });
                i.show(n)
            })
        }
        ,
        n._getPineSourceCode = function(e) {
            var t = $.Deferred();
            return e.version < 0 ? t.resolve(e) : u.getPineSourceCode(e.scriptIdPart, e.version).done(function(i) {
                e.scriptSource = i.source,
                t.resolve(e)
            }),
            t
        }
        ,
        n.prototype._saveButtonHandler = function() {
            this._trackEvent("Save"),
            runOrSignIn(this._saveButtonHandlerSignedIn.bind(this), {
                source: "Script save",
                sourceMeta: "Chart"
            })
        }
        ,
        n.prototype._saveButtonHandlerSignedIn = function() {
            if (this._ui.editor.focus(),
            !this._currScript.isModified && this._currScript.scriptName)
                return void this._writeConsoleInfo($.t("Script text is not modified, nothing to save"));
            var e = this._ui.editor.getValue();
            u.parseScriptTitleAsync(e).done(function(t) {
                this._saveButtonHandlerGotScriptTitle(e, t)
            }
            .bind(this)).fail(function(t) {
                this._saveButtonHandlerGotScriptTitle(e, this._DEFAULT_SCRIPT_TITLE)
            }
            .bind(this))
        }
        ,
        n.prototype._saveButtonHandlerGotScriptTitle = function(e, t) {
            var i = $.Deferred().done(function(t, i) {
                this._saveButtonHandlerSaveNewOrNextOrCurrent(e, t, !!i)
            }
            .bind(this));
            this._currScript.scriptName ? i.resolve(this._currScript.scriptName) : u.requestUserScripts().done(function(e) {
                var n = e.map(function(e) {
                    return e.scriptName
                })
                  , o = this._generatePromptName(t || $.t("My Script"), n)
                  , s = "text"
                  , r = new _({
                    fields: [new v({
                        name: s,
                        label: $.t("Script name") + ":",
                        error: $.t("Please enter script name"),
                        maxLength: 128
                    })],
                    title: $.t("Save Script")
                })
                  , a = function(t) {
                    var n, o, r = t[s].trim(), a = e.filter(function(e) {
                        return e.scriptName === r
                    })[0];
                    a && a.scriptIdPart !== this._currScript.scriptIdPart ? (n = $.t("Script '{0}' already exists. Do you really want to replace it?").format(r),
                    n = w(n),
                    o = b({
                        type: "modal",
                        content: n
                    }),
                    o.on("action:yes", function(e) {
                        i.resolve(r, !0),
                        e.close()
                    }),
                    o.open()) : i.resolve(r)
                }
                .bind(this);
                r.setField(s, o),
                r.show().then(a)
            }
            .bind(this))
        }
        ,
        n.prototype._saveButtonHandlerSaveNewOrNextOrCurrent = function(e, t, i) {
            var n, o;
            this._writeConsoleInfo($.t("Processing script...")),
            this._writeConsoleDebug("Using tv-scripting-" + this._tvScriptingPkgVersion()),
            n = null,
            o = "" + this._currScript.version,
            n = this._isNewScript() ? u.saveNew(e, t, i, o) : u.saveNext(this._currScript.scriptIdPart, e, t, o, this._isLegacyScript()),
            n.done(function(i, n) {
                n && this._writeConsoleError(n),
                this._writeConsoleInfo($.t("Script '{0}' has been saved").format(t)),
                this._setScriptModified(!1),
                this._openScript({
                    scriptSource: e,
                    scriptIdPart: i.scriptIdPart,
                    version: i.pine.version,
                    scriptName: t,
                    preserveEditorSession: !0
                })
            }
            .bind(this)).fail(function(e) {
                var t = $.t("Save operation failed, reason: {0}").format(e);
                this._writeConsoleError(t)
            }
            .bind(this))
        }
        ,
        n.prototype._addButtonHandler = function() {
            var e, t, i, n;
            this._trackEvent("Add to Chart"),
            e = $.Deferred(),
            t = this._ui.editor.getValue(),
            i = "" + this._currScript.version,
            this._readOnly ? (n = this._model().insertStudyStub(this._currScript.scriptName || $.t("Untitled Script")),
            e.resolve(u.translateScriptAsync2(this._currScript.scriptIdPart, i))) : runOrSignIn(function() {
                n = this._model().insertStudyStub(this._currScript.scriptName || $.t("Untitled Script")),
                this._isNewScript() ? e.resolve(u.saveNewDraft(t)) : this._isBufferModified() ? e.resolve(u.saveNextDraft(this._currScript.scriptIdPart, t, this._isLegacyScript())) : e.resolve(u.translateScriptAsync2(this._currScript.scriptIdPart, i))
            }
            .bind(this), {
                source: "Script add to chart",
                sourceMeta: "Chart"
            }),
            Promise.resolve(e).then(function(e) {
                var i, o = d.addOrReplaceStudyMetaInfo(this._model().studiesMetaData(), e);
                if (!this._model().removeStudyStub(n.id()))
                    return void this._writeConsoleInfo($.t("User cancelled operation"));
                i = this._model().insertStudy(o),
                i && this._writeConsoleInfo($.t("Script study added to the chart")),
                this._currScript.scriptSource = t,
                this._currScript.scriptIdPart = e.scriptIdPart,
                this._currScript.version = e.pine.version,
                this._currScript.preserveEditorSession = !0,
                this._openScript(this._currScript)
            }
            .bind(this), function(e, i) {
                this._writeConsoleError($.t("Add to Chart operation failed, reason: {0}").format(e)),
                this._model().removeStudyStub(n.id()),
                TradingView.isAbsent(i) || (this._currScript.scriptSource = t,
                this._currScript.scriptIdPart = i.scriptIdPart,
                this._currScript.version = i.pine.version,
                this._currScript.preserveEditorSession = !0,
                this._openScript(this._currScript))
            }
            .bind(this))
        }
        ,
        n.prototype._deleteButtonHandler = function() {
            this._deleteScriptHandler(this._currScript.scriptName, this._currScript.scriptIdPart)
        }
        ,
        n.prototype._deleteScriptHandler = function(e, t, i) {
            runOrSignIn(function() {
                var n, o;
                if (!e)
                    return void this._writeConsoleInfo($.t("Script is not saved. Nothing to delete."));
                n = $.t("Do you really want to delete Script '{0}' ?").format(TradingView.cleanButAmpersand(e)),
                n = w(n),
                o = b({
                    type: "modal",
                    content: n
                }),
                o.on("action:yes", function(e) {
                    setTimeout(function() {
                        this._deleteScript(t),
                        null != i && i()
                    }
                    .bind(this), 0),
                    e.close()
                }
                .bind(this)),
                o.open()
            }
            .bind(this), {
                source: "Script delete"
            })
        }
        ,
        n.prototype._publishToggleHandler = function(e) {
            e.preventDefault(),
            this._dialog ? this._togglePublishFormState() : this._showPublishFormDialog()
        }
        ,
        n.prototype._showPublishFormDialog = function() {
            function e(e) {
                var t = Error();
                return t.options = e,
                t
            }
            function t(e) {
                e.options && f(e.options).open()
            }
            function n() {
                return Promise.reject(e({
                    type: "modal",
                    title: $.t("No showcase"),
                    content: $.t("Active chart doesn't contain the study you are going to publish")
                }))
            }
            function o() {
                var t, i, o = a._currScript;
                return !a._isBufferModified() && o.scriptIdPart && o.version ? (i = a._chartWidgetCollection.activeChartWidget.value().containsStudyByPredicate(function(e) {
                    return !(!e.scriptIdPart || e.scriptIdPart !== o.scriptIdPart || !h.parse(e.pine.version).isEqual(o.version) || (t = e,
                    0))
                }),
                i ? t.isTVScriptStub ? Promise.reject(e({
                    type: "modal",
                    title: $.t("Script Error"),
                    content: $.t("Script cannot be compiled because of errors.")
                })) : t.isTVScriptStrategy && TradingView.bottomWidgetBar && TradingView.BacktestingStrategyDispatcher().strategies().length > 1 ? Promise.reject(e({
                    type: "modal",
                    title: $.t("Publish Strategy"),
                    content: $.t("To publish a strategy, only that strategy should be applied to the chart&nbsp;&mdash; it’s clearer to users that way. Please delete all other strategies and try again.")
                })) : Promise.resolve({
                    source_title: t.description
                }) : n()) : n()
            }
            function s(e) {
                var t = e[0]
                  , i = e[1];
                return new Promise(function(e) {
                    var n = {
                        title: C(t.source_title, !0),
                        scriptSource: r,
                        is_public: "1",
                        scriptType: t.script_type,
                        strictCheckPromise: t.strictCheckPromise
                    }
                      , o = $(a._ui.$buttonPublish);
                    window.saver.publishScript(n, {
                        onMinimizeEditor: function() {
                            o.addClass("tv-script-publishform-button--progress"),
                            e()
                        },
                        onCloseEditor: function() {
                            o.removeClass("tv-script-publishform-button--progress"),
                            e()
                        }
                    }, i)
                }
                )
            }
            var r, a = this;
            a._scriptPublishingInProgress || (a._scriptPublishingInProgress = !0,
            r = a._ui.editor.getValue(),
            this._trackEvent(""),
            runOrSignIn(function() {
                var e = new Promise(function(e) {
                    i.e(146, function(t) {
                        e({
                            ScriptPublisher: i(2565).ScriptPublisher,
                            ScriptsProvider: i(1983).ScriptsProvider,
                            CategoriesProvider: i(743).CategoriesProvider
                        })
                    })
                }
                );
                Promise.all([o(), e]).then(s).catch(t).then(function() {
                    a._scriptPublishingInProgress = !1
                })
            }, {
                source: "Script publish",
                sourceMeta: "Chart"
            }))
        }
        ,
        n.prototype._renameButtonHandler = function() {
            var e = $.Deferred().done(function(e, t) {
                this._renameScript(this._currScript.scriptIdPart, e, !!t)
            }
            .bind(this));
            runOrSignIn(function() {
                var t = this._currScript.scriptName
                  , i = this._currScript.scriptIdPart;
                if (!t)
                    return void this._writeConsoleInfo($.t("Script is not saved. Nothing to rename."));
                u.requestUserScripts().done(function(n) {
                    var o = "text"
                      , s = new _({
                        fields: [new v({
                            name: o,
                            label: $.t("Script name") + ":",
                            error: $.t("Please enter script name"),
                            maxLength: 128
                        })],
                        title: $.t("Rename Script")
                    })
                      , r = function(s) {
                        var r, a, l, c = s[o].trim();
                        if (c === t)
                            return void e.reject();
                        r = n.filter(function(e) {
                            return e.scriptName === c
                        })[0],
                        r && r.scriptIdPart !== i ? (a = $.t("Script '{0}' already exists. Do you really want to replace it?").format(c),
                        a = w(a),
                        l = b({
                            type: "modal",
                            content: a
                        }),
                        l.on("action:yes", function(t) {
                            e.resolve(c, !0),
                            t.close()
                        }),
                        l.open()) : e.resolve(c, !1)
                    };
                    s.setField(o, t),
                    s.show().then(r)
                })
            }
            .bind(this), {
                source: "Script rename"
            })
        }
        ,
        n.prototype._saveAsButtonHandler = function() {
            var e = $.Deferred().done(function(e, t) {
                this._saveScriptAs(this._currScript.scriptIdPart, e, t)
            }
            .bind(this));
            runOrSignIn(function() {
                var t = this._currScript.scriptName
                  , i = t ? $.t("{0} copy").format(t) : "";
                u.requestUserScripts().done(function(t) {
                    var n, o, s, r = $.t("Save Script As");
                    this._readOnly && (r = $.t("Make a Copy")),
                    n = "text",
                    o = new _({
                        fields: [new v({
                            name: n,
                            label: $.t("New script name") + ":",
                            error: $.t("Please enter script name"),
                            maxLength: 128
                        })],
                        title: r
                    }),
                    s = function(i) {
                        var o, s, r = i[n].trim();
                        t.filter(function(e) {
                            return e.scriptName === r
                        })[0] ? (o = $.t("Script '{0}' already exists. Do you really want to replace it?").format(r),
                        o = w(o),
                        s = b({
                            type: "modal",
                            content: o
                        }),
                        s.on("action:yes", function(t) {
                            e.resolve(r, !0),
                            t.close()
                        }),
                        s.open()) : e.resolve(r, !1)
                    }
                    ,
                    o.setField(n, i),
                    o.show().then(s)
                }
                .bind(this))
            }
            .bind(this), {
                source: "Script save as",
                sourceMeta: "Chart"
            })
        }
        ,
        n.prototype._deleteScript = function(e) {
            u.deletePine(e).done(function() {
                this._writeConsoleInfo($.t("Script has been deleted")),
                this._currScript.scriptIdPart === e && (this._setTitle(""),
                delete this._currScript.scriptIdPart)
            }
            .bind(this)).fail(function(t) {
                var i = $.t("Could not delete script '{0}', reason: {1}").format(e, t);
                this._writeConsoleError(i)
            }
            .bind(this))
        }
        ,
        n.prototype._openScriptWithConfirm = function(e, t) {
            var i, n;
            this._currScript.isModified && this._isBufferModified() ? (i = $.t("You have unsaved changes in the current script. Do you really want to discard them and start working with another script?"),
            i = w(i),
            n = b({
                type: "modal",
                content: i
            }),
            n.on("action:yes", function(i) {
                this._openScript(e),
                t && t(),
                i.close()
            }
            .bind(this)),
            n.open()) : (this._openScript(e),
            t && t())
        }
        ,
        n.prototype._openScript = function(e) {
            var t, i, n, o, s, r, a;
            if ("string" != typeof e.scriptSource)
                throw new TypeError("scriptSource property must be a string");
            this._currScript !== e && (this._currScript = e),
            this._currScript.version ? this._currScript.version = h.parse(this._currScript.version) : this._currScript.version = h.ZERO,
            e.scriptIdPart && (t = e.scriptIdPart,
            i = this._currScript.version.major() < 1,
            u.getPineSourceCode(e.scriptIdPart, "last", i).done(function(i) {
                if (e.scriptIdPart === t) {
                    var n = h.parse(i.version).major();
                    this._updateVersionLabel(n, this._currScript.version)
                }
            }
            .bind(this))),
            n = this._currScript.isModified,
            e.preserveEditorSession || this._ui.editor.getSession().setValue(this._currScript.scriptSource),
            0 !== this._currScript.version.minor() && (n = !0),
            this._setScriptModified(!!n),
            TradingView.isExistent(this._currScript.scriptIdPart) ? u.isAuthToWritePineScript(this._currScript.scriptIdPart).done(function(e) {
                this._setReadOnly(!e)
            }
            .bind(this)).fail(function(e) {
                var t = "Could not isAuthToWritePineScript for pineId=" + this._currScript.scriptIdPart + " reason: " + e;
                x.logError(t),
                this._writeConsoleError(t),
                this._setReadOnly(!1)
            }
            .bind(this)) : this._setReadOnly(!1),
            o = this._currScript.version.isLess(new h(0,0)),
            s = this._currScript.version.isGreaterOrEqual(new h(1,0)),
            o || s || e.isOld ? this._setTitle(e.scriptName) : this._setTitle(""),
            /PUB;/.test(this._currScript.scriptIdPart) && (r = this,
            a = p.info([this._currScript.scriptIdPart]).pipe(function(e) {
                var t, i;
                return !e || e.length < 1 ? "" : (t = e[0],
                i = t.scriptName || t.sourceTitle || $.t("Study"),
                t.author && t.author.username && (i += " " + $.t("by") + " " + t.author.username),
                i)
            }),
            r._titleDfd = a,
            a.done(function(e) {
                a === r._titleDfd && r._setTitle(e)
            })),
            this._ui.editor.focus(),
            this._syncFavorite(),
            u.scriptUpdater().onScriptOpen()
        }
        ,
        n.prototype._tryOpenScriptVersion = function(e, t) {
            return u.getPineSourceCode(e, t).done(function(i) {
                var n = {
                    scriptIdPart: e,
                    version: t,
                    scriptSource: i.source,
                    scriptName: i.scriptName,
                    scriptTitle: i.scriptTitle
                };
                this._openScriptWithConfirm(n)
            }
            .bind(this)).fail(function(e) {
                var t = "Could not getPineSourceCode for pineId=" + this._currScript.scriptIdPart + " reason: " + e;
                x.logError(t),
                this._writeConsoleError(t)
            }
            .bind(this))
        }
        ,
        n.prototype._updateVersionLabel = function(e) {
            var t, i, n, o, s, r, a = this, l = h.parse(a._currScript.version);
            for (t = l.major() < 0 ? "" + new h(1,0) : "" + l,
            a._ui.$versionText.text(t),
            i = function(e) {
                var t, i;
                a._trackEvent("Select version"),
                t = $(this).data("version"),
                i = a._currScript.scriptIdPart,
                a._tryOpenScriptVersion(i, t),
                a._ui.$versionWrap.tvDropdown("close")
            }
            ,
            n = function(e, t, n) {
                $('<div class="tv-dropdown-behavior__item js-fields-item tv-script-widget-version-popup__item tv-dropdown__item">').text(e).data("version", t).toggleClass("i-active", n).on("click", i).appendTo(a._ui.$versionPopupItemsWrap)
            }
            ,
            a._ui.$versionPopupItemsWrap.empty(),
            o = e; o >= 1; o--)
                s = new h(o,0),
                r = s.isEqual(l),
                n("" + s, "" + s, r);
            e < 0 && n("" + new h(1,0), "" + new h(e,0), !0),
            a._ui.$versionPopupItemsWrap.tvDropdown("updateScroll")
        }
        ,
        n.prototype._setReadOnly = function(e) {
            e = !!e,
            this._readOnly = e,
            this._ui.$body.toggleClass("readonly", e),
            this._ui.editor.setReadOnly(e),
            this._ui.editor.setHighlightActiveLine(!e),
            this._ui.editor.setHighlightGutterLine(!e),
            this._ui.editor.setShowPrintMargin(!e),
            this._ui.$buttonReadonly.toggleClass("active", e)
        }
        ,
        n.prototype._writeConsoleError = function(e) {
            var t, i = TradingView.clean(e, !0);
            x.logError(i),
            t = this,
            this._showConsole(function() {
                function e() {
                    var e, i, n, s = this.text.match(o)[1], r = this.text.match(/`(.*)`/);
                    if (t._ui.editor.gotoLine(s, Number.MAX_VALUE, !0),
                    t._ui.editor.focus(),
                    r) {
                        for (e = -1,
                        n = RegExp("\\b" + r[1] + "\\b", "g"); i = n.exec(t._ui.editor.getSession().getLine(s - 1)); )
                            e = i.index;
                        -1 !== e && t._ui.editor.selection.setRange({
                            start: {
                                column: e,
                                row: s - 1
                            },
                            end: {
                                column: e + r[1].length,
                                row: s - 1
                            }
                        })
                    }
                }
                var n, o = /lines? (\d*)/, s = i.split("\n");
                for (n = 0; n < s.length; n++)
                    s[n].match(o) ? $("<a href='#' class='error selectable'>").text(s[n] + "\n").on("click", e).appendTo(t._ui.$console) : $("<div class='error selectable'>").text(s[n] + "\n").appendTo(t._ui.$console);
                t._ui.$consoleBody.scrollTop(t._ui.$console.outerHeight())
            })
        }
        ,
        n.prototype._writeConsoleInfo = function(e) {
            var t = TradingView.clean(e, !0);
            this._ui.$console.append($("<div class='selectable'>").text(t)),
            this._ui.$consoleBody.scrollTop(this._ui.$console.outerHeight()),
            x.logNormal(t)
        }
        ,
        n.prototype._writeConsoleDebug = function(e) {
            if (A.getLogLevel() === S.DEBUG) {
                var t = TradingView.clean(e, !0);
                this._ui.$console.append($("<div class='debug selectable'>").text(t)),
                this._ui.$consoleBody.scrollTop(this._ui.$console.outerHeight()),
                x.logDebug(t)
            }
        }
        ,
        n.prototype._tvScriptingPkgVersion = function() {
            var e;
            try {
                return e = d.findStudyMetaInfo(this._model().studiesMetaData(), "Script@tv-scripting"),
                e.version
            } catch (e) {
                throw Error("Metainfo of 'tv-scripting' package is not found")
            }
        }
        ,
        n.prototype.onScriptModified = function(e, t) {
            t || this._currScript.isModified || e.scriptIdPart && e.scriptSource && this._currScript.scriptIdPart === e.scriptIdPart && this._openScript(e)
        }
        ,
        n.prototype.onScriptDeleted = function(e, t) {
            this._currScript.scriptIdPart === e.scriptIdPart && (delete this._currScript.scriptIdPart,
            this._setTitle(""))
        }
        ,
        n.prototype.onScriptRenamed = function(e, t) {
            t || this._currScript.isModified || this._currScript.scriptIdPart === e.scriptIdPart && this._setTitle(e.scriptName)
        }
        ,
        n.prototype._setTitle = function(e) {
            var t = this._ui.$body;
            e = TradingView.isAbsent(e) ? "" : "" + e,
            this._currScript.scriptName = e,
            this._ui.$nameText.empty(),
            e ? (this._ui.$nameText.text(e),
            this._ui.$nameWrap.removeClass("empty"),
            t.removeClass("tv-script-unsaved")) : (this._ui.$nameText.html("<i>" + $.t("Untitled Script") + "</i>"),
            this._ui.$buttonSave.removeClass("no-change"),
            this._ui.$nameWrap.addClass("empty"),
            t.addClass("tv-script-unsaved")),
            this._onDialogResize()
        }
        ,
        n.prototype._setScriptModified = function(e) {
            var t = this._ui.$body;
            this._currScript.isModified = !!e,
            e && !t.hasClass("tv-script-modified") ? (t.addClass("tv-script-modified"),
            this._ui.$buttonSave.removeClass("no-change")) : e || (t.removeClass("tv-script-modified"),
            this._ui.$buttonSave.addClass("no-change")),
            this._ui.$buttonModified.toggleClass("active", !!e && !!this._currScript.scriptName)
        }
        ,
        n.prototype._renameScript = function(e, t, i) {
            var n, o;
            t && t !== this._currScript.scriptName && (n = this._currScript.scriptName,
            this._setTitle(t),
            o = u.renamePine(e, t, i),
            o.done(function(e) {
                this._writeConsoleInfo($.t("Script renamed"))
            }
            .bind(this)).fail(function() {
                var o = $.t("Script rename failed, pineId='{0}', newName='{1}', force={2}").format(e, t, i);
                this._writeConsoleError(o),
                this._setTitle(n)
            }
            .bind(this)))
        }
        ,
        n.prototype._saveScriptAs = function(e, t, i, n) {
            var o, s;
            t && (o = this._ui.editor.getValue(),
            s = null,
            u.saveNew(o, t, i, s).done(function(e, i) {
                i && this._writeConsoleError(i),
                this._writeConsoleInfo($.t("Script '{0}' has been saved").format(t)),
                this._openScript({
                    scriptSource: o,
                    scriptIdPart: e.scriptIdPart,
                    version: e.pine.version,
                    scriptName: t,
                    preserveEditorSession: !0
                })
            }
            .bind(this)).fail(function(o) {
                var s, r, a;
                n || i || "Conflict" !== o ? (a = $.t("SaveAs operation failed, reason: {0}").format(o),
                this._writeConsoleError(a)) : (s = $.t("Script '{0}' already exists. Do you really want to replace it?").format(t),
                s = w(s),
                r = b({
                    type: "modal",
                    content: s
                }),
                r.on("action:yes", function(o) {
                    i = !0,
                    n = !0,
                    this._saveScriptAs(e, t, i, n),
                    o.close()
                }
                .bind(this)),
                r.open())
            }
            .bind(this)))
        }
        ,
        n.prototype._isUserScript = function(e) {
            return /^USER;/.test(e)
        }
        ,
        n.prototype.saveButtonStartProgress = function() {
            this._ui.$buttonSave.addClass("process")
        }
        ,
        n.prototype.saveButtonStopProgress = function() {
            this._ui.$buttonSave.removeClass("process")
        }
        ,
        n.prototype._actionsButtonHandler = function() {
            this._ui.$buttonSaveAsRename.hasClass("active") || this._ui.$buttonSaveAsRename.trigger("button-popup", [this._getMenuActions()])
        }
        ,
        n.prototype._getMenuActions = function() {
            var e = [];
            return e.push({
                title: $.t("Rename..."),
                action: this._renameButtonHandler.bind(this)
            }),
            e.push({
                title: $.t("Save As..."),
                action: this._saveAsButtonHandler.bind(this)
            }),
            e
        }
        ,
        n.prototype._syncFavorite = function() {
            if (!this._currScript.scriptName)
                return void this._ui.$favTitleButton.hide();
            this._ui.$favTitleButton.toggleClass("active", this.favsModel.isFav(this._currScript.scriptIdPart)).show()
        }
        ,
        e.exports = n
    },
    2933: function(e, t, i) {
        "use strict";
        var n, o, s, r, a, l, c, d, h, u, p, f;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        n = i(8),
        i(92),
        i(3),
        i(604),
        o = i(32),
        s = i(18),
        r = i(925),
        a = i(1829),
        l = i(2501),
        c = i(56),
        d = i(48),
        i(2439),
        i(2657),
        i(2284),
        h = '<div class="tv-accordion__section-header tv-accordion__section-header--small">{{header}}</div><div class="tv-accordion__section-body">{{#items}}{{> tocItemTemplate}}{{/items}}</div>',
        u = new a.ReferenceRenderer({
            tocSectionTemplate: h
        }),
        p = '<div class="tv-pine-reference-dialog__left-column"><div class="tv-pine-reference-dialog__search-bar js-search-bar"></div><div class="tv-pine-reference-dialog__search-results i-hidden js-search-results"><div style="position: relative"></div></div><div class="tv-pine-reference-dialog__toc js-toc">' + u.getScriptReferenceTocContent() + '</div></div><div class="tv-pine-reference-dialog__right-column js-reference-content"><div class="js-reference-resize">' + u.getScriptReferenceContentHtml() + '</div></div><div class="js-dialog__scroll-wrap"><div></div></div>',
        f = function() {
            function e(t) {
                var i, r, a, d = this;
                this._onSearchKeyDownHandler = this._onSearchKeyDownHandler.bind(this),
                this._onClickAnchorItemHandler = this._onClickAnchorItemHandler.bind(this),
                this._onContentScrollHandler = this._onContentScrollHandler.bind(this),
                this._initResizable = this._initResizable.bind(this),
                this._disposeResizable = this._disposeResizable.bind(this),
                i = n.__assign({}, e._defaultOptions, t),
                r = this.dialog = s.createDialog(i),
                this._isInSearchMode = !1,
                this._isFirstOpen = !0,
                this._forceScrolToElement = !1,
                this._searchResultsElement = r.el.querySelector(".js-search-results"),
                this._tocContainerElement = r.el.querySelector(".js-toc"),
                this._contentContainerElement = r.el.querySelector(".js-reference-content"),
                this._contentSectionHeaders = Array.from(this._contentContainerElement.querySelectorAll(".tv-pine-reference-header")),
                this._searchResultScroll = new c.SidebarCustomScroll($(this._searchResultsElement),$(this._searchResultsElement.firstElementChild)),
                this._accordionWidget = new l.TvAccordion(this._tocContainerElement,{
                    customScroll: !0,
                    collapsible: !0
                }),
                this._accordionWidget.onSectionChange.subscribe(null, function(e) {
                    var t = d._accordionWidget.getSections();
                    t[t.length - 1].header.classList.toggle("tv-accordion__section-header--border-bottom", -1 === e)
                }),
                a = o.getJSON("pinereference.size", {
                    w: e._defaultWidth,
                    h: e._defaultHeight
                }),
                a.w = Math.max(e._minHeight, a.w),
                a.h = Math.max(e._minWidth, a.h),
                r.el.style.width = a.w + "px",
                r.el.style.height = a.h + "px",
                r.on("afterOpen", function() {
                    var e = r.el.querySelector(".js-reference-resize");
                    e.style.width = e.offsetWidth + "px"
                }),
                r.on("beforeOpen", this._initResizable),
                r.on("afterClose", this._disposeResizable),
                Modernizr.touch && r.el.classList.add("tv-pine-reference-dialog--touch"),
                r.el.addEventListener("click", this._onClickAnchorItemHandler),
                this._contentContainerElement.addEventListener("scroll", this._onContentScrollHandler),
                this._initSearchWidget(),
                this._initPrismJS(),
                this._initSelectable()
            }
            return e.prototype.open = function(e) {
                var t, i, n = this;
                e ? (i = e.replace(".", "{dot}"),
                t = function() {
                    n._isInSearchMode && (n._searchWidget.$input.val(""),
                    n._searchWidget.$input.trigger("input")),
                    n._forceScrolToElement = !0,
                    n._selectItem(i)
                }
                ,
                this._isFirstOpen = !1) : t = function() {
                    n._contentContainerElement.scrollTop = n._scrollPosition
                }
                ,
                this._isFirstOpen && (this._isFirstOpen = !1,
                this.dialog.once("afterOpen", function() {
                    n._accordionWidget.setActiveIndex(0),
                    n._onContentScrollHandler()
                })),
                this.dialog.isOpened() ? t() : this.dialog.once("afterOpen", t),
                this.dialog.open()
            }
            ,
            e.prototype._initSearchWidget = function() {
                var e = this
                  , t = null
                  , i = ""
                  , n = this._searchWidget = r.createSearchControl({
                    addClass: "tv-pine-reference-dialog__search-row",
                    placeholder: $.t("Search")
                });
                this.dialog.el.querySelector(".js-search-bar").appendChild(n.$control.get(0)),
                n.inputChangedDelegate.subscribe(null, function() {
                    i !== n.$input.val() && (i = n.$input.val(),
                    t && clearTimeout(t),
                    t = setTimeout(function() {
                        var i, o, s, r, a, l, c, d, h, u;
                        if (t = null,
                        i = e._searchResultsElement.firstElementChild,
                        i.innerHTML = "",
                        o = n.$input.val()) {
                            for (s = document.querySelectorAll('.tv-pine-reference-toc-item[data-name*="' + o.toLowerCase() + '"]'),
                            r = 0; r < s.length; ++r)
                                a = s[r],
                                l = a.cloneNode(!0),
                                l.classList.remove("tv-pine-reference-toc-item--selected"),
                                l.classList.remove("tv-pine-reference-toc-item--scroll-position"),
                                i.appendChild(l);
                            e._searchResultsElement.classList.remove("i-hidden"),
                            e._tocContainerElement.classList.add("i-hidden"),
                            e._isInSearchMode || e._updateScrolls(),
                            e._isInSearchMode = !0,
                            e._searchResultScroll.atStart() && e._searchResultScroll.scrollToStart()
                        } else {
                            for (e._searchResultsElement.classList.add("i-hidden"),
                            e._tocContainerElement.classList.remove("i-hidden"),
                            e._isInSearchMode = !1,
                            c = e._getTocItemsByID(e._scrollPositionItemID),
                            d = 0,
                            h = c; d < h.length; d++)
                                u = h[d],
                                e._accordionWidget.makeContentElementVisible(u);
                            e._updateScrolls()
                        }
                    }, 200))
                }),
                n.$input.get(0).addEventListener("keydown", this._onSearchKeyDownHandler)
            }
            ,
            e.prototype._initPrismJS = function() {
                var e, t, i, n = Array.from(this.dialog.el.querySelectorAll(".tv-pine-reference-item__example"));
                for (e = 0,
                t = n; e < t.length; e++)
                    i = t[e],
                    Prism.highlightElement(i.firstElementChild, !1)
            }
            ,
            e.prototype._initSelectable = function() {
                var e, t, i, n = Array.from(this._contentContainerElement.querySelectorAll(".tv-pine-reference-item__content *"));
                for (e = 0,
                t = n; e < t.length; e++)
                    i = t[e],
                    i.classList.add("selectable")
            }
            ,
            e.prototype._onSearchKeyDownHandler = function(e) {
                var t, i, n, o = this._searchWidget;
                if ("Escape" === e.key || "Esc" === e.key || "U+001B" === e.keyIdentifier)
                    return o.$input.val(""),
                    o.$input.trigger("input"),
                    e.preventDefault(),
                    void e.stopPropagation();
                "ArrowDown" !== e.key && "Down" !== e.key && "Down" !== e.keyIdentifier && "Up" !== e.key && "ArrowUp" !== e.key && "Up" !== e.keyIdentifier || (t = this._searchResultsElement.firstElementChild,
                0 !== t.children.length && (e.preventDefault(),
                e.stopPropagation(),
                i = this._getSelectedSearchResult(),
                (n = this._getNextSelectedElement(e.key || e.keyIdentifier, i, t)) && (n.click(),
                o.$input.focus())))
            }
            ,
            e.prototype._getNextSelectedElement = function(e, t, i) {
                var n = null;
                return "ArrowDown" !== e && "Down" !== e && "Down" !== e || (n = t ? t.nextElementSibling : i.children[0]),
                "ArrowUp" !== e && "Up" !== e && "Up" !== e || (n = t ? t.previousElementSibling : i.children[i.children.length - 1]),
                n
            }
            ,
            e.prototype._getSelectedSearchResult = function() {
                return this._searchResultsElement.querySelector(".tv-pine-reference-toc-item--selected")
            }
            ,
            e.prototype._getTocItemsByID = function(e) {
                return Array.from(this.dialog.el.querySelectorAll('.tv-pine-reference-toc-item[data-href="' + e + '"]'))
            }
            ,
            e.prototype._getContentItemByID = function(e) {
                return this._contentContainerElement.querySelector('.tv-pine-reference-item[id="' + e + '"]')
            }
            ,
            e.prototype._selectItem = function(e) {
                var t, i, n, o, s, r, a, l, c, d, h, u;
                if (e) {
                    if (this._selectedItemID) {
                        for (t = this._getTocItemsByID(this._selectedItemID),
                        i = 0,
                        n = t; i < n.length; i++)
                            o = n[i],
                            o.classList.remove("tv-pine-reference-toc-item--selected");
                        s = this._getContentItemByID(this._selectedItemID),
                        s && s.classList.remove("tv-pine-reference-item--selected")
                    }
                    if (r = this._getContentItemByID(e),
                    r && (r.classList.add("tv-pine-reference-item--selected"),
                    a = r.firstElementChild,
                    a.scrollIntoView()),
                    l = this._getTocItemsByID(e),
                    l.length) {
                        for (c = 0,
                        d = l; c < d.length; c++)
                            o = d[c],
                            o.classList.add("tv-pine-reference-toc-item--selected"),
                            h = this._searchResultsElement.getBoundingClientRect(),
                            u = o.getBoundingClientRect(),
                            (h.top > u.top || h.bottom < u.bottom) && this._searchResultScroll.scrollTo($(o), {
                                areaHeight: o.offsetHeight
                            });
                        this._selectedItemID = e
                    }
                }
            }
            ,
            e.prototype._markScrollPosition = function(e) {
                var t, i, n, o, s, r, a, l;
                if (this._scrollPositionItemID)
                    for (t = this._getTocItemsByID(this._scrollPositionItemID),
                    i = 0,
                    n = t; i < n.length; i++)
                        o = n[i],
                        o.classList.remove("tv-pine-reference-toc-item--scroll-position");
                if (s = this._getTocItemsByID(e),
                s.length) {
                    for (r = 0,
                    a = s; r < a.length; r++)
                        o = a[r],
                        o.classList.add("tv-pine-reference-toc-item--scroll-position"),
                        l = o,
                        l.offsetHeight && this._isInSearchMode && this._searchResultScroll.scrollTo($(o), {
                            areaHeight: o.offsetHeight
                        });
                    this._scrollPositionItemID = e
                }
            }
            ,
            e.prototype._onClickAnchorItemHandler = function(e) {
                var t, i = e.target;
                i.classList && i.classList.contains("js-reference") && (e.preventDefault(),
                e.stopPropagation(),
                t = i.getAttribute("data-href"),
                this._selectItem(t),
                this._markScrollPosition(t))
            }
            ,
            e.prototype._onContentScrollHandler = function() {
                var e, t, i, n, o, s, r, a, l, c, d, h;
                for (this._scrollPosition = this._contentContainerElement.scrollTop,
                e = this._contentSectionHeaders[0],
                t = null,
                i = this._contentContainerElement.getBoundingClientRect(),
                n = 0,
                o = this._contentSectionHeaders; n < o.length; n++)
                    s = o[n],
                    s.getBoundingClientRect().top < i.top && (e = s);
                if (e)
                    for (r = Array.from(e.nextElementSibling.children),
                    a = 0,
                    l = r; a < l.length; a++)
                        if (c = l[a],
                        d = c.firstElementChild.getBoundingClientRect(),
                        d.bottom > i.top + 10) {
                            t = c;
                            break
                        }
                t && (h = this._tocContainerElement.querySelector('[data-href$="' + t.id + '"]')) && (this._isInSearchMode || (this._accordionWidget.makeContentElementVisible(h, this._forceScrolToElement),
                this._forceScrolToElement = !1),
                this._markScrollPosition(t.id))
            }
            ,
            e.prototype._saveSizeToSettings = function() {
                var e = parseInt(this.dialog.el.style.width)
                  , t = parseInt(this.dialog.el.style.height);
                e && t && o.setJSON("pinereference.size", {
                    w: e,
                    h: t
                }, {
                    forceFlush: !0
                })
            }
            ,
            e.prototype._initResizable = function() {
                var t = this;
                d.lazyJqueryUI(this.dialog.$el).resizable({
                    handles: "s, se",
                    minHeight: e._minHeight,
                    minWidth: e._minWidth,
                    stop: function() {
                        var e = t._getContentItemByID(t._scrollPositionItemID)
                          , i = e.firstElementChild
                          , n = t._contentContainerElement.getBoundingClientRect().top
                          , o = i.getBoundingClientRect().top
                          , s = n - o
                          , r = t.dialog.el.querySelector(".js-reference-resize");
                        r.style.width = "",
                        r.style.width = r.offsetWidth + "px",
                        t._saveSizeToSettings(),
                        i.scrollIntoView(),
                        t._contentContainerElement.scrollTop = t._contentContainerElement.scrollTop + s,
                        t._updateScrolls()
                    }
                })
            }
            ,
            e.prototype._updateScrolls = function() {
                if (this._isInSearchMode)
                    this._searchResultScroll.resize();
                else {
                    var e = this._accordionWidget.getActiveSection();
                    e && e.scroll && e.scroll.resize()
                }
            }
            ,
            e.prototype._disposeResizable = function() {
                d.lazyJqueryUI(this.dialog.$el).resizable("destroy")
            }
            ,
            e._minWidth = 600,
            e._minHeight = 450,
            e._defaultWidth = 840,
            e._defaultHeight = 580,
            e._defaultOptions = {
                closeOnEsc: !1,
                closeOnOutsideClick: !1,
                content: p,
                contentWrapTemplate: '<div class="tv-pine-reference-dialog__content">',
                destroyOnClose: !1,
                focusFirstControl: !0,
                template: '<div class="tv-dialog tv-pine-reference-dialog">',
                title: $.t("Pine Script Language Reference Manual"),
                type: "popup",
                withScroll: !1
            },
            e
        }(),
        t.PineReferenceDialog = f
    },
    2956: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 8"><path fill="#595959" fill-rule="evenodd" d="M2.5 2L0 5h2v3h1V5h2zm5 4L5 3h2V0h1v3h2z"/></svg>'
    },
    2958: function(e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 14"><circle cx="5" cy="7" r="3"/></svg>'
    }
});
